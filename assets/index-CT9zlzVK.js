(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))p(A);new MutationObserver(A=>{for(const E of A)if(E.type==="childList")for(const T of E.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&p(T)}).observe(document,{childList:!0,subtree:!0});function m(A){const E={};return A.integrity&&(E.integrity=A.integrity),A.referrerPolicy&&(E.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?E.credentials="include":A.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function p(A){if(A.ep)return;A.ep=!0;const E=m(A);fetch(A.href,E)}})();var mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ug(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Rf={exports:{}},uo={};var fd;function Sm(){if(fd)return uo;fd=1;var h=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function m(p,A,E){var T=null;if(E!==void 0&&(T=""+E),A.key!==void 0&&(T=""+A.key),"key"in A){E={};for(var R in A)R!=="key"&&(E[R]=A[R])}else E=A;return A=E.ref,{$$typeof:h,type:p,key:T,ref:A!==void 0?A:null,props:E}}return uo.Fragment=g,uo.jsx=m,uo.jsxs=m,uo}var hd;function Tm(){return hd||(hd=1,Rf.exports=Sm()),Rf.exports}var Le=Tm(),If={exports:{}},yt={};var dd;function _m(){if(dd)return yt;dd=1;var h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),ae=Symbol.iterator;function me(G){return G===null||typeof G!="object"?null:(G=ae&&G[ae]||G["@@iterator"],typeof G=="function"?G:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,le={};function Re(G,ue,De){this.props=G,this.context=ue,this.refs=le,this.updater=De||$}Re.prototype.isReactComponent={},Re.prototype.setState=function(G,ue){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ue,"setState")},Re.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function Ae(){}Ae.prototype=Re.prototype;function pe(G,ue,De){this.props=G,this.context=ue,this.refs=le,this.updater=De||$}var Ue=pe.prototype=new Ae;Ue.constructor=pe,J(Ue,Re.prototype),Ue.isPureReactComponent=!0;var at=Array.isArray;function Ye(){}var ie={H:null,A:null,T:null,S:null},Je=Object.prototype.hasOwnProperty;function Ce(G,ue,De){var Me=De.ref;return{$$typeof:h,type:G,key:ue,ref:Me!==void 0?Me:null,props:De}}function vn(G,ue){return Ce(G.type,ue,G.props)}function Zt(G){return typeof G=="object"&&G!==null&&G.$$typeof===h}function je(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(De){return ue[De]})}var lt=/\/+/g;function Ot(G,ue){return typeof G=="object"&&G!==null&&G.key!=null?je(""+G.key):ue.toString(36)}function ce(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Ye,Ye):(G.status="pending",G.then(function(ue){G.status==="pending"&&(G.status="fulfilled",G.value=ue)},function(ue){G.status==="pending"&&(G.status="rejected",G.reason=ue)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ee(G,ue,De,Me,rt){var Ne=typeof G;(Ne==="undefined"||Ne==="boolean")&&(G=null);var bt=!1;if(G===null)bt=!0;else switch(Ne){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(G.$$typeof){case h:case g:bt=!0;break;case M:return bt=G._init,ee(bt(G._payload),ue,De,Me,rt)}}if(bt)return rt=rt(G),bt=Me===""?"."+Ot(G,0):Me,at(rt)?(De="",bt!=null&&(De=bt.replace(lt,"$&/")+"/"),ee(rt,ue,De,"",function(qe){return qe})):rt!=null&&(Zt(rt)&&(rt=vn(rt,De+(rt.key==null||G&&G.key===rt.key?"":(""+rt.key).replace(lt,"$&/")+"/")+bt)),ue.push(rt)),1;bt=0;var Nt=Me===""?".":Me+":";if(at(G))for(var rn=0;rn<G.length;rn++)Me=G[rn],Ne=Nt+Ot(Me,rn),bt+=ee(Me,ue,De,Ne,rt);else if(rn=me(G),typeof rn=="function")for(G=rn.call(G),rn=0;!(Me=G.next()).done;)Me=Me.value,Ne=Nt+Ot(Me,rn++),bt+=ee(Me,ue,De,Ne,rt);else if(Ne==="object"){if(typeof G.then=="function")return ee(ce(G),ue,De,Me,rt);throw ue=String(G),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return bt}function ye(G,ue,De){if(G==null)return G;var Me=[],rt=0;return ee(G,Me,"","",function(Ne){return ue.call(De,Ne,rt++)}),Me}function He(G){if(G._status===-1){var ue=G._result;ue=ue(),ue.then(function(De){(G._status===0||G._status===-1)&&(G._status=1,G._result=De)},function(De){(G._status===0||G._status===-1)&&(G._status=2,G._result=De)}),G._status===-1&&(G._status=0,G._result=ue)}if(G._status===1)return G._result.default;throw G._result}var ft=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ot={map:ye,forEach:function(G,ue,De){ye(G,function(){ue.apply(this,arguments)},De)},count:function(G){var ue=0;return ye(G,function(){ue++}),ue},toArray:function(G){return ye(G,function(ue){return ue})||[]},only:function(G){if(!Zt(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return yt.Activity=B,yt.Children=ot,yt.Component=Re,yt.Fragment=m,yt.Profiler=A,yt.PureComponent=pe,yt.StrictMode=p,yt.Suspense=D,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,yt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return ie.H.useMemoCache(G)}},yt.cache=function(G){return function(){return G.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(G,ue,De){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var Me=J({},G.props),rt=G.key;if(ue!=null)for(Ne in ue.key!==void 0&&(rt=""+ue.key),ue)!Je.call(ue,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ue.ref===void 0||(Me[Ne]=ue[Ne]);var Ne=arguments.length-2;if(Ne===1)Me.children=De;else if(1<Ne){for(var bt=Array(Ne),Nt=0;Nt<Ne;Nt++)bt[Nt]=arguments[Nt+2];Me.children=bt}return Ce(G.type,rt,Me)},yt.createContext=function(G){return G={$$typeof:T,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:E,_context:G},G},yt.createElement=function(G,ue,De){var Me,rt={},Ne=null;if(ue!=null)for(Me in ue.key!==void 0&&(Ne=""+ue.key),ue)Je.call(ue,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(rt[Me]=ue[Me]);var bt=arguments.length-2;if(bt===1)rt.children=De;else if(1<bt){for(var Nt=Array(bt),rn=0;rn<bt;rn++)Nt[rn]=arguments[rn+2];rt.children=Nt}if(G&&G.defaultProps)for(Me in bt=G.defaultProps,bt)rt[Me]===void 0&&(rt[Me]=bt[Me]);return Ce(G,Ne,rt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(G){return{$$typeof:R,render:G}},yt.isValidElement=Zt,yt.lazy=function(G){return{$$typeof:M,_payload:{_status:-1,_result:G},_init:He}},yt.memo=function(G,ue){return{$$typeof:v,type:G,compare:ue===void 0?null:ue}},yt.startTransition=function(G){var ue=ie.T,De={};ie.T=De;try{var Me=G(),rt=ie.S;rt!==null&&rt(De,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(Ye,ft)}catch(Ne){ft(Ne)}finally{ue!==null&&De.types!==null&&(ue.types=De.types),ie.T=ue}},yt.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},yt.use=function(G){return ie.H.use(G)},yt.useActionState=function(G,ue,De){return ie.H.useActionState(G,ue,De)},yt.useCallback=function(G,ue){return ie.H.useCallback(G,ue)},yt.useContext=function(G){return ie.H.useContext(G)},yt.useDebugValue=function(){},yt.useDeferredValue=function(G,ue){return ie.H.useDeferredValue(G,ue)},yt.useEffect=function(G,ue){return ie.H.useEffect(G,ue)},yt.useEffectEvent=function(G){return ie.H.useEffectEvent(G)},yt.useId=function(){return ie.H.useId()},yt.useImperativeHandle=function(G,ue,De){return ie.H.useImperativeHandle(G,ue,De)},yt.useInsertionEffect=function(G,ue){return ie.H.useInsertionEffect(G,ue)},yt.useLayoutEffect=function(G,ue){return ie.H.useLayoutEffect(G,ue)},yt.useMemo=function(G,ue){return ie.H.useMemo(G,ue)},yt.useOptimistic=function(G,ue){return ie.H.useOptimistic(G,ue)},yt.useReducer=function(G,ue,De){return ie.H.useReducer(G,ue,De)},yt.useRef=function(G){return ie.H.useRef(G)},yt.useState=function(G){return ie.H.useState(G)},yt.useSyncExternalStore=function(G,ue,De){return ie.H.useSyncExternalStore(G,ue,De)},yt.useTransition=function(){return ie.H.useTransition()},yt.version="19.2.4",yt}var gd;function Wf(){return gd||(gd=1,If.exports=_m()),If.exports}var de=Wf();const co=ug(de);var Mf={exports:{}},fo={},Df={exports:{}},Bf={};var md;function Om(){return md||(md=1,(function(h){function g(ee,ye){var He=ee.length;ee.push(ye);e:for(;0<He;){var ft=He-1>>>1,ot=ee[ft];if(0<A(ot,ye))ee[ft]=ye,ee[He]=ot,He=ft;else break e}}function m(ee){return ee.length===0?null:ee[0]}function p(ee){if(ee.length===0)return null;var ye=ee[0],He=ee.pop();if(He!==ye){ee[0]=He;e:for(var ft=0,ot=ee.length,G=ot>>>1;ft<G;){var ue=2*(ft+1)-1,De=ee[ue],Me=ue+1,rt=ee[Me];if(0>A(De,He))Me<ot&&0>A(rt,De)?(ee[ft]=rt,ee[Me]=He,ft=Me):(ee[ft]=De,ee[ue]=He,ft=ue);else if(Me<ot&&0>A(rt,He))ee[ft]=rt,ee[Me]=He,ft=Me;else break e}}return ye}function A(ee,ye){var He=ee.sortIndex-ye.sortIndex;return He!==0?He:ee.id-ye.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;h.unstable_now=function(){return E.now()}}else{var T=Date,R=T.now();h.unstable_now=function(){return T.now()-R}}var D=[],v=[],M=1,B=null,ae=3,me=!1,$=!1,J=!1,le=!1,Re=typeof setTimeout=="function"?setTimeout:null,Ae=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Ue(ee){for(var ye=m(v);ye!==null;){if(ye.callback===null)p(v);else if(ye.startTime<=ee)p(v),ye.sortIndex=ye.expirationTime,g(D,ye);else break;ye=m(v)}}function at(ee){if(J=!1,Ue(ee),!$)if(m(D)!==null)$=!0,Ye||(Ye=!0,je());else{var ye=m(v);ye!==null&&ce(at,ye.startTime-ee)}}var Ye=!1,ie=-1,Je=5,Ce=-1;function vn(){return le?!0:!(h.unstable_now()-Ce<Je)}function Zt(){if(le=!1,Ye){var ee=h.unstable_now();Ce=ee;var ye=!0;try{e:{$=!1,J&&(J=!1,Ae(ie),ie=-1),me=!0;var He=ae;try{t:{for(Ue(ee),B=m(D);B!==null&&!(B.expirationTime>ee&&vn());){var ft=B.callback;if(typeof ft=="function"){B.callback=null,ae=B.priorityLevel;var ot=ft(B.expirationTime<=ee);if(ee=h.unstable_now(),typeof ot=="function"){B.callback=ot,Ue(ee),ye=!0;break t}B===m(D)&&p(D),Ue(ee)}else p(D);B=m(D)}if(B!==null)ye=!0;else{var G=m(v);G!==null&&ce(at,G.startTime-ee),ye=!1}}break e}finally{B=null,ae=He,me=!1}ye=void 0}}finally{ye?je():Ye=!1}}}var je;if(typeof pe=="function")je=function(){pe(Zt)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,Ot=lt.port2;lt.port1.onmessage=Zt,je=function(){Ot.postMessage(null)}}else je=function(){Re(Zt,0)};function ce(ee,ye){ie=Re(function(){ee(h.unstable_now())},ye)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(ee){ee.callback=null},h.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Je=0<ee?Math.floor(1e3/ee):5},h.unstable_getCurrentPriorityLevel=function(){return ae},h.unstable_next=function(ee){switch(ae){case 1:case 2:case 3:var ye=3;break;default:ye=ae}var He=ae;ae=ye;try{return ee()}finally{ae=He}},h.unstable_requestPaint=function(){le=!0},h.unstable_runWithPriority=function(ee,ye){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var He=ae;ae=ee;try{return ye()}finally{ae=He}},h.unstable_scheduleCallback=function(ee,ye,He){var ft=h.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?ft+He:ft):He=ft,ee){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=He+ot,ee={id:M++,callback:ye,priorityLevel:ee,startTime:He,expirationTime:ot,sortIndex:-1},He>ft?(ee.sortIndex=He,g(v,ee),m(D)===null&&ee===m(v)&&(J?(Ae(ie),ie=-1):J=!0,ce(at,He-ft))):(ee.sortIndex=ot,g(D,ee),$||me||($=!0,Ye||(Ye=!0,je()))),ee},h.unstable_shouldYield=vn,h.unstable_wrapCallback=function(ee){var ye=ae;return function(){var He=ae;ae=ye;try{return ee.apply(this,arguments)}finally{ae=He}}}})(Bf)),Bf}var pd;function Nm(){return pd||(pd=1,Df.exports=Om()),Df.exports}var Lf={exports:{}},Mr={};var yd;function Rm(){if(yd)return Mr;yd=1;var h=Wf();function g(D){var v="https://react.dev/errors/"+D;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var M=2;M<arguments.length;M++)v+="&args[]="+encodeURIComponent(arguments[M])}return"Minified React error #"+D+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var p={d:{f:m,r:function(){throw Error(g(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},A=Symbol.for("react.portal");function E(D,v,M){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:B==null?null:""+B,children:D,containerInfo:v,implementation:M}}var T=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(D,v){if(D==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,Mr.createPortal=function(D,v){var M=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(g(299));return E(D,v,null,M)},Mr.flushSync=function(D){var v=T.T,M=p.p;try{if(T.T=null,p.p=2,D)return D()}finally{T.T=v,p.p=M,p.d.f()}},Mr.preconnect=function(D,v){typeof D=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,p.d.C(D,v))},Mr.prefetchDNS=function(D){typeof D=="string"&&p.d.D(D)},Mr.preinit=function(D,v){if(typeof D=="string"&&v&&typeof v.as=="string"){var M=v.as,B=R(M,v.crossOrigin),ae=typeof v.integrity=="string"?v.integrity:void 0,me=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;M==="style"?p.d.S(D,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:B,integrity:ae,fetchPriority:me}):M==="script"&&p.d.X(D,{crossOrigin:B,integrity:ae,fetchPriority:me,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Mr.preinitModule=function(D,v){if(typeof D=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var M=R(v.as,v.crossOrigin);p.d.M(D,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&p.d.M(D)},Mr.preload=function(D,v){if(typeof D=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var M=v.as,B=R(M,v.crossOrigin);p.d.L(D,M,{crossOrigin:B,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Mr.preloadModule=function(D,v){if(typeof D=="string")if(v){var M=R(v.as,v.crossOrigin);p.d.m(D,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else p.d.m(D)},Mr.requestFormReset=function(D){p.d.r(D)},Mr.unstable_batchedUpdates=function(D,v){return D(v)},Mr.useFormState=function(D,v,M){return T.H.useFormState(D,v,M)},Mr.useFormStatus=function(){return T.H.useHostTransitionStatus()},Mr.version="19.2.4",Mr}var xd;function Im(){if(xd)return Lf.exports;xd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),Lf.exports=Rm(),Lf.exports}var wd;function Mm(){if(wd)return fo;wd=1;var h=Nm(),g=Wf(),m=Im();function p(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function A(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function T(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function D(e){if(E(e)!==e)throw Error(p(188))}function v(e){var n=e.alternate;if(!n){if(n=E(e),n===null)throw Error(p(188));return n!==e?null:e}for(var l=e,c=n;;){var x=l.return;if(x===null)break;var b=x.alternate;if(b===null){if(c=x.return,c!==null){l=c;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===l)return D(x),e;if(b===c)return D(x),n;b=b.sibling}throw Error(p(188))}if(l.return!==c.return)l=x,c=b;else{for(var _=!1,L=x.child;L;){if(L===l){_=!0,l=x,c=b;break}if(L===c){_=!0,c=x,l=b;break}L=L.sibling}if(!_){for(L=b.child;L;){if(L===l){_=!0,l=b,c=x;break}if(L===c){_=!0,c=b,l=x;break}L=L.sibling}if(!_)throw Error(p(189))}}if(l.alternate!==c)throw Error(p(190))}if(l.tag!==3)throw Error(p(188));return l.stateNode.current===l?e:n}function M(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=M(e),n!==null)return n;e=e.sibling}return null}var B=Object.assign,ae=Symbol.for("react.element"),me=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Ae=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),vn=Symbol.for("react.memo_cache_sentinel"),Zt=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=Zt&&e[Zt]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Symbol.for("react.client.reference");function Ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case Re:return"Profiler";case le:return"StrictMode";case at:return"Suspense";case Ye:return"SuspenseList";case Ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case pe:return e.displayName||"Context";case Ae:return(e._context.displayName||"Context")+".Consumer";case Ue:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return n=e.displayName||null,n!==null?n:Ot(e.type)||"Memo";case Je:n=e._payload,e=e._init;try{return Ot(e(n))}catch{}}return null}var ce=Array.isArray,ee=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,He={pending:!1,data:null,method:null,action:null},ft=[],ot=-1;function G(e){return{current:e}}function ue(e){0>ot||(e.current=ft[ot],ft[ot]=null,ot--)}function De(e,n){ot++,ft[ot]=e.current,e.current=n}var Me=G(null),rt=G(null),Ne=G(null),bt=G(null);function Nt(e,n){switch(De(Ne,n),De(rt,e),De(Me,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bh(n),e=Lh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(Me),De(Me,e)}function rn(){ue(Me),ue(rt),ue(Ne)}function qe(e){e.memoizedState!==null&&De(bt,e);var n=Me.current,l=Lh(n,e.type);n!==l&&(De(rt,e),De(Me,l))}function Ln(e){rt.current===e&&(ue(Me),ue(rt)),bt.current===e&&(ue(bt),ao._currentValue=He)}var Rt,At;function Cr(e){if(Rt===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Rt=n&&n[1]||"",At=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+e+At}var Un=!1;function Bi(e,n){if(!e||Un)return"";Un=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(he){var se=he}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(he){se=he}e.call(Ee.prototype)}}else{try{throw Error()}catch(he){se=he}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(he){if(he&&se&&typeof he.stack=="string")return[he.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),_=b[0],L=b[1];if(_&&L){var Y=_.split(`
`),ne=L.split(`
`);for(x=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;if(c===Y.length||x===ne.length)for(c=Y.length-1,x=ne.length-1;1<=c&&0<=x&&Y[c]!==ne[x];)x--;for(;1<=c&&0<=x;c--,x--)if(Y[c]!==ne[x]){if(c!==1||x!==1)do if(c--,x--,0>x||Y[c]!==ne[x]){var ge=`
`+Y[c].replace(" at new "," at ");return e.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",e.displayName)),ge}while(1<=c&&0<=x);break}}}finally{Un=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Cr(l):""}function Vn(e,n){switch(e.tag){case 26:case 27:case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return e.child!==n&&n!==null?Cr("Suspense Fallback"):Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return Bi(e.type,!1);case 11:return Bi(e.type.render,!1);case 1:return Bi(e.type,!0);case 31:return Cr("Activity");default:return""}}function Qt(e){try{var n="",l=null;do n+=Vn(e,l),l=e,e=e.return;while(e);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var St=Object.prototype.hasOwnProperty,Ai=h.unstable_scheduleCallback,ze=h.unstable_cancelCallback,fa=h.unstable_shouldYield,Zi=h.unstable_requestPaint,En=h.unstable_now,Li=h.unstable_getCurrentPriorityLevel,cn=h.unstable_ImmediatePriority,ri=h.unstable_UserBlockingPriority,cr=h.unstable_NormalPriority,Mn=h.unstable_LowPriority,ha=h.unstable_IdlePriority,Ui=h.log,ki=h.unstable_setDisableYieldValue,Wt=null,_e=null;function It(e){if(typeof Ui=="function"&&ki(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Wt,e)}catch{}}var Se=Math.clz32?Math.clz32:Qi,en=Math.log,Br=Math.LN2;function Qi(e){return e>>>=0,e===0?32:31-(en(e)/Br|0)|0}var Be=256,Ct=262144,Lr=4194304;function Hr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Wi(e,n,l){var c=e.pendingLanes;if(c===0)return 0;var x=0,b=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var L=c&134217727;return L!==0?(c=L&~b,c!==0?x=Hr(c):(_&=L,_!==0?x=Hr(_):l||(l=L&~e,l!==0&&(x=Hr(l))))):(L=c&~b,L!==0?x=Hr(L):_!==0?x=Hr(_):l||(l=c&~e,l!==0&&(x=Hr(l)))),x===0?0:n!==0&&n!==x&&(n&b)===0&&(b=x&-x,l=n&-n,b>=l||b===32&&(l&4194048)!==0)?n:x}function Yn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Cl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(){var e=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),e}function fr(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vr(e,n,l,c,x,b){var _=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var L=e.entanglements,Y=e.expirationTimes,ne=e.hiddenUpdates;for(l=_&~l;0<l;){var ge=31-Se(l),Ee=1<<ge;L[ge]=0,Y[ge]=-1;var se=ne[ge];if(se!==null)for(ne[ge]=null,ge=0;ge<se.length;ge++){var he=se[ge];he!==null&&(he.lane&=-536870913)}l&=~Ee}c!==0&&da(e,c,0),b!==0&&x===0&&e.tag!==0&&(e.suspendedLanes|=b&~(_&~n))}function da(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-Se(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|l&261930}function Pt(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var c=31-Se(l),x=1<<c;x&n|e[c]&n&&(e[c]|=n),l&=~x}}function Sn(e,n){var l=n&-n;return l=(l&42)!==0?1:Jn(l),(l&(e.suspendedLanes|n))!==0?0:l}function Jn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $n(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:id(e.type))}function Fe(e,n){var l=ye.p;try{return ye.p=e,n()}finally{ye.p=l}}var dr=Math.random().toString(36).slice(2),tn="__reactFiber$"+dr,Lt="__reactProps$"+dr,kn="__reactContainer$"+dr,ii="__reactEvents$"+dr,Pa="__reactListeners$"+dr,Xn="__reactHandles$"+dr,vl="__reactResources$"+dr,Ur="__reactMarker$"+dr;function gr(e){delete e[tn],delete e[Lt],delete e[ii],delete e[Pa],delete e[Xn]}function An(e){var n=e[tn];if(n)return n;for(var l=e.parentNode;l;){if(n=l[kn]||l[tn]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Hh(e);e!==null;){if(l=e[tn])return l;e=Hh(e)}return n}e=l,l=e.parentNode}return null}function nt(e){if(e=e[tn]||e[kn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(p(33))}function Tn(e){var n=e[vl];return n||(n=e[vl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _n(e){e[Ur]=!0}var be=new Set,ga={};function Yt(e,n){mr(e,n),mr(e+"Capture",n)}function mr(e,n){for(ga[e]=n,e=0;e<n.length;e++)be.add(n[e])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ut={},Tt={};function vt(e){return St.call(Tt,e)?!0:St.call(Ut,e)?!1:zi.test(e)?Tt[e]=!0:(Ut[e]=!0,!1)}function gt(e,n,l){if(vt(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Fi(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function _r(e,n,l,c){if(c===null)e.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+c)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zl(e,n,l){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,b=c.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return x.call(this)},set:function(_){l=""+_,b.call(this,_)}}),Object.defineProperty(e,n,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fn(e){if(!e._valueTracker){var n=pr(e)?"checked":"value";e._valueTracker=Zl(e,n,""+e[n])}}function Vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),c="";return e&&(c=pr(e)?e.checked?"true":"false":e.value),e=c,e!==l?(n.setValue(e),!0):!1}function Gt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yr=/[\n"\\]/g;function dt(e){return e.replace(Yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function yn(e,n,l,c,x,b,_,L){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mt(n)):e.value!==""+Mt(n)&&(e.value=""+Mt(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?P(e,_,Mt(n)):l!=null?P(e,_,Mt(l)):c!=null&&e.removeAttribute("value"),x==null&&b!=null&&(e.defaultChecked=!!b),x!=null&&(e.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Mt(L):e.removeAttribute("name")}function Q(e,n,l,c,x,b,_,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),n!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||n!=null)){fn(e);return}l=l!=null?""+Mt(l):"",n=n!=null?""+Mt(n):l,L||n===e.value||(e.value=n),e.defaultValue=n}c=c??x,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=L?e.checked:!!c,e.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),fn(e)}function P(e,n,l){n==="number"&&Gt(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ge(e,n,l,c){if(e=e.options,n){n={};for(var x=0;x<l.length;x++)n["$"+l[x]]=!0;for(l=0;l<e.length;l++)x=n.hasOwnProperty("$"+e[l].value),e[l].selected!==x&&(e[l].selected=x),x&&c&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),n=null,x=0;x<e.length;x++){if(e[x].value===l){e[x].selected=!0,c&&(e[x].defaultSelected=!0);return}n!==null||e[x].disabled||(n=e[x])}n!==null&&(n.selected=!0)}}function Rn(e,n,l){if(n!=null&&(n=""+Mt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Mt(l):""}function er(e,n,l,c){if(n==null){if(c!=null){if(l!=null)throw Error(p(92));if(ce(c)){if(1<c.length)throw Error(p(93));c=c[0]}l=c}l==null&&(l=""),n=l}l=Mt(n),e.defaultValue=l,c=e.textContent,c===l&&c!==""&&c!==null&&(e.value=c),fn(e)}function Pi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Sl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ut(e,n,l){var c=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,l):typeof l!="number"||l===0||Sl.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Qe(e,n,l){if(n!=null&&typeof n!="object")throw Error(p(62));if(e=e.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var x in n)c=n[x],n.hasOwnProperty(x)&&l[x]!==c&&ut(e,x,c)}else for(var b in n)n.hasOwnProperty(b)&&ut(e,b,n[b])}function an(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ql=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(e){return yr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function lr(){}var Or=null;function ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hn=null,Jt=null;function zn(e){var n=nt(e);if(n&&(e=n.stateNode)){var l=e[Lt]||null;e:switch(e=n.stateNode,n.type){case"input":if(yn(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+dt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var c=l[n];if(c!==e&&c.form===e.form){var x=c[Lt]||null;if(!x)throw Error(p(90));yn(c,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(n=0;n<l.length;n++)c=l[n],c.form===e.form&&Vr(c)}break e;case"textarea":Rn(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ge(e,!!l.multiple,n,!1)}}}var We=!1;function Ji(e,n,l){if(We)return e(n,l);We=!0;try{var c=e(n);return c}finally{if(We=!1,(hn!==null||Jt!==null)&&(nu(),hn&&(n=hn,e=Jt,Jt=hn=null,zn(n),e)))for(n=0;n<e.length;n++)zn(e[n])}}function st(e,n){var l=e.stateNode;if(l===null)return null;var c=l[Lt]||null;if(c===null)return null;l=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(p(231,n,typeof l));return l}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=!1;if(kt)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Tl=!1}var zr=null,Gr=null,$i=null;function Xr(){if($i)return $i;var e,n=Gr,l=n.length,c,x="value"in zr?zr.value:zr.textContent,b=x.length;for(e=0;e<l&&n[e]===x[e];e++);var _=l-e;for(c=1;c<=_&&n[l-c]===x[b-c];c++);return $i=x.slice(e,1<c?1-c:void 0)}function qr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ai(){return!0}function _l(){return!1}function Cn(e){function n(l,c,x,b,_){this._reactName=l,this._targetInst=x,this.type=c,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(l=e[L],this[L]=l?l(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ai:_l,this.isPropagationStopped=_l,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),n}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qn=Cn(Fr),li=B({},Fr,{view:0,detail:0}),ma=Cn(li),ea,Ol,pa,Ha=B({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(ea=e.screenX-pa.screenX,Ol=e.screenY-pa.screenY):Ol=ea=0,pa=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),jt=Cn(Ha),Va=B({},Ha,{dataTransfer:0}),ya=Cn(Va),Pr=B({},li,{relatedTarget:0}),ta=Cn(Pr),oe=B({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),mt=Cn(oe),Kn=B({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),si=Cn(Kn),Ya=B({},Fr,{data:0}),Ga=Cn(Ya),Nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Fn[e])?!!n[e]:!1}function oi(){return xn}var wn=B({},li,{key:function(e){if(e.key){var n=Nl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oi,charCode:function(e){return e.type==="keypress"?qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ji=Cn(wn),Ci=B({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xt=Cn(Ci),$e=B({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oi}),Il=Cn($e),Ht=B({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ui=Cn(Ht),vi=B({},Ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Cn(vi),Nr=B({},Fr,{newState:0,oldState:0}),qa=Cn(Nr),Wl=[9,13,27,32],Hi=kt&&"CompositionEvent"in window,ci=null;kt&&"documentMode"in document&&(ci=document.documentMode);var Jl=kt&&"TextEvent"in window&&!ci,Ka=kt&&(!Hi||ci&&8<ci&&11>=ci),fi=" ",Za=!1;function Ml(e,n){switch(e){case"keyup":return Wl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function hi(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(Za=!0,fi);case"textInput":return e=n.data,e===fi&&Za?null:e;default:return null}}function Qa(e,n){if(Vi)return e==="compositionend"||!Hi&&Ml(e,n)?(e=Xr(),$i=Gr=zr=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ka&&n.locale!=="ko"?null:n.data;default:return null}}var xr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!xr[e.type]:n==="textarea"}function Rr(e,n,l,c){hn?Jt?Jt.push(c):Jt=[c]:hn=c,n=uu(n,"onChange"),0<n.length&&(l=new qn("onChange","change",null,l,c),e.push({event:l,listeners:n}))}var ra=null,Yi=null;function Rs(e){Oh(e,0)}function wa(e){var n=Tr(e);if(Vr(n))return e}function or(e,n){if(e==="change")return n}var Kr=!1;if(kt){var ln;if(kt){var Zr="oninput"in document;if(!Zr){var xt=document.createElement("div");xt.setAttribute("oninput","return;"),Zr=typeof xt.oninput=="function"}ln=Zr}else ln=!1;Kr=ln&&(!document.documentMode||9<document.documentMode)}function ba(){ra&&(ra.detachEvent("onpropertychange",N),Yi=ra=null)}function N(e){if(e.propertyName==="value"&&wa(Yi)){var n=[];Rr(n,Yi,e,ja(e)),Ji(Rs,n)}}function t(e,n,l){e==="focusin"?(ba(),ra=n,Yi=l,ra.attachEvent("onpropertychange",N)):e==="focusout"&&ba()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(Yi)}function a(e,n){if(e==="click")return wa(n)}function s(e,n){if(e==="input"||e==="change")return wa(n)}function u(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var f=typeof Object.is=="function"?Object.is:u;function i(e,n){if(f(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var x=l[c];if(!St.call(n,x)||!f(e[x],n[x]))return!1}return!0}function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d(e,n){var l=o(e);e=0;for(var c;l;){if(l.nodeType===3){if(c=e+l.textContent.length,e<=n&&c>=n)return{node:l,offset:n-e};e=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=o(l)}}function y(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?y(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function w(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Gt(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Gt(e.document)}return n}function C(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var S=kt&&"documentMode"in document&&11>=document.documentMode,O=null,I=null,k=null,U=!1;function z(e,n,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;U||O==null||O!==Gt(c)||(c=O,"selectionStart"in c&&C(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),k&&i(k,c)||(k=c,c=uu(I,"onSelect"),0<c.length&&(n=new qn("onSelect","select",null,n,l),e.push({event:n,listeners:c}),n.target=O)))}function j(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var F={animationend:j("Animation","AnimationEnd"),animationiteration:j("Animation","AnimationIteration"),animationstart:j("Animation","AnimationStart"),transitionrun:j("Transition","TransitionRun"),transitionstart:j("Transition","TransitionStart"),transitioncancel:j("Transition","TransitionCancel"),transitionend:j("Transition","TransitionEnd")},V={},H={};kt&&(H=document.createElement("div").style,"AnimationEvent"in window||(delete F.animationend.animation,delete F.animationiteration.animation,delete F.animationstart.animation),"TransitionEvent"in window||delete F.transitionend.transition);function K(e){if(V[e])return V[e];if(!F[e])return e;var n=F[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in H)return V[e]=n[l];return e}var W=K("animationend"),q=K("animationiteration"),re=K("animationstart"),xe=K("transitionrun"),Oe=K("transitionstart"),Ie=K("transitioncancel"),ve=K("transitionend"),Pe=new Map,ke="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ke.push("scrollEnd");function Te(e,n){Pe.set(e,n),Yt(n,[e])}var Ve=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ht=[],_t=0,et=0;function pt(){for(var e=_t,n=et=_t=0;n<e;){var l=ht[n];ht[n++]=null;var c=ht[n];ht[n++]=null;var x=ht[n];ht[n++]=null;var b=ht[n];if(ht[n++]=null,c!==null&&x!==null){var _=c.pending;_===null?x.next=x:(x.next=_.next,_.next=x),c.pending=x}b!==0&&ia(l,x,b)}}function dn(e,n,l,c){ht[_t++]=e,ht[_t++]=n,ht[_t++]=l,ht[_t++]=c,et|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ir(e,n,l,c){return dn(e,n,l,c),Wa(e)}function nn(e,n){return dn(e,null,null,n),Wa(e)}function ia(e,n,l){e.lanes|=l;var c=e.alternate;c!==null&&(c.lanes|=l);for(var x=!1,b=e.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(x=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,x&&n!==null&&(x=31-Se(l),e=b.hiddenUpdates,c=e[x],c===null?e[x]=[n]:c.push(n),n.lane=l|536870912),b):null}function Wa(e){if(50<Js)throw Js=0,$c=null,Error(p(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var $l={};function o2(e,n,l,c){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,n,l,c){return new o2(e,n,l,c)}function Gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,n){var l=e.alternate;return l===null?(l=di(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function c0(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function To(e,n,l,c,x,b){var _=0;if(c=e,typeof e=="function")Gu(e)&&(_=1);else if(typeof e=="string")_=dm(e,l,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ce:return e=di(31,l,n,x),e.elementType=Ce,e.lanes=b,e;case J:return Dl(l.children,x,b,n);case le:_=8,x|=24;break;case Re:return e=di(12,l,n,x|2),e.elementType=Re,e.lanes=b,e;case at:return e=di(13,l,n,x),e.elementType=at,e.lanes=b,e;case Ye:return e=di(19,l,n,x),e.elementType=Ye,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:_=10;break e;case Ae:_=9;break e;case Ue:_=11;break e;case ie:_=14;break e;case Je:_=16,c=null;break e}_=29,l=Error(p(130,e===null?"null":typeof e,"")),c=null}return n=di(_,l,n,x),n.elementType=e,n.type=c,n.lanes=b,n}function Dl(e,n,l,c){return e=di(7,e,c,n),e.lanes=l,e}function Xu(e,n,l){return e=di(6,e,null,n),e.lanes=l,e}function f0(e){var n=di(18,null,null,0);return n.stateNode=e,n}function qu(e,n,l){return n=di(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var h0=new WeakMap;function Si(e,n){if(typeof e=="object"&&e!==null){var l=h0.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Qt(n)},h0.set(e,n),n)}return{value:e,source:n,stack:Qt(n)}}var es=[],ts=0,_o=null,Is=0,Ti=[],_i=0,Ja=null,aa=1,la="";function Aa(e,n){es[ts++]=Is,es[ts++]=_o,_o=e,Is=n}function d0(e,n,l){Ti[_i++]=aa,Ti[_i++]=la,Ti[_i++]=Ja,Ja=e;var c=aa;e=la;var x=32-Se(c)-1;c&=~(1<<x),l+=1;var b=32-Se(n)+x;if(30<b){var _=x-x%5;b=(c&(1<<_)-1).toString(32),c>>=_,x-=_,aa=1<<32-Se(n)+x|l<<x|c,la=b+e}else aa=1<<b|l<<x|c,la=e}function Ku(e){e.return!==null&&(Aa(e,1),d0(e,1,0))}function Zu(e){for(;e===_o;)_o=es[--ts],es[ts]=null,Is=es[--ts],es[ts]=null;for(;e===Ja;)Ja=Ti[--_i],Ti[_i]=null,la=Ti[--_i],Ti[_i]=null,aa=Ti[--_i],Ti[_i]=null}function g0(e,n){Ti[_i++]=aa,Ti[_i++]=la,Ti[_i++]=Ja,aa=n.id,la=n.overflow,Ja=e}var wr=null,On=null,Vt=!1,$a=null,Oi=!1,Qu=Error(p(519));function el(e){var n=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ms(Si(n,e)),Qu}function m0(e){var n=e.stateNode,l=e.type,c=e.memoizedProps;switch(n[tn]=e,n[Lt]=c,l){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(l=0;l<eo.length;l++)Bt(eo[l],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),Q(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),er(n,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||c.suppressHydrationWarning===!0||Mh(n.textContent,l)?(c.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),c.onScroll!=null&&Bt("scroll",n),c.onScrollEnd!=null&&Bt("scrollend",n),c.onClick!=null&&(n.onclick=lr),n=!0):n=!1,n||el(e,!0)}function p0(e){for(wr=e.return;wr;)switch(wr.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:wr=wr.return}}function ns(e){if(e!==wr)return!1;if(!Vt)return p0(e),Vt=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||mf(e.type,e.memoizedProps)),l=!l),l&&On&&el(e),p0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));On=jh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));On=jh(e)}else n===27?(n=On,gl(e.type)?(e=bf,bf=null,On=e):On=n):On=wr?Ri(e.stateNode.nextSibling):null;return!0}function Bl(){On=wr=null,Vt=!1}function Wu(){var e=$a;return e!==null&&($r===null?$r=e:$r.push.apply($r,e),$a=null),e}function Ms(e){$a===null?$a=[e]:$a.push(e)}var Ju=G(null),Ll=null,Ca=null;function tl(e,n,l){De(Ju,n._currentValue),n._currentValue=l}function va(e){e._currentValue=Ju.current,ue(Ju)}function $u(e,n,l){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===l)break;e=e.return}}function ec(e,n,l,c){var x=e.child;for(x!==null&&(x.return=e);x!==null;){var b=x.dependencies;if(b!==null){var _=x.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=x;for(var Y=0;Y<n.length;Y++)if(L.context===n[Y]){b.lanes|=l,L=b.alternate,L!==null&&(L.lanes|=l),$u(b.return,l,e),c||(_=null);break e}b=L.next}}else if(x.tag===18){if(_=x.return,_===null)throw Error(p(341));_.lanes|=l,b=_.alternate,b!==null&&(b.lanes|=l),$u(_,l,e),_=null}else _=x.child;if(_!==null)_.return=x;else for(_=x;_!==null;){if(_===e){_=null;break}if(x=_.sibling,x!==null){x.return=_.return,_=x;break}_=_.return}x=_}}function rs(e,n,l,c){e=null;for(var x=n,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var _=x.alternate;if(_===null)throw Error(p(387));if(_=_.memoizedProps,_!==null){var L=x.type;f(x.pendingProps.value,_.value)||(e!==null?e.push(L):e=[L])}}else if(x===bt.current){if(_=x.alternate,_===null)throw Error(p(387));_.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(e!==null?e.push(ao):e=[ao])}x=x.return}e!==null&&ec(n,e,l,c),n.flags|=262144}function Oo(e){for(e=e.firstContext;e!==null;){if(!f(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ul(e){Ll=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function br(e){return y0(Ll,e)}function No(e,n){return Ll===null&&Ul(e),y0(e,n)}function y0(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Ca===null){if(e===null)throw Error(p(308));Ca=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ca=Ca.next=n;return l}var u2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},c2=h.unstable_scheduleCallback,f2=h.unstable_NormalPriority,nr={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new u2,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&c2(f2,function(){e.controller.abort()})}var Bs=null,nc=0,is=0,as=null;function h2(e,n){if(Bs===null){var l=Bs=[];nc=0,is=lf(),as={status:"pending",value:void 0,then:function(c){l.push(c)}}}return nc++,n.then(x0,x0),n}function x0(){if(--nc===0&&Bs!==null){as!==null&&(as.status="fulfilled");var e=Bs;Bs=null,is=0,as=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d2(e,n){var l=[],c={status:"pending",value:null,reason:null,then:function(x){l.push(x)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var x=0;x<l.length;x++)(0,l[x])(n)},function(x){for(c.status="rejected",c.reason=x,x=0;x<l.length;x++)(0,l[x])(void 0)}),c}var w0=ee.S;ee.S=function(e,n){nh=En(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h2(e,n),w0!==null&&w0(e,n)};var kl=G(null);function rc(){var e=kl.current;return e!==null?e:bn.pooledCache}function Ro(e,n){n===null?De(kl,kl.current):De(kl,n.pool)}function b0(){var e=rc();return e===null?null:{parent:nr._currentValue,pool:e}}var ls=Error(p(460)),ic=Error(p(474)),Io=Error(p(542)),Mo={then:function(){}};function E0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function A0(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(lr,lr),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,v0(e),e;default:if(typeof n.status=="string")n.then(lr,lr);else{if(e=bn,e!==null&&100<e.shellSuspendCounter)throw Error(p(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var x=n;x.status="fulfilled",x.value=c}},function(c){if(n.status==="pending"){var x=n;x.status="rejected",x.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,v0(e),e}throw Fl=n,ls}}function zl(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fl=l,ls):l}}var Fl=null;function C0(){if(Fl===null)throw Error(p(459));var e=Fl;return Fl=null,e}function v0(e){if(e===ls||e===Io)throw Error(p(483))}var ss=null,Ls=0;function Do(e){var n=Ls;return Ls+=1,ss===null&&(ss=[]),A0(ss,e,n)}function Us(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bo(e,n){throw n.$$typeof===ae?Error(p(525)):(e=Object.prototype.toString.call(n),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function S0(e){function n(Z,X){if(e){var te=Z.deletions;te===null?(Z.deletions=[X],Z.flags|=16):te.push(X)}}function l(Z,X){if(!e)return null;for(;X!==null;)n(Z,X),X=X.sibling;return null}function c(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function x(Z,X){return Z=Ea(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,te){return Z.index=te,e?(te=Z.alternate,te!==null?(te=te.index,te<X?(Z.flags|=67108866,X):te):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function _(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function L(Z,X,te,we){return X===null||X.tag!==6?(X=Xu(te,Z.mode,we),X.return=Z,X):(X=x(X,te),X.return=Z,X)}function Y(Z,X,te,we){var tt=te.type;return tt===J?ge(Z,X,te.props.children,we,te.key):X!==null&&(X.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Je&&zl(tt)===X.type)?(X=x(X,te.props),Us(X,te),X.return=Z,X):(X=To(te.type,te.key,te.props,null,Z.mode,we),Us(X,te),X.return=Z,X)}function ne(Z,X,te,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==te.containerInfo||X.stateNode.implementation!==te.implementation?(X=qu(te,Z.mode,we),X.return=Z,X):(X=x(X,te.children||[]),X.return=Z,X)}function ge(Z,X,te,we,tt){return X===null||X.tag!==7?(X=Dl(te,Z.mode,we,tt),X.return=Z,X):(X=x(X,te),X.return=Z,X)}function Ee(Z,X,te){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Xu(""+X,Z.mode,te),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case me:return te=To(X.type,X.key,X.props,null,Z.mode,te),Us(te,X),te.return=Z,te;case $:return X=qu(X,Z.mode,te),X.return=Z,X;case Je:return X=zl(X),Ee(Z,X,te)}if(ce(X)||je(X))return X=Dl(X,Z.mode,te,null),X.return=Z,X;if(typeof X.then=="function")return Ee(Z,Do(X),te);if(X.$$typeof===pe)return Ee(Z,No(Z,X),te);Bo(Z,X)}return null}function se(Z,X,te,we){var tt=X!==null?X.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return tt!==null?null:L(Z,X,""+te,we);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case me:return te.key===tt?Y(Z,X,te,we):null;case $:return te.key===tt?ne(Z,X,te,we):null;case Je:return te=zl(te),se(Z,X,te,we)}if(ce(te)||je(te))return tt!==null?null:ge(Z,X,te,we,null);if(typeof te.then=="function")return se(Z,X,Do(te),we);if(te.$$typeof===pe)return se(Z,X,No(Z,te),we);Bo(Z,te)}return null}function he(Z,X,te,we,tt){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Z=Z.get(te)||null,L(X,Z,""+we,tt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case me:return Z=Z.get(we.key===null?te:we.key)||null,Y(X,Z,we,tt);case $:return Z=Z.get(we.key===null?te:we.key)||null,ne(X,Z,we,tt);case Je:return we=zl(we),he(Z,X,te,we,tt)}if(ce(we)||je(we))return Z=Z.get(te)||null,ge(X,Z,we,tt,null);if(typeof we.then=="function")return he(Z,X,te,Do(we),tt);if(we.$$typeof===pe)return he(Z,X,te,No(X,we),tt);Bo(X,we)}return null}function Ke(Z,X,te,we){for(var tt=null,qt=null,Ze=X,Et=X=0,Ft=null;Ze!==null&&Et<te.length;Et++){Ze.index>Et?(Ft=Ze,Ze=null):Ft=Ze.sibling;var Kt=se(Z,Ze,te[Et],we);if(Kt===null){Ze===null&&(Ze=Ft);break}e&&Ze&&Kt.alternate===null&&n(Z,Ze),X=b(Kt,X,Et),qt===null?tt=Kt:qt.sibling=Kt,qt=Kt,Ze=Ft}if(Et===te.length)return l(Z,Ze),Vt&&Aa(Z,Et),tt;if(Ze===null){for(;Et<te.length;Et++)Ze=Ee(Z,te[Et],we),Ze!==null&&(X=b(Ze,X,Et),qt===null?tt=Ze:qt.sibling=Ze,qt=Ze);return Vt&&Aa(Z,Et),tt}for(Ze=c(Ze);Et<te.length;Et++)Ft=he(Ze,Z,Et,te[Et],we),Ft!==null&&(e&&Ft.alternate!==null&&Ze.delete(Ft.key===null?Et:Ft.key),X=b(Ft,X,Et),qt===null?tt=Ft:qt.sibling=Ft,qt=Ft);return e&&Ze.forEach(function(wl){return n(Z,wl)}),Vt&&Aa(Z,Et),tt}function it(Z,X,te,we){if(te==null)throw Error(p(151));for(var tt=null,qt=null,Ze=X,Et=X=0,Ft=null,Kt=te.next();Ze!==null&&!Kt.done;Et++,Kt=te.next()){Ze.index>Et?(Ft=Ze,Ze=null):Ft=Ze.sibling;var wl=se(Z,Ze,Kt.value,we);if(wl===null){Ze===null&&(Ze=Ft);break}e&&Ze&&wl.alternate===null&&n(Z,Ze),X=b(wl,X,Et),qt===null?tt=wl:qt.sibling=wl,qt=wl,Ze=Ft}if(Kt.done)return l(Z,Ze),Vt&&Aa(Z,Et),tt;if(Ze===null){for(;!Kt.done;Et++,Kt=te.next())Kt=Ee(Z,Kt.value,we),Kt!==null&&(X=b(Kt,X,Et),qt===null?tt=Kt:qt.sibling=Kt,qt=Kt);return Vt&&Aa(Z,Et),tt}for(Ze=c(Ze);!Kt.done;Et++,Kt=te.next())Kt=he(Ze,Z,Et,Kt.value,we),Kt!==null&&(e&&Kt.alternate!==null&&Ze.delete(Kt.key===null?Et:Kt.key),X=b(Kt,X,Et),qt===null?tt=Kt:qt.sibling=Kt,qt=Kt);return e&&Ze.forEach(function(vm){return n(Z,vm)}),Vt&&Aa(Z,Et),tt}function pn(Z,X,te,we){if(typeof te=="object"&&te!==null&&te.type===J&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case me:e:{for(var tt=te.key;X!==null;){if(X.key===tt){if(tt=te.type,tt===J){if(X.tag===7){l(Z,X.sibling),we=x(X,te.props.children),we.return=Z,Z=we;break e}}else if(X.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Je&&zl(tt)===X.type){l(Z,X.sibling),we=x(X,te.props),Us(we,te),we.return=Z,Z=we;break e}l(Z,X);break}else n(Z,X);X=X.sibling}te.type===J?(we=Dl(te.props.children,Z.mode,we,te.key),we.return=Z,Z=we):(we=To(te.type,te.key,te.props,null,Z.mode,we),Us(we,te),we.return=Z,Z=we)}return _(Z);case $:e:{for(tt=te.key;X!==null;){if(X.key===tt)if(X.tag===4&&X.stateNode.containerInfo===te.containerInfo&&X.stateNode.implementation===te.implementation){l(Z,X.sibling),we=x(X,te.children||[]),we.return=Z,Z=we;break e}else{l(Z,X);break}else n(Z,X);X=X.sibling}we=qu(te,Z.mode,we),we.return=Z,Z=we}return _(Z);case Je:return te=zl(te),pn(Z,X,te,we)}if(ce(te))return Ke(Z,X,te,we);if(je(te)){if(tt=je(te),typeof tt!="function")throw Error(p(150));return te=tt.call(te),it(Z,X,te,we)}if(typeof te.then=="function")return pn(Z,X,Do(te),we);if(te.$$typeof===pe)return pn(Z,X,No(Z,te),we);Bo(Z,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,X!==null&&X.tag===6?(l(Z,X.sibling),we=x(X,te),we.return=Z,Z=we):(l(Z,X),we=Xu(te,Z.mode,we),we.return=Z,Z=we),_(Z)):l(Z,X)}return function(Z,X,te,we){try{Ls=0;var tt=pn(Z,X,te,we);return ss=null,tt}catch(Ze){if(Ze===ls||Ze===Io)throw Ze;var qt=di(29,Ze,null,Z.mode);return qt.lanes=we,qt.return=Z,qt}}}var Pl=S0(!0),T0=S0(!1),nl=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function il(e,n,l){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var x=c.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),c.pending=n,n=Wa(e),ia(e,null,l),n}return dn(e,c,n,l),Wa(e)}function ks(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,Pt(e,l)}}function sc(e,n){var l=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var x=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?x=b=_:b=b.next=_,l=l.next}while(l!==null);b===null?x=b=n:b=b.next=n}else x=b=n;l={baseState:c.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var oc=!1;function zs(){if(oc){var e=as;if(e!==null)throw e}}function Fs(e,n,l,c){oc=!1;var x=e.updateQueue;nl=!1;var b=x.firstBaseUpdate,_=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var Y=L,ne=Y.next;Y.next=null,_===null?b=ne:_.next=ne,_=Y;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,L=ge.lastBaseUpdate,L!==_&&(L===null?ge.firstBaseUpdate=ne:L.next=ne,ge.lastBaseUpdate=Y))}if(b!==null){var Ee=x.baseState;_=0,ge=ne=Y=null,L=b;do{var se=L.lane&-536870913,he=se!==L.lane;if(he?(zt&se)===se:(c&se)===se){se!==0&&se===is&&(oc=!0),ge!==null&&(ge=ge.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Ke=e,it=L;se=n;var pn=l;switch(it.tag){case 1:if(Ke=it.payload,typeof Ke=="function"){Ee=Ke.call(pn,Ee,se);break e}Ee=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=it.payload,se=typeof Ke=="function"?Ke.call(pn,Ee,se):Ke,se==null)break e;Ee=B({},Ee,se);break e;case 2:nl=!0}}se=L.callback,se!==null&&(e.flags|=64,he&&(e.flags|=8192),he=x.callbacks,he===null?x.callbacks=[se]:he.push(se))}else he={lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ge===null?(ne=ge=he,Y=Ee):ge=ge.next=he,_|=se;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;he=L,L=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);ge===null&&(Y=Ee),x.baseState=Y,x.firstBaseUpdate=ne,x.lastBaseUpdate=ge,b===null&&(x.shared.lanes=0),ul|=_,e.lanes=_,e.memoizedState=Ee}}function _0(e,n){if(typeof e!="function")throw Error(p(191,e));e.call(n)}function O0(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)_0(l[e],n)}var os=G(null),Lo=G(0);function N0(e,n){e=Da,De(Lo,e),De(os,n),Da=e|n.baseLanes}function uc(){De(Lo,Da),De(os,os.current)}function cc(){Da=Lo.current,ue(os),ue(Lo)}var gi=G(null),Ni=null;function al(e){var n=e.alternate;De(Zn,Zn.current&1),De(gi,e),Ni===null&&(n===null||os.current!==null||n.memoizedState!==null)&&(Ni=e)}function fc(e){De(Zn,Zn.current),De(gi,e),Ni===null&&(Ni=e)}function R0(e){e.tag===22?(De(Zn,Zn.current),De(gi,e),Ni===null&&(Ni=e)):ll()}function ll(){De(Zn,Zn.current),De(gi,gi.current)}function mi(e){ue(gi),Ni===e&&(Ni=null),ue(Zn)}var Zn=G(0);function Uo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xf(l)||wf(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Sa=0,wt=null,gn=null,rr=null,ko=!1,us=!1,jl=!1,zo=0,Ps=0,cs=null,g2=0;function Pn(){throw Error(p(321))}function hc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!f(e[l],n[l]))return!1;return!0}function dc(e,n,l,c,x,b){return Sa=b,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ee.H=e===null||e.memoizedState===null?d1:Oc,jl=!1,b=l(c,x),jl=!1,us&&(b=M0(n,l,c,x)),I0(e),b}function I0(e){ee.H=Vs;var n=gn!==null&&gn.next!==null;if(Sa=0,rr=gn=wt=null,ko=!1,Ps=0,cs=null,n)throw Error(p(300));e===null||ir||(e=e.dependencies,e!==null&&Oo(e)&&(ir=!0))}function M0(e,n,l,c){wt=e;var x=0;do{if(us&&(cs=null),Ps=0,us=!1,25<=x)throw Error(p(301));if(x+=1,rr=gn=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}ee.H=g1,b=n(l,c)}while(us);return b}function m2(){var e=ee.H,n=e.useState()[0];return n=typeof n.then=="function"?js(n):n,e=e.useState()[0],(gn!==null?gn.memoizedState:null)!==e&&(wt.flags|=1024),n}function gc(){var e=zo!==0;return zo=0,e}function mc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function pc(e){if(ko){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ko=!1}Sa=0,rr=gn=wt=null,us=!1,Ps=zo=0,cs=null}function jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?wt.memoizedState=rr=e:rr=rr.next=e,rr}function Qn(){if(gn===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=gn.next;var n=rr===null?wt.memoizedState:rr.next;if(n!==null)rr=n,gn=e;else{if(e===null)throw wt.alternate===null?Error(p(467)):Error(p(310));gn=e,e={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},rr===null?wt.memoizedState=rr=e:rr=rr.next=e}return rr}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function js(e){var n=Ps;return Ps+=1,cs===null&&(cs=[]),e=A0(cs,e,n),n=wt,(rr===null?n.memoizedState:rr.next)===null&&(n=n.alternate,ee.H=n===null||n.memoizedState===null?d1:Oc),e}function Po(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return js(e);if(e.$$typeof===pe)return br(e)}throw Error(p(438,String(e)))}function yc(e){var n=null,l=wt.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var c=wt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(x){return x.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Fo(),wt.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),c=0;c<e;c++)l[c]=vn;return n.index++,l}function Ta(e,n){return typeof n=="function"?n(e):n}function jo(e){var n=Qn();return xc(n,gn,e)}function xc(e,n,l){var c=e.queue;if(c===null)throw Error(p(311));c.lastRenderedReducer=l;var x=e.baseQueue,b=c.pending;if(b!==null){if(x!==null){var _=x.next;x.next=b.next,b.next=_}n.baseQueue=x=b,c.pending=null}if(b=e.baseState,x===null)e.memoizedState=b;else{n=x.next;var L=_=null,Y=null,ne=n,ge=!1;do{var Ee=ne.lane&-536870913;if(Ee!==ne.lane?(zt&Ee)===Ee:(Sa&Ee)===Ee){var se=ne.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),Ee===is&&(ge=!0);else if((Sa&se)===se){ne=ne.next,se===is&&(ge=!0);continue}else Ee={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(L=Y=Ee,_=b):Y=Y.next=Ee,wt.lanes|=se,ul|=se;Ee=ne.action,jl&&l(b,Ee),b=ne.hasEagerState?ne.eagerState:l(b,Ee)}else se={lane:Ee,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},Y===null?(L=Y=se,_=b):Y=Y.next=se,wt.lanes|=Ee,ul|=Ee;ne=ne.next}while(ne!==null&&ne!==n);if(Y===null?_=b:Y.next=L,!f(b,e.memoizedState)&&(ir=!0,ge&&(l=as,l!==null)))throw l;e.memoizedState=b,e.baseState=_,e.baseQueue=Y,c.lastRenderedState=b}return x===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function wc(e){var n=Qn(),l=n.queue;if(l===null)throw Error(p(311));l.lastRenderedReducer=e;var c=l.dispatch,x=l.pending,b=n.memoizedState;if(x!==null){l.pending=null;var _=x=x.next;do b=e(b,_.action),_=_.next;while(_!==x);f(b,n.memoizedState)||(ir=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),l.lastRenderedState=b}return[b,c]}function D0(e,n,l){var c=wt,x=Qn(),b=Vt;if(b){if(l===void 0)throw Error(p(407));l=l()}else l=n();var _=!f((gn||x).memoizedState,l);if(_&&(x.memoizedState=l,ir=!0),x=x.queue,Ac(U0.bind(null,c,x,e),[e]),x.getSnapshot!==n||_||rr!==null&&rr.memoizedState.tag&1){if(c.flags|=2048,fs(9,{destroy:void 0},L0.bind(null,c,x,l,n),null),bn===null)throw Error(p(349));b||(Sa&127)!==0||B0(c,n,l)}return l}function B0(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=wt.updateQueue,n===null?(n=Fo(),wt.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function L0(e,n,l,c){n.value=l,n.getSnapshot=c,k0(n)&&z0(e)}function U0(e,n,l){return l(function(){k0(n)&&z0(e)})}function k0(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!f(e,l)}catch{return!0}}function z0(e){var n=nn(e,2);n!==null&&ei(n,e,2)}function bc(e){var n=jr();if(typeof e=="function"){var l=e;if(e=l(),jl){It(!0);try{l()}finally{It(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},n}function F0(e,n,l,c){return e.baseState=l,xc(e,gn,typeof c=="function"?c:Ta)}function p2(e,n,l,c,x){if(Yo(e))throw Error(p(485));if(e=n.action,e!==null){var b={payload:x,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};ee.T!==null?l(!0):b.isTransition=!1,c(b),l=n.pending,l===null?(b.next=n.pending=b,P0(n,b)):(b.next=l.next,n.pending=l.next=b)}}function P0(e,n){var l=n.action,c=n.payload,x=e.state;if(n.isTransition){var b=ee.T,_={};ee.T=_;try{var L=l(x,c),Y=ee.S;Y!==null&&Y(_,L),j0(e,n,L)}catch(ne){Ec(e,n,ne)}finally{b!==null&&_.types!==null&&(b.types=_.types),ee.T=b}}else try{b=l(x,c),j0(e,n,b)}catch(ne){Ec(e,n,ne)}}function j0(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){H0(e,n,c)},function(c){return Ec(e,n,c)}):H0(e,n,l)}function H0(e,n,l){n.status="fulfilled",n.value=l,V0(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,P0(e,l)))}function Ec(e,n,l){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=l,V0(n),n=n.next;while(n!==c)}e.action=null}function V0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Y0(e,n){return n}function G0(e,n){if(Vt){var l=bn.formState;if(l!==null){e:{var c=wt;if(Vt){if(On){t:{for(var x=On,b=Oi;x.nodeType!==8;){if(!b){x=null;break t}if(x=Ri(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){On=Ri(x.nextSibling),c=x.data==="F!";break e}}el(c)}c=!1}c&&(n=l[0])}}return l=jr(),l.memoizedState=l.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:n},l.queue=c,l=c1.bind(null,wt,c),c.dispatch=l,c=bc(!1),b=_c.bind(null,wt,!1,c.queue),c=jr(),x={state:n,dispatch:null,action:e,pending:null},c.queue=x,l=p2.bind(null,wt,x,b,l),x.dispatch=l,c.memoizedState=e,[n,l,!1]}function X0(e){var n=Qn();return q0(n,gn,e)}function q0(e,n,l){if(n=xc(e,n,Y0)[0],e=jo(Ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=js(n)}catch(_){throw _===ls?Io:_}else c=n;n=Qn();var x=n.queue,b=x.dispatch;return l!==n.memoizedState&&(wt.flags|=2048,fs(9,{destroy:void 0},y2.bind(null,x,l),null)),[c,b,e]}function y2(e,n){e.action=n}function K0(e){var n=Qn(),l=gn;if(l!==null)return q0(n,l,e);Qn(),n=n.memoizedState,l=Qn();var c=l.queue.dispatch;return l.memoizedState=e,[n,c,!1]}function fs(e,n,l,c){return e={tag:e,create:l,deps:c,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Fo(),wt.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(c=l.next,l.next=e,e.next=c,n.lastEffect=e),e}function Z0(){return Qn().memoizedState}function Ho(e,n,l,c){var x=jr();wt.flags|=e,x.memoizedState=fs(1|n,{destroy:void 0},l,c===void 0?null:c)}function Vo(e,n,l,c){var x=Qn();c=c===void 0?null:c;var b=x.memoizedState.inst;gn!==null&&c!==null&&hc(c,gn.memoizedState.deps)?x.memoizedState=fs(n,b,l,c):(wt.flags|=e,x.memoizedState=fs(1|n,b,l,c))}function Q0(e,n){Ho(8390656,8,e,n)}function Ac(e,n){Vo(2048,8,e,n)}function x2(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Fo(),wt.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function W0(e){var n=Qn().memoizedState;return x2({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(p(440));return n.impl.apply(void 0,arguments)}}function J0(e,n){return Vo(4,2,e,n)}function $0(e,n){return Vo(4,4,e,n)}function e1(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function t1(e,n,l){l=l!=null?l.concat([e]):null,Vo(4,4,e1.bind(null,n,e),l)}function Cc(){}function n1(e,n){var l=Qn();n=n===void 0?null:n;var c=l.memoizedState;return n!==null&&hc(n,c[1])?c[0]:(l.memoizedState=[e,n],e)}function r1(e,n){var l=Qn();n=n===void 0?null:n;var c=l.memoizedState;if(n!==null&&hc(n,c[1]))return c[0];if(c=e(),jl){It(!0);try{e()}finally{It(!1)}}return l.memoizedState=[c,n],c}function vc(e,n,l){return l===void 0||(Sa&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=ih(),wt.lanes|=e,ul|=e,l)}function i1(e,n,l,c){return f(l,n)?l:os.current!==null?(e=vc(e,l,c),f(e,n)||(ir=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(zt&261930)===0?(ir=!0,e.memoizedState=l):(e=ih(),wt.lanes|=e,ul|=e,n)}function a1(e,n,l,c,x){var b=ye.p;ye.p=b!==0&&8>b?b:8;var _=ee.T,L={};ee.T=L,_c(e,!1,n,l);try{var Y=x(),ne=ee.S;if(ne!==null&&ne(L,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ge=d2(Y,c);Hs(e,n,ge,xi(e))}else Hs(e,n,c,xi(e))}catch(Ee){Hs(e,n,{then:function(){},status:"rejected",reason:Ee},xi())}finally{ye.p=b,_!==null&&L.types!==null&&(_.types=L.types),ee.T=_}}function w2(){}function Sc(e,n,l,c){if(e.tag!==5)throw Error(p(476));var x=l1(e).queue;a1(e,x,n,He,l===null?w2:function(){return s1(e),l(c)})}function l1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:He,baseState:He,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:He},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function s1(e){var n=l1(e);n.next===null&&(n=e.alternate.memoizedState),Hs(e,n.next.queue,{},xi())}function Tc(){return br(ao)}function o1(){return Qn().memoizedState}function u1(){return Qn().memoizedState}function b2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=xi();e=rl(l);var c=il(n,e,l);c!==null&&(ei(c,n,l),ks(c,n,l)),n={cache:tc()},e.payload=n;return}n=n.return}}function E2(e,n,l){var c=xi();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yo(e)?f1(n,l):(l=Ir(e,n,l,c),l!==null&&(ei(l,e,c),h1(l,n,c)))}function c1(e,n,l){var c=xi();Hs(e,n,l,c)}function Hs(e,n,l,c){var x={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))f1(n,x);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var _=n.lastRenderedState,L=b(_,l);if(x.hasEagerState=!0,x.eagerState=L,f(L,_))return dn(e,n,x,0),bn===null&&pt(),!1}catch{}if(l=Ir(e,n,x,c),l!==null)return ei(l,e,c),h1(l,n,c),!0}return!1}function _c(e,n,l,c){if(c={lane:2,revertLane:lf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yo(e)){if(n)throw Error(p(479))}else n=Ir(e,l,c,2),n!==null&&ei(n,e,2)}function Yo(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function f1(e,n){us=ko=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function h1(e,n,l){if((l&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,Pt(e,l)}}var Vs={readContext:br,use:Po,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Vs.useEffectEvent=Pn;var d1={readContext:br,use:Po,useCallback:function(e,n){return jr().memoizedState=[e,n===void 0?null:n],e},useContext:br,useEffect:Q0,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Ho(4194308,4,e1.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ho(4194308,4,e,n)},useInsertionEffect:function(e,n){Ho(4,2,e,n)},useMemo:function(e,n){var l=jr();n=n===void 0?null:n;var c=e();if(jl){It(!0);try{e()}finally{It(!1)}}return l.memoizedState=[c,n],c},useReducer:function(e,n,l){var c=jr();if(l!==void 0){var x=l(n);if(jl){It(!0);try{l(n)}finally{It(!1)}}}else x=n;return c.memoizedState=c.baseState=x,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:x},c.queue=e,e=e.dispatch=E2.bind(null,wt,e),[c.memoizedState,e]},useRef:function(e){var n=jr();return e={current:e},n.memoizedState=e},useState:function(e){e=bc(e);var n=e.queue,l=c1.bind(null,wt,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Cc,useDeferredValue:function(e,n){var l=jr();return vc(l,e,n)},useTransition:function(){var e=bc(!1);return e=a1.bind(null,wt,e.queue,!0,!1),jr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var c=wt,x=jr();if(Vt){if(l===void 0)throw Error(p(407));l=l()}else{if(l=n(),bn===null)throw Error(p(349));(zt&127)!==0||B0(c,n,l)}x.memoizedState=l;var b={value:l,getSnapshot:n};return x.queue=b,Q0(U0.bind(null,c,b,e),[e]),c.flags|=2048,fs(9,{destroy:void 0},L0.bind(null,c,b,l,n),null),l},useId:function(){var e=jr(),n=bn.identifierPrefix;if(Vt){var l=la,c=aa;l=(c&~(1<<32-Se(c)-1)).toString(32)+l,n="_"+n+"R_"+l,l=zo++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=g2++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tc,useFormState:G0,useActionState:G0,useOptimistic:function(e){var n=jr();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=_c.bind(null,wt,!0,l),l.dispatch=n,[e,n]},useMemoCache:yc,useCacheRefresh:function(){return jr().memoizedState=b2.bind(null,wt)},useEffectEvent:function(e){var n=jr(),l={impl:e};return n.memoizedState=l,function(){if(($t&2)!==0)throw Error(p(440));return l.impl.apply(void 0,arguments)}}},Oc={readContext:br,use:Po,useCallback:n1,useContext:br,useEffect:Ac,useImperativeHandle:t1,useInsertionEffect:J0,useLayoutEffect:$0,useMemo:r1,useReducer:jo,useRef:Z0,useState:function(){return jo(Ta)},useDebugValue:Cc,useDeferredValue:function(e,n){var l=Qn();return i1(l,gn.memoizedState,e,n)},useTransition:function(){var e=jo(Ta)[0],n=Qn().memoizedState;return[typeof e=="boolean"?e:js(e),n]},useSyncExternalStore:D0,useId:o1,useHostTransitionStatus:Tc,useFormState:X0,useActionState:X0,useOptimistic:function(e,n){var l=Qn();return F0(l,gn,e,n)},useMemoCache:yc,useCacheRefresh:u1};Oc.useEffectEvent=W0;var g1={readContext:br,use:Po,useCallback:n1,useContext:br,useEffect:Ac,useImperativeHandle:t1,useInsertionEffect:J0,useLayoutEffect:$0,useMemo:r1,useReducer:wc,useRef:Z0,useState:function(){return wc(Ta)},useDebugValue:Cc,useDeferredValue:function(e,n){var l=Qn();return gn===null?vc(l,e,n):i1(l,gn.memoizedState,e,n)},useTransition:function(){var e=wc(Ta)[0],n=Qn().memoizedState;return[typeof e=="boolean"?e:js(e),n]},useSyncExternalStore:D0,useId:o1,useHostTransitionStatus:Tc,useFormState:K0,useActionState:K0,useOptimistic:function(e,n){var l=Qn();return gn!==null?F0(l,gn,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:yc,useCacheRefresh:u1};g1.useEffectEvent=W0;function Nc(e,n,l,c){n=e.memoizedState,l=l(c,n),l=l==null?n:B({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Rc={enqueueSetState:function(e,n,l){e=e._reactInternals;var c=xi(),x=rl(c);x.payload=n,l!=null&&(x.callback=l),n=il(e,x,c),n!==null&&(ei(n,e,c),ks(n,e,c))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var c=xi(),x=rl(c);x.tag=1,x.payload=n,l!=null&&(x.callback=l),n=il(e,x,c),n!==null&&(ei(n,e,c),ks(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=xi(),c=rl(l);c.tag=2,n!=null&&(c.callback=n),n=il(e,c,l),n!==null&&(ei(n,e,l),ks(n,e,l))}};function m1(e,n,l,c,x,b,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,b,_):n.prototype&&n.prototype.isPureReactComponent?!i(l,c)||!i(x,b):!0}function p1(e,n,l,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,c),n.state!==e&&Rc.enqueueReplaceState(n,n.state,null)}function Hl(e,n){var l=n;if("ref"in n){l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}if(e=e.defaultProps){l===n&&(l=B({},l));for(var x in e)l[x]===void 0&&(l[x]=e[x])}return l}function y1(e){Ve(e)}function x1(e){console.error(e)}function w1(e){Ve(e)}function Go(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function b1(e,n,l){try{var c=e.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Ic(e,n,l){return l=rl(l),l.tag=3,l.payload={element:null},l.callback=function(){Go(e,n)},l}function E1(e){return e=rl(e),e.tag=3,e}function A1(e,n,l,c){var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;e.payload=function(){return x(b)},e.callback=function(){b1(n,l,c)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){b1(n,l,c),typeof x!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})})}function A2(e,n,l,c,x){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=l.alternate,n!==null&&rs(n,l,x,!0),l=gi.current,l!==null){switch(l.tag){case 31:case 13:return Ni===null?ru():l.alternate===null&&jn===0&&(jn=3),l.flags&=-257,l.flags|=65536,l.lanes=x,c===Mo?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([c]):n.add(c),nf(e,c,x)),!1;case 22:return l.flags|=65536,c===Mo?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([c]):l.add(c)),nf(e,c,x)),!1}throw Error(p(435,l.tag))}return nf(e,c,x),ru(),!1}if(Vt)return n=gi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=x,c!==Qu&&(e=Error(p(422),{cause:c}),Ms(Si(e,l)))):(c!==Qu&&(n=Error(p(423),{cause:c}),Ms(Si(n,l))),e=e.current.alternate,e.flags|=65536,x&=-x,e.lanes|=x,c=Si(c,l),x=Ic(e.stateNode,c,x),sc(e,x),jn!==4&&(jn=2)),!1;var b=Error(p(520),{cause:c});if(b=Si(b,l),Ws===null?Ws=[b]:Ws.push(b),jn!==4&&(jn=2),n===null)return!0;c=Si(c,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=x&-x,l.lanes|=e,e=Ic(l.stateNode,c,e),sc(l,e),!1;case 1:if(n=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cl===null||!cl.has(b))))return l.flags|=65536,x&=-x,l.lanes|=x,x=E1(x),A1(x,e,l,c),sc(l,x),!1}l=l.return}while(l!==null);return!1}var Mc=Error(p(461)),ir=!1;function Er(e,n,l,c){n.child=e===null?T0(n,null,l,c):Pl(n,e.child,l,c)}function C1(e,n,l,c,x){l=l.render;var b=n.ref;if("ref"in c){var _={};for(var L in c)L!=="ref"&&(_[L]=c[L])}else _=c;return Ul(n),c=dc(e,n,l,_,b,x),L=gc(),e!==null&&!ir?(mc(e,n,x),_a(e,n,x)):(Vt&&L&&Ku(n),n.flags|=1,Er(e,n,c,x),n.child)}function v1(e,n,l,c,x){if(e===null){var b=l.type;return typeof b=="function"&&!Gu(b)&&b.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=b,S1(e,n,b,c,x)):(e=To(l.type,null,c,n,n.mode,x),e.ref=n.ref,e.return=n,n.child=e)}if(b=e.child,!Pc(e,x)){var _=b.memoizedProps;if(l=l.compare,l=l!==null?l:i,l(_,c)&&e.ref===n.ref)return _a(e,n,x)}return n.flags|=1,e=Ea(b,c),e.ref=n.ref,e.return=n,n.child=e}function S1(e,n,l,c,x){if(e!==null){var b=e.memoizedProps;if(i(b,c)&&e.ref===n.ref)if(ir=!1,n.pendingProps=c=b,Pc(e,x))(e.flags&131072)!==0&&(ir=!0);else return n.lanes=e.lanes,_a(e,n,x)}return Dc(e,n,l,c,x)}function T1(e,n,l,c){var x=c.children,b=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,e!==null){for(c=n.child=e.child,x=0;c!==null;)x=x|c.lanes|c.childLanes,c=c.sibling;c=x&~b}else c=0,n.child=null;return _1(e,n,b,l,c)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ro(n,b!==null?b.cachePool:null),b!==null?N0(n,b):uc(),R0(n);else return c=n.lanes=536870912,_1(e,n,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(Ro(n,b.cachePool),N0(n,b),ll(),n.memoizedState=null):(e!==null&&Ro(n,null),uc(),ll());return Er(e,n,x,l),n.child}function Ys(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function _1(e,n,l,c,x){var b=rc();return b=b===null?null:{parent:nr._currentValue,pool:b},n.memoizedState={baseLanes:l,cachePool:b},e!==null&&Ro(n,null),uc(),R0(n),e!==null&&rs(e,n,c,!0),n.childLanes=x,null}function Xo(e,n){return n=Ko({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function O1(e,n,l){return Pl(n,e.child,null,l),e=Xo(n,n.pendingProps),e.flags|=2,mi(n),n.memoizedState=null,e}function C2(e,n,l){var c=n.pendingProps,x=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(c.mode==="hidden")return e=Xo(n,c),n.lanes=536870912,Ys(null,e);if(fc(n),(e=On)?(e=Ph(e,Oi),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},l=f0(e),l.return=n,n.child=l,wr=n,On=null)):e=null,e===null)throw el(n);return n.lanes=536870912,null}return Xo(n,c)}var b=e.memoizedState;if(b!==null){var _=b.dehydrated;if(fc(n),x)if(n.flags&256)n.flags&=-257,n=O1(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(p(558));else if(ir||rs(e,n,l,!1),x=(l&e.childLanes)!==0,ir||x){if(c=bn,c!==null&&(_=Sn(c,l),_!==0&&_!==b.retryLane))throw b.retryLane=_,nn(e,_),ei(c,e,_),Mc;ru(),n=O1(e,n,l)}else e=b.treeContext,On=Ri(_.nextSibling),wr=n,Vt=!0,$a=null,Oi=!1,e!==null&&g0(n,e),n=Xo(n,c),n.flags|=4096;return n}return e=Ea(e.child,{mode:c.mode,children:c.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qo(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(p(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Dc(e,n,l,c,x){return Ul(n),l=dc(e,n,l,c,void 0,x),c=gc(),e!==null&&!ir?(mc(e,n,x),_a(e,n,x)):(Vt&&c&&Ku(n),n.flags|=1,Er(e,n,l,x),n.child)}function N1(e,n,l,c,x,b){return Ul(n),n.updateQueue=null,l=M0(n,c,l,x),I0(e),c=gc(),e!==null&&!ir?(mc(e,n,b),_a(e,n,b)):(Vt&&c&&Ku(n),n.flags|=1,Er(e,n,l,b),n.child)}function R1(e,n,l,c,x){if(Ul(n),n.stateNode===null){var b=$l,_=l.contextType;typeof _=="object"&&_!==null&&(b=br(_)),b=new l(c,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Rc,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=c,b.state=n.memoizedState,b.refs={},ac(n),_=l.contextType,b.context=typeof _=="object"&&_!==null?br(_):$l,b.state=n.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Nc(n,l,_,c),b.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&Rc.enqueueReplaceState(b,b.state,null),Fs(n,c,b,x),zs(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){b=n.stateNode;var L=n.memoizedProps,Y=Hl(l,L);b.props=Y;var ne=b.context,ge=l.contextType;_=$l,typeof ge=="object"&&ge!==null&&(_=br(ge));var Ee=l.getDerivedStateFromProps;ge=typeof Ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,ge||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||ne!==_)&&p1(n,b,c,_),nl=!1;var se=n.memoizedState;b.state=se,Fs(n,c,b,x),zs(),ne=n.memoizedState,L||se!==ne||nl?(typeof Ee=="function"&&(Nc(n,l,Ee,c),ne=n.memoizedState),(Y=nl||m1(n,l,Y,c,se,ne,_))?(ge||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ne),b.props=c,b.state=ne,b.context=_,c=Y):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{b=n.stateNode,lc(e,n),_=n.memoizedProps,ge=Hl(l,_),b.props=ge,Ee=n.pendingProps,se=b.context,ne=l.contextType,Y=$l,typeof ne=="object"&&ne!==null&&(Y=br(ne)),L=l.getDerivedStateFromProps,(ne=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==Ee||se!==Y)&&p1(n,b,c,Y),nl=!1,se=n.memoizedState,b.state=se,Fs(n,c,b,x),zs();var he=n.memoizedState;_!==Ee||se!==he||nl||e!==null&&e.dependencies!==null&&Oo(e.dependencies)?(typeof L=="function"&&(Nc(n,l,L,c),he=n.memoizedState),(ge=nl||m1(n,l,ge,c,se,he,Y)||e!==null&&e.dependencies!==null&&Oo(e.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,he,Y),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,he,Y)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=he),b.props=c,b.state=he,b.context=Y,c=ge):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&se===e.memoizedState||(n.flags|=1024),c=!1)}return b=c,qo(e,n),c=(n.flags&128)!==0,b||c?(b=n.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,e!==null&&c?(n.child=Pl(n,e.child,null,x),n.child=Pl(n,null,l,x)):Er(e,n,l,x),n.memoizedState=b.state,e=n.child):e=_a(e,n,x),e}function I1(e,n,l,c){return Bl(),n.flags|=256,Er(e,n,l,c),n.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lc(e){return{baseLanes:e,cachePool:b0()}}function Uc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=yi),e}function M1(e,n,l){var c=n.pendingProps,x=!1,b=(n.flags&128)!==0,_;if((_=b)||(_=e!==null&&e.memoizedState===null?!1:(Zn.current&2)!==0),_&&(x=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(x?al(n):ll(),(e=On)?(e=Ph(e,Oi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ja!==null?{id:aa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},l=f0(e),l.return=n,n.child=l,wr=n,On=null)):e=null,e===null)throw el(n);return wf(e)?n.lanes=32:n.lanes=536870912,null}var L=c.children;return c=c.fallback,x?(ll(),x=n.mode,L=Ko({mode:"hidden",children:L},x),c=Dl(c,x,l,null),L.return=n,c.return=n,L.sibling=c,n.child=L,c=n.child,c.memoizedState=Lc(l),c.childLanes=Uc(e,_,l),n.memoizedState=Bc,Ys(null,c)):(al(n),kc(n,L))}var Y=e.memoizedState;if(Y!==null&&(L=Y.dehydrated,L!==null)){if(b)n.flags&256?(al(n),n.flags&=-257,n=zc(e,n,l)):n.memoizedState!==null?(ll(),n.child=e.child,n.flags|=128,n=null):(ll(),L=c.fallback,x=n.mode,c=Ko({mode:"visible",children:c.children},x),L=Dl(L,x,l,null),L.flags|=2,c.return=n,L.return=n,c.sibling=L,n.child=c,Pl(n,e.child,null,l),c=n.child,c.memoizedState=Lc(l),c.childLanes=Uc(e,_,l),n.memoizedState=Bc,n=Ys(null,c));else if(al(n),wf(L)){if(_=L.nextSibling&&L.nextSibling.dataset,_)var ne=_.dgst;_=ne,c=Error(p(419)),c.stack="",c.digest=_,Ms({value:c,source:null,stack:null}),n=zc(e,n,l)}else if(ir||rs(e,n,l,!1),_=(l&e.childLanes)!==0,ir||_){if(_=bn,_!==null&&(c=Sn(_,l),c!==0&&c!==Y.retryLane))throw Y.retryLane=c,nn(e,c),ei(_,e,c),Mc;xf(L)||ru(),n=zc(e,n,l)}else xf(L)?(n.flags|=192,n.child=e.child,n=null):(e=Y.treeContext,On=Ri(L.nextSibling),wr=n,Vt=!0,$a=null,Oi=!1,e!==null&&g0(n,e),n=kc(n,c.children),n.flags|=4096);return n}return x?(ll(),L=c.fallback,x=n.mode,Y=e.child,ne=Y.sibling,c=Ea(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,ne!==null?L=Ea(ne,L):(L=Dl(L,x,l,null),L.flags|=2),L.return=n,c.return=n,c.sibling=L,n.child=c,Ys(null,c),c=n.child,L=e.child.memoizedState,L===null?L=Lc(l):(x=L.cachePool,x!==null?(Y=nr._currentValue,x=x.parent!==Y?{parent:Y,pool:Y}:x):x=b0(),L={baseLanes:L.baseLanes|l,cachePool:x}),c.memoizedState=L,c.childLanes=Uc(e,_,l),n.memoizedState=Bc,Ys(e.child,c)):(al(n),l=e.child,e=l.sibling,l=Ea(l,{mode:"visible",children:c.children}),l.return=n,l.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=l,n.memoizedState=null,l)}function kc(e,n){return n=Ko({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ko(e,n){return e=di(22,e,null,n),e.lanes=0,e}function zc(e,n,l){return Pl(n,e.child,null,l),e=kc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function D1(e,n,l){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),$u(e.return,n,l)}function Fc(e,n,l,c,x,b){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:x,treeForkCount:b}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=l,_.tailMode=x,_.treeForkCount=b)}function B1(e,n,l){var c=n.pendingProps,x=c.revealOrder,b=c.tail;c=c.children;var _=Zn.current,L=(_&2)!==0;if(L?(_=_&1|2,n.flags|=128):_&=1,De(Zn,_),Er(e,n,c,l),c=Vt?Is:0,!L&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D1(e,l,n);else if(e.tag===19)D1(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(x){case"forwards":for(l=n.child,x=null;l!==null;)e=l.alternate,e!==null&&Uo(e)===null&&(x=l),l=l.sibling;l=x,l===null?(x=n.child,n.child=null):(x=l.sibling,l.sibling=null),Fc(n,!1,x,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,x=n.child,n.child=null;x!==null;){if(e=x.alternate,e!==null&&Uo(e)===null){n.child=x;break}e=x.sibling,x.sibling=l,l=x,x=e}Fc(n,!0,l,null,b,c);break;case"together":Fc(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function _a(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ul|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(rs(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(p(153));if(n.child!==null){for(e=n.child,l=Ea(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Ea(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Pc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Oo(e)))}function v2(e,n,l){switch(n.tag){case 3:Nt(n,n.stateNode.containerInfo),tl(n,nr,e.memoizedState.cache),Bl();break;case 27:case 5:qe(n);break;case 4:Nt(n,n.stateNode.containerInfo);break;case 10:tl(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fc(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(al(n),n.flags|=128,null):(l&n.child.childLanes)!==0?M1(e,n,l):(al(n),e=_a(e,n,l),e!==null?e.sibling:null);al(n);break;case 19:var x=(e.flags&128)!==0;if(c=(l&n.childLanes)!==0,c||(rs(e,n,l,!1),c=(l&n.childLanes)!==0),x){if(c)return B1(e,n,l);n.flags|=128}if(x=n.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),De(Zn,Zn.current),c)break;return null;case 22:return n.lanes=0,T1(e,n,l,n.pendingProps);case 24:tl(n,nr,e.memoizedState.cache)}return _a(e,n,l)}function L1(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)ir=!0;else{if(!Pc(e,l)&&(n.flags&128)===0)return ir=!1,v2(e,n,l);ir=(e.flags&131072)!==0}else ir=!1,Vt&&(n.flags&1048576)!==0&&d0(n,Is,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(e=zl(n.elementType),n.type=e,typeof e=="function")Gu(e)?(c=Hl(e,c),n.tag=1,n=R1(null,n,e,c,l)):(n.tag=0,n=Dc(null,n,e,c,l));else{if(e!=null){var x=e.$$typeof;if(x===Ue){n.tag=11,n=C1(null,n,e,c,l);break e}else if(x===ie){n.tag=14,n=v1(null,n,e,c,l);break e}}throw n=Ot(e)||e,Error(p(306,n,""))}}return n;case 0:return Dc(e,n,n.type,n.pendingProps,l);case 1:return c=n.type,x=Hl(c,n.pendingProps),R1(e,n,c,x,l);case 3:e:{if(Nt(n,n.stateNode.containerInfo),e===null)throw Error(p(387));c=n.pendingProps;var b=n.memoizedState;x=b.element,lc(e,n),Fs(n,c,null,l);var _=n.memoizedState;if(c=_.cache,tl(n,nr,c),c!==b.cache&&ec(n,[nr],l,!0),zs(),c=_.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){n=I1(e,n,c,l);break e}else if(c!==x){x=Si(Error(p(424)),n),Ms(x),n=I1(e,n,c,l);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,On=Ri(e.firstChild),wr=n,Vt=!0,$a=null,Oi=!0,l=T0(n,null,c,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bl(),c===x){n=_a(e,n,l);break e}Er(e,n,c,l)}n=n.child}return n;case 26:return qo(e,n),e===null?(l=Xh(n.type,null,n.pendingProps,null))?n.memoizedState=l:Vt||(l=n.type,e=n.pendingProps,c=cu(Ne.current).createElement(l),c[tn]=n,c[Lt]=e,Ar(c,l,e),_n(c),n.stateNode=c):n.memoizedState=Xh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qe(n),e===null&&Vt&&(c=n.stateNode=Vh(n.type,n.pendingProps,Ne.current),wr=n,Oi=!0,x=On,gl(n.type)?(bf=x,On=Ri(c.firstChild)):On=x),Er(e,n,n.pendingProps.children,l),qo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((x=c=On)&&(c=em(c,n.type,n.pendingProps,Oi),c!==null?(n.stateNode=c,wr=n,On=Ri(c.firstChild),Oi=!1,x=!0):x=!1),x||el(n)),qe(n),x=n.type,b=n.pendingProps,_=e!==null?e.memoizedProps:null,c=b.children,mf(x,b)?c=null:_!==null&&mf(x,_)&&(n.flags|=32),n.memoizedState!==null&&(x=dc(e,n,m2,null,null,l),ao._currentValue=x),qo(e,n),Er(e,n,c,l),n.child;case 6:return e===null&&Vt&&((e=l=On)&&(l=tm(l,n.pendingProps,Oi),l!==null?(n.stateNode=l,wr=n,On=null,e=!0):e=!1),e||el(n)),null;case 13:return M1(e,n,l);case 4:return Nt(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=Pl(n,null,c,l):Er(e,n,c,l),n.child;case 11:return C1(e,n,n.type,n.pendingProps,l);case 7:return Er(e,n,n.pendingProps,l),n.child;case 8:return Er(e,n,n.pendingProps.children,l),n.child;case 12:return Er(e,n,n.pendingProps.children,l),n.child;case 10:return c=n.pendingProps,tl(n,n.type,c.value),Er(e,n,c.children,l),n.child;case 9:return x=n.type._context,c=n.pendingProps.children,Ul(n),x=br(x),c=c(x),n.flags|=1,Er(e,n,c,l),n.child;case 14:return v1(e,n,n.type,n.pendingProps,l);case 15:return S1(e,n,n.type,n.pendingProps,l);case 19:return B1(e,n,l);case 31:return C2(e,n,l);case 22:return T1(e,n,l,n.pendingProps);case 24:return Ul(n),c=br(nr),e===null?(x=rc(),x===null&&(x=bn,b=tc(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=l),x=b),n.memoizedState={parent:c,cache:x},ac(n),tl(n,nr,x)):((e.lanes&l)!==0&&(lc(e,n),Fs(n,null,null,l),zs()),x=e.memoizedState,b=n.memoizedState,x.parent!==c?(x={parent:c,cache:c},n.memoizedState=x,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=x),tl(n,nr,c)):(c=b.cache,tl(n,nr,c),c!==x.cache&&ec(n,[nr],l,!0))),Er(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(p(156,n.tag))}function Oa(e){e.flags|=4}function jc(e,n,l,c,x){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(x&335544128)===x)if(e.stateNode.complete)e.flags|=8192;else if(oh())e.flags|=8192;else throw Fl=Mo,ic}else e.flags&=-16777217}function U1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(n))if(oh())e.flags|=8192;else throw Fl=Mo,ic}function Zo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Gn():536870912,e.lanes|=n,ms|=n)}function Gs(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Nn(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,c=0;if(n)for(var x=e.child;x!==null;)l|=x.lanes|x.childLanes,c|=x.subtreeFlags&65011712,c|=x.flags&65011712,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)l|=x.lanes|x.childLanes,c|=x.subtreeFlags,c|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=c,e.childLanes=l,n}function S2(e,n,l){var c=n.pendingProps;switch(Zu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(n),null;case 1:return Nn(n),null;case 3:return l=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),va(nr),rn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ns(n)?Oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wu())),Nn(n),null;case 26:var x=n.type,b=n.memoizedState;return e===null?(Oa(n),b!==null?(Nn(n),U1(n,b)):(Nn(n),jc(n,x,null,c,l))):b?b!==e.memoizedState?(Oa(n),Nn(n),U1(n,b)):(Nn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==c&&Oa(n),Nn(n),jc(n,x,e,c,l)),null;case 27:if(Ln(n),l=Ne.current,x=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(p(166));return Nn(n),null}e=Me.current,ns(n)?m0(n):(e=Vh(x,c,l),n.stateNode=e,Oa(n))}return Nn(n),null;case 5:if(Ln(n),x=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(!c){if(n.stateNode===null)throw Error(p(166));return Nn(n),null}if(b=Me.current,ns(n))m0(n);else{var _=cu(Ne.current);switch(b){case 1:b=_.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=_.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=_.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=_.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=_.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?_.createElement(x,{is:c.is}):_.createElement(x)}}b[tn]=n,b[Lt]=c;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)b.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=b;e:switch(Ar(b,x,c),x){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oa(n)}}return Nn(n),jc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&Oa(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(p(166));if(e=Ne.current,ns(n)){if(e=n.stateNode,l=n.memoizedProps,c=null,x=wr,x!==null)switch(x.tag){case 27:case 5:c=x.memoizedProps}e[tn]=n,e=!!(e.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Mh(e.nodeValue,l)),e||el(n,!0)}else e=cu(e).createTextNode(c),e[tn]=n,n.stateNode=e}return Nn(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(c=ns(n),l!==null){if(e===null){if(!c)throw Error(p(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(557));e[tn]=n}else Bl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nn(n),e=!1}else l=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(mi(n),n):(mi(n),null);if((n.flags&128)!==0)throw Error(p(558))}return Nn(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(x=ns(n),c!==null&&c.dehydrated!==null){if(e===null){if(!x)throw Error(p(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(p(317));x[tn]=n}else Bl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nn(n),x=!1}else x=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=x),x=!0;if(!x)return n.flags&256?(mi(n),n):(mi(n),null)}return mi(n),(n.flags&128)!==0?(n.lanes=l,n):(l=c!==null,e=e!==null&&e.memoizedState!==null,l&&(c=n.child,x=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(x=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==x&&(c.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Zo(n,n.updateQueue),Nn(n),null);case 4:return rn(),e===null&&cf(n.stateNode.containerInfo),Nn(n),null;case 10:return va(n.type),Nn(n),null;case 19:if(ue(Zn),c=n.memoizedState,c===null)return Nn(n),null;if(x=(n.flags&128)!==0,b=c.rendering,b===null)if(x)Gs(c,!1);else{if(jn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Uo(e),b!==null){for(n.flags|=128,Gs(c,!1),e=b.updateQueue,n.updateQueue=e,Zo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)c0(l,e),l=l.sibling;return De(Zn,Zn.current&1|2),Vt&&Aa(n,c.treeForkCount),n.child}e=e.sibling}c.tail!==null&&En()>eu&&(n.flags|=128,x=!0,Gs(c,!1),n.lanes=4194304)}else{if(!x)if(e=Uo(b),e!==null){if(n.flags|=128,x=!0,e=e.updateQueue,n.updateQueue=e,Zo(n,e),Gs(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!Vt)return Nn(n),null}else 2*En()-c.renderingStartTime>eu&&l!==536870912&&(n.flags|=128,x=!0,Gs(c,!1),n.lanes=4194304);c.isBackwards?(b.sibling=n.child,n.child=b):(e=c.last,e!==null?e.sibling=b:n.child=b,c.last=b)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=En(),e.sibling=null,l=Zn.current,De(Zn,x?l&1|2:l&1),Vt&&Aa(n,c.treeForkCount),e):(Nn(n),null);case 22:case 23:return mi(n),cc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(l&536870912)!==0&&(n.flags&128)===0&&(Nn(n),n.subtreeFlags&6&&(n.flags|=8192)):Nn(n),l=n.updateQueue,l!==null&&Zo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==l&&(n.flags|=2048),e!==null&&ue(kl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),va(nr),Nn(n),null;case 25:return null;case 30:return null}throw Error(p(156,n.tag))}function T2(e,n){switch(Zu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return va(nr),rn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ln(n),null;case 31:if(n.memoizedState!==null){if(mi(n),n.alternate===null)throw Error(p(340));Bl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(p(340));Bl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ue(Zn),null;case 4:return rn(),null;case 10:return va(n.type),null;case 22:case 23:return mi(n),cc(),e!==null&&ue(kl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return va(nr),null;case 25:return null;default:return null}}function k1(e,n){switch(Zu(n),n.tag){case 3:va(nr),rn();break;case 26:case 27:case 5:Ln(n);break;case 4:rn();break;case 31:n.memoizedState!==null&&mi(n);break;case 13:mi(n);break;case 19:ue(Zn);break;case 10:va(n.type);break;case 22:case 23:mi(n),cc(),e!==null&&ue(kl);break;case 24:va(nr)}}function Xs(e,n){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var x=c.next;l=x;do{if((l.tag&e)===e){c=void 0;var b=l.create,_=l.inst;c=b(),_.destroy=c}l=l.next}while(l!==x)}}catch(L){on(n,n.return,L)}}function sl(e,n,l){try{var c=n.updateQueue,x=c!==null?c.lastEffect:null;if(x!==null){var b=x.next;c=b;do{if((c.tag&e)===e){var _=c.inst,L=_.destroy;if(L!==void 0){_.destroy=void 0,x=n;var Y=l,ne=L;try{ne()}catch(ge){on(x,Y,ge)}}}c=c.next}while(c!==b)}}catch(ge){on(n,n.return,ge)}}function z1(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{O0(n,l)}catch(c){on(e,e.return,c)}}}function F1(e,n,l){l.props=Hl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(c){on(e,n,c)}}function qs(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof l=="function"?e.refCleanup=l(c):l.current=c}}catch(x){on(e,n,x)}}function sa(e,n){var l=e.ref,c=e.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(x){on(e,n,x)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(x){on(e,n,x)}else l.current=null}function P1(e){var n=e.type,l=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(x){on(e,e.return,x)}}function Hc(e,n,l){try{var c=e.stateNode;K2(c,e.type,l,n),c[Lt]=n}catch(x){on(e,e.return,x)}}function j1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gl(e.type)||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=lr));else if(c!==4&&(c===27&&gl(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Yc(e,n,l),e=e.sibling;e!==null;)Yc(e,n,l),e=e.sibling}function Qo(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(c!==4&&(c===27&&gl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Qo(e,n,l),e=e.sibling;e!==null;)Qo(e,n,l),e=e.sibling}function H1(e){var n=e.stateNode,l=e.memoizedProps;try{for(var c=e.type,x=n.attributes;x.length;)n.removeAttributeNode(x[0]);Ar(n,c,l),n[tn]=e,n[Lt]=l}catch(b){on(e,e.return,b)}}var Na=!1,ar=!1,Gc=!1,V1=typeof WeakSet=="function"?WeakSet:Set,ur=null;function _2(e,n){if(e=e.containerInfo,df=yu,e=w(e),C(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var x=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var _=0,L=-1,Y=-1,ne=0,ge=0,Ee=e,se=null;t:for(;;){for(var he;Ee!==l||x!==0&&Ee.nodeType!==3||(L=_+x),Ee!==b||c!==0&&Ee.nodeType!==3||(Y=_+c),Ee.nodeType===3&&(_+=Ee.nodeValue.length),(he=Ee.firstChild)!==null;)se=Ee,Ee=he;for(;;){if(Ee===e)break t;if(se===l&&++ne===x&&(L=_),se===b&&++ge===c&&(Y=_),(he=Ee.nextSibling)!==null)break;Ee=se,se=Ee.parentNode}Ee=he}l=L===-1||Y===-1?null:{start:L,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(gf={focusedElem:e,selectionRange:l},yu=!1,ur=n;ur!==null;)if(n=ur,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ur=e;else for(;ur!==null;){switch(n=ur,b=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)x=e[l],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,l=n,x=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var Ke=Hl(l.type,x);e=c.getSnapshotBeforeUpdate(Ke,b),c.__reactInternalSnapshotBeforeUpdate=e}catch(it){on(l,l.return,it)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)yf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(p(163))}if(e=n.sibling,e!==null){e.return=n.return,ur=e;break}ur=n.return}}function Y1(e,n,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ia(e,l),c&4&&Xs(5,l);break;case 1:if(Ia(e,l),c&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(_){on(l,l.return,_)}else{var x=Hl(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(x,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){on(l,l.return,_)}}c&64&&z1(l),c&512&&qs(l,l.return);break;case 3:if(Ia(e,l),c&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{O0(e,n)}catch(_){on(l,l.return,_)}}break;case 27:n===null&&c&4&&H1(l);case 26:case 5:Ia(e,l),n===null&&c&4&&P1(l),c&512&&qs(l,l.return);break;case 12:Ia(e,l);break;case 31:Ia(e,l),c&4&&q1(e,l);break;case 13:Ia(e,l),c&4&&K1(e,l),c&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=U2.bind(null,l),nm(e,l))));break;case 22:if(c=l.memoizedState!==null||Na,!c){n=n!==null&&n.memoizedState!==null||ar,x=Na;var b=ar;Na=c,(ar=n)&&!b?Ma(e,l,(l.subtreeFlags&8772)!==0):Ia(e,l),Na=x,ar=b}break;case 30:break;default:Ia(e,l)}}function G1(e){var n=e.alternate;n!==null&&(e.alternate=null,G1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var In=null,Qr=!1;function Ra(e,n,l){for(l=l.child;l!==null;)X1(e,n,l),l=l.sibling}function X1(e,n,l){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Wt,l)}catch{}switch(l.tag){case 26:ar||sa(l,n),Ra(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ar||sa(l,n);var c=In,x=Qr;gl(l.type)&&(In=l.stateNode,Qr=!1),Ra(e,n,l),no(l.stateNode),In=c,Qr=x;break;case 5:ar||sa(l,n);case 6:if(c=In,x=Qr,In=null,Ra(e,n,l),In=c,Qr=x,In!==null)if(Qr)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(l.stateNode)}catch(b){on(l,n,b)}else try{In.removeChild(l.stateNode)}catch(b){on(l,n,b)}break;case 18:In!==null&&(Qr?(e=In,zh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Cs(e)):zh(In,l.stateNode));break;case 4:c=In,x=Qr,In=l.stateNode.containerInfo,Qr=!0,Ra(e,n,l),In=c,Qr=x;break;case 0:case 11:case 14:case 15:sl(2,l,n),ar||sl(4,l,n),Ra(e,n,l);break;case 1:ar||(sa(l,n),c=l.stateNode,typeof c.componentWillUnmount=="function"&&F1(l,n,c)),Ra(e,n,l);break;case 21:Ra(e,n,l);break;case 22:ar=(c=ar)||l.memoizedState!==null,Ra(e,n,l),ar=c;break;default:Ra(e,n,l)}}function q1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Cs(e)}catch(l){on(n,n.return,l)}}}function K1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Cs(e)}catch(l){on(n,n.return,l)}}function O2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new V1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new V1),n;default:throw Error(p(435,e.tag))}}function Wo(e,n){var l=O2(e);n.forEach(function(c){if(!l.has(c)){l.add(c);var x=k2.bind(null,e,c);c.then(x,x)}})}function Wr(e,n){var l=n.deletions;if(l!==null)for(var c=0;c<l.length;c++){var x=l[c],b=e,_=n,L=_;e:for(;L!==null;){switch(L.tag){case 27:if(gl(L.type)){In=L.stateNode,Qr=!1;break e}break;case 5:In=L.stateNode,Qr=!1;break e;case 3:case 4:In=L.stateNode.containerInfo,Qr=!0;break e}L=L.return}if(In===null)throw Error(p(160));X1(b,_,x),In=null,Qr=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Z1(n,e),n=n.sibling}var Gi=null;function Z1(e,n){var l=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wr(n,e),Jr(e),c&4&&(sl(3,e,e.return),Xs(3,e),sl(5,e,e.return));break;case 1:Wr(n,e),Jr(e),c&512&&(ar||l===null||sa(l,l.return)),c&64&&Na&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var x=Gi;if(Wr(n,e),Jr(e),c&512&&(ar||l===null||sa(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=e.memoizedState,l===null)if(c===null)if(e.stateNode===null){e:{c=e.type,l=e.memoizedProps,x=x.ownerDocument||x;t:switch(c){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Ur]||b[tn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(c),x.head.insertBefore(b,x.querySelector("head > title"))),Ar(b,c,l),b[tn]=e,_n(b),c=b;break e;case"link":var _=Zh("link","href",x).get(c+(l.href||""));if(_){for(var L=0;L<_.length;L++)if(b=_[L],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(L,1);break t}}b=x.createElement(c),Ar(b,c,l),x.head.appendChild(b);break;case"meta":if(_=Zh("meta","content",x).get(c+(l.content||""))){for(L=0;L<_.length;L++)if(b=_[L],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(L,1);break t}}b=x.createElement(c),Ar(b,c,l),x.head.appendChild(b);break;default:throw Error(p(468,c))}b[tn]=e,_n(b),c=b}e.stateNode=c}else Qh(x,e.type,e.stateNode);else e.stateNode=Kh(x,c,e.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?Qh(x,e.type,e.stateNode):Kh(x,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Wr(n,e),Jr(e),c&512&&(ar||l===null||sa(l,l.return)),l!==null&&c&4&&Hc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Wr(n,e),Jr(e),c&512&&(ar||l===null||sa(l,l.return)),e.flags&32){x=e.stateNode;try{Pi(x,"")}catch(Ke){on(e,e.return,Ke)}}c&4&&e.stateNode!=null&&(x=e.memoizedProps,Hc(e,x,l!==null?l.memoizedProps:x)),c&1024&&(Gc=!0);break;case 6:if(Wr(n,e),Jr(e),c&4){if(e.stateNode===null)throw Error(p(162));c=e.memoizedProps,l=e.stateNode;try{l.nodeValue=c}catch(Ke){on(e,e.return,Ke)}}break;case 3:if(du=null,x=Gi,Gi=fu(n.containerInfo),Wr(n,e),Gi=x,Jr(e),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Cs(n.containerInfo)}catch(Ke){on(e,e.return,Ke)}Gc&&(Gc=!1,Q1(e));break;case 4:c=Gi,Gi=fu(e.stateNode.containerInfo),Wr(n,e),Jr(e),Gi=c;break;case 12:Wr(n,e),Jr(e);break;case 31:Wr(n,e),Jr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wo(e,c)));break;case 13:Wr(n,e),Jr(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($o=En()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wo(e,c)));break;case 22:x=e.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,ne=Na,ge=ar;if(Na=ne||x,ar=ge||Y,Wr(n,e),ar=ge,Na=ne,Jr(e),c&8192)e:for(n=e.stateNode,n._visibility=x?n._visibility&-2:n._visibility|1,x&&(l===null||Y||Na||ar||Vl(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){Y=l=n;try{if(b=Y.stateNode,x)_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{L=Y.stateNode;var Ee=Y.memoizedProps.style,se=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;L.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ke){on(Y,Y.return,Ke)}}}else if(n.tag===6){if(l===null){Y=n;try{Y.stateNode.nodeValue=x?"":Y.memoizedProps}catch(Ke){on(Y,Y.return,Ke)}}}else if(n.tag===18){if(l===null){Y=n;try{var he=Y.stateNode;x?Fh(he,!0):Fh(Y.stateNode,!1)}catch(Ke){on(Y,Y.return,Ke)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Wo(e,l))));break;case 19:Wr(n,e),Jr(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Wo(e,c)));break;case 30:break;case 21:break;default:Wr(n,e),Jr(e)}}function Jr(e){var n=e.flags;if(n&2){try{for(var l,c=e.return;c!==null;){if(j1(c)){l=c;break}c=c.return}if(l==null)throw Error(p(160));switch(l.tag){case 27:var x=l.stateNode,b=Vc(e);Qo(e,b,x);break;case 5:var _=l.stateNode;l.flags&32&&(Pi(_,""),l.flags&=-33);var L=Vc(e);Qo(e,L,_);break;case 3:case 4:var Y=l.stateNode.containerInfo,ne=Vc(e);Yc(e,ne,Y);break;default:throw Error(p(161))}}catch(ge){on(e,e.return,ge)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Q1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Q1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ia(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Y1(e,n.alternate,n),n=n.sibling}function Vl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:sl(4,n,n.return),Vl(n);break;case 1:sa(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&F1(n,n.return,l),Vl(n);break;case 27:no(n.stateNode);case 26:case 5:sa(n,n.return),Vl(n);break;case 22:n.memoizedState===null&&Vl(n);break;case 30:Vl(n);break;default:Vl(n)}e=e.sibling}}function Ma(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,x=e,b=n,_=b.flags;switch(b.tag){case 0:case 11:case 15:Ma(x,b,l),Xs(4,b);break;case 1:if(Ma(x,b,l),c=b,x=c.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ne){on(c,c.return,ne)}if(c=b,x=c.updateQueue,x!==null){var L=c.stateNode;try{var Y=x.shared.hiddenCallbacks;if(Y!==null)for(x.shared.hiddenCallbacks=null,x=0;x<Y.length;x++)_0(Y[x],L)}catch(ne){on(c,c.return,ne)}}l&&_&64&&z1(b),qs(b,b.return);break;case 27:H1(b);case 26:case 5:Ma(x,b,l),l&&c===null&&_&4&&P1(b),qs(b,b.return);break;case 12:Ma(x,b,l);break;case 31:Ma(x,b,l),l&&_&4&&q1(x,b);break;case 13:Ma(x,b,l),l&&_&4&&K1(x,b);break;case 22:b.memoizedState===null&&Ma(x,b,l),qs(b,b.return);break;case 30:break;default:Ma(x,b,l)}n=n.sibling}}function Xc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ds(l))}function qc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ds(e))}function Xi(e,n,l,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)W1(e,n,l,c),n=n.sibling}function W1(e,n,l,c){var x=n.flags;switch(n.tag){case 0:case 11:case 15:Xi(e,n,l,c),x&2048&&Xs(9,n);break;case 1:Xi(e,n,l,c);break;case 3:Xi(e,n,l,c),x&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ds(e)));break;case 12:if(x&2048){Xi(e,n,l,c),e=n.stateNode;try{var b=n.memoizedProps,_=b.id,L=b.onPostCommit;typeof L=="function"&&L(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Y){on(n,n.return,Y)}}else Xi(e,n,l,c);break;case 31:Xi(e,n,l,c);break;case 13:Xi(e,n,l,c);break;case 23:break;case 22:b=n.stateNode,_=n.alternate,n.memoizedState!==null?b._visibility&2?Xi(e,n,l,c):Ks(e,n):b._visibility&2?Xi(e,n,l,c):(b._visibility|=2,hs(e,n,l,c,(n.subtreeFlags&10256)!==0||!1)),x&2048&&Xc(_,n);break;case 24:Xi(e,n,l,c),x&2048&&qc(n.alternate,n);break;default:Xi(e,n,l,c)}}function hs(e,n,l,c,x){for(x=x&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var b=e,_=n,L=l,Y=c,ne=_.flags;switch(_.tag){case 0:case 11:case 15:hs(b,_,L,Y,x),Xs(8,_);break;case 23:break;case 22:var ge=_.stateNode;_.memoizedState!==null?ge._visibility&2?hs(b,_,L,Y,x):Ks(b,_):(ge._visibility|=2,hs(b,_,L,Y,x)),x&&ne&2048&&Xc(_.alternate,_);break;case 24:hs(b,_,L,Y,x),x&&ne&2048&&qc(_.alternate,_);break;default:hs(b,_,L,Y,x)}n=n.sibling}}function Ks(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,c=n,x=c.flags;switch(c.tag){case 22:Ks(l,c),x&2048&&Xc(c.alternate,c);break;case 24:Ks(l,c),x&2048&&qc(c.alternate,c);break;default:Ks(l,c)}n=n.sibling}}var Zs=8192;function ds(e,n,l){if(e.subtreeFlags&Zs)for(e=e.child;e!==null;)J1(e,n,l),e=e.sibling}function J1(e,n,l){switch(e.tag){case 26:ds(e,n,l),e.flags&Zs&&e.memoizedState!==null&&gm(l,Gi,e.memoizedState,e.memoizedProps);break;case 5:ds(e,n,l);break;case 3:case 4:var c=Gi;Gi=fu(e.stateNode.containerInfo),ds(e,n,l),Gi=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Zs,Zs=16777216,ds(e,n,l),Zs=c):ds(e,n,l));break;default:ds(e,n,l)}}function $1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];ur=c,th(c,e)}$1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eh(e),e=e.sibling}function eh(e){switch(e.tag){case 0:case 11:case 15:Qs(e),e.flags&2048&&sl(9,e,e.return);break;case 3:Qs(e);break;case 12:Qs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Jo(e)):Qs(e);break;default:Qs(e)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];ur=c,th(c,e)}$1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:sl(8,n,n.return),Jo(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Jo(n));break;default:Jo(n)}e=e.sibling}}function th(e,n){for(;ur!==null;){var l=ur;switch(l.tag){case 0:case 11:case 15:sl(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ds(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,ur=c;else e:for(l=e;ur!==null;){c=ur;var x=c.sibling,b=c.return;if(G1(c),c===l){ur=null;break e}if(x!==null){x.return=b,ur=x;break e}ur=b}}}var N2={getCacheForType:function(e){var n=br(nr),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return br(nr).controller.signal}},R2=typeof WeakMap=="function"?WeakMap:Map,$t=0,bn=null,Dt=null,zt=0,sn=0,pi=null,ol=!1,gs=!1,Kc=!1,Da=0,jn=0,ul=0,Yl=0,Zc=0,yi=0,ms=0,Ws=null,$r=null,Qc=!1,$o=0,nh=0,eu=1/0,tu=null,cl=null,sr=0,fl=null,ps=null,Ba=0,Wc=0,Jc=null,rh=null,Js=0,$c=null;function xi(){return($t&2)!==0&&zt!==0?zt&-zt:ee.T!==null?lf():$n()}function ih(){if(yi===0)if((zt&536870912)===0||Vt){var e=Ct;Ct<<=1,(Ct&3932160)===0&&(Ct=262144),yi=e}else yi=536870912;return e=gi.current,e!==null&&(e.flags|=32),yi}function ei(e,n,l){(e===bn&&(sn===2||sn===9)||e.cancelPendingCommit!==null)&&(ys(e,0),hl(e,zt,yi,!1)),hr(e,l),(($t&2)===0||e!==bn)&&(e===bn&&(($t&2)===0&&(Yl|=l),jn===4&&hl(e,zt,yi,!1)),oa(e))}function ah(e,n,l){if(($t&6)!==0)throw Error(p(327));var c=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Yn(e,n),x=c?D2(e,n):tf(e,n,!0),b=c;do{if(x===0){gs&&!c&&hl(e,n,0,!1);break}else{if(l=e.current.alternate,b&&!I2(l)){x=tf(e,n,!1),b=!1;continue}if(x===2){if(b=n,e.errorRecoveryDisabledLanes&b)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var L=e;x=Ws;var Y=L.current.memoizedState.isDehydrated;if(Y&&(ys(L,_).flags|=256),_=tf(L,_,!1),_!==2){if(Kc&&!Y){L.errorRecoveryDisabledLanes|=b,Yl|=b,x=4;break e}b=$r,$r=x,b!==null&&($r===null?$r=b:$r.push.apply($r,b))}x=_}if(b=!1,x!==2)continue}}if(x===1){ys(e,0),hl(e,n,0,!0);break}e:{switch(c=e,b=x,b){case 0:case 1:throw Error(p(345));case 4:if((n&4194048)!==n)break;case 6:hl(c,n,yi,!ol);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(p(329))}if((n&62914560)===n&&(x=$o+300-En(),10<x)){if(hl(c,n,yi,!ol),Wi(c,0,!0)!==0)break e;Ba=n,c.timeoutHandle=Uh(lh.bind(null,c,l,$r,tu,Qc,n,yi,Yl,ms,ol,b,"Throttled",-0,0),x);break e}lh(c,l,$r,tu,Qc,n,yi,Yl,ms,ol,b,null,-0,0)}}break}while(!0);oa(e)}function lh(e,n,l,c,x,b,_,L,Y,ne,ge,Ee,se,he){if(e.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:lr},J1(n,b,Ee);var Ke=(b&62914560)===b?$o-En():(b&4194048)===b?nh-En():0;if(Ke=mm(Ee,Ke),Ke!==null){Ba=b,e.cancelPendingCommit=Ke(gh.bind(null,e,n,b,l,c,x,_,L,Y,ge,Ee,null,se,he)),hl(e,b,_,!ne);return}}gh(e,n,b,l,c,x,_,L,Y)}function I2(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var x=l[c],b=x.getSnapshot;x=x.value;try{if(!f(b(),x))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hl(e,n,l,c){n&=~Zc,n&=~Yl,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var x=n;0<x;){var b=31-Se(x),_=1<<b;c[b]=-1,x&=~_}l!==0&&da(e,l,n)}function nu(){return($t&6)===0?($s(0),!1):!0}function ef(){if(Dt!==null){if(sn===0)var e=Dt.return;else e=Dt,Ca=Ll=null,pc(e),ss=null,Ls=0,e=Dt;for(;e!==null;)k1(e.alternate,e),e=e.return;Dt=null}}function ys(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,W2(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ba=0,ef(),bn=e,Dt=l=Ea(e.current,null),zt=n,sn=0,pi=null,ol=!1,gs=Yn(e,n),Kc=!1,ms=yi=Zc=Yl=ul=jn=0,$r=Ws=null,Qc=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var x=31-Se(c),b=1<<x;n|=e[x],c&=~b}return Da=n,pt(),l}function sh(e,n){wt=null,ee.H=Vs,n===ls||n===Io?(n=C0(),sn=3):n===ic?(n=C0(),sn=4):sn=n===Mc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pi=n,Dt===null&&(jn=1,Go(e,Si(n,e.current)))}function oh(){var e=gi.current;return e===null?!0:(zt&4194048)===zt?Ni===null:(zt&62914560)===zt||(zt&536870912)!==0?e===Ni:!1}function uh(){var e=ee.H;return ee.H=Vs,e===null?Vs:e}function ch(){var e=ee.A;return ee.A=N2,e}function ru(){jn=4,ol||(zt&4194048)!==zt&&gi.current!==null||(gs=!0),(ul&134217727)===0&&(Yl&134217727)===0||bn===null||hl(bn,zt,yi,!1)}function tf(e,n,l){var c=$t;$t|=2;var x=uh(),b=ch();(bn!==e||zt!==n)&&(tu=null,ys(e,n)),n=!1;var _=jn;e:do try{if(sn!==0&&Dt!==null){var L=Dt,Y=pi;switch(sn){case 8:ef(),_=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(n=!0);var ne=sn;if(sn=0,pi=null,xs(e,L,Y,ne),l&&gs){_=0;break e}break;default:ne=sn,sn=0,pi=null,xs(e,L,Y,ne)}}M2(),_=jn;break}catch(ge){sh(e,ge)}while(!0);return n&&e.shellSuspendCounter++,Ca=Ll=null,$t=c,ee.H=x,ee.A=b,Dt===null&&(bn=null,zt=0,pt()),_}function M2(){for(;Dt!==null;)fh(Dt)}function D2(e,n){var l=$t;$t|=2;var c=uh(),x=ch();bn!==e||zt!==n?(tu=null,eu=En()+500,ys(e,n)):gs=Yn(e,n);e:do try{if(sn!==0&&Dt!==null){n=Dt;var b=pi;t:switch(sn){case 1:sn=0,pi=null,xs(e,n,b,1);break;case 2:case 9:if(E0(b)){sn=0,pi=null,hh(n);break}n=function(){sn!==2&&sn!==9||bn!==e||(sn=7),oa(e)},b.then(n,n);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:E0(b)?(sn=0,pi=null,hh(n)):(sn=0,pi=null,xs(e,n,b,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var L=Dt;if(_?Wh(_):L.stateNode.complete){sn=0,pi=null;var Y=L.sibling;if(Y!==null)Dt=Y;else{var ne=L.return;ne!==null?(Dt=ne,iu(ne)):Dt=null}break t}}sn=0,pi=null,xs(e,n,b,5);break;case 6:sn=0,pi=null,xs(e,n,b,6);break;case 8:ef(),jn=6;break e;default:throw Error(p(462))}}B2();break}catch(ge){sh(e,ge)}while(!0);return Ca=Ll=null,ee.H=c,ee.A=x,$t=l,Dt!==null?0:(bn=null,zt=0,pt(),jn)}function B2(){for(;Dt!==null&&!fa();)fh(Dt)}function fh(e){var n=L1(e.alternate,e,Da);e.memoizedProps=e.pendingProps,n===null?iu(e):Dt=n}function hh(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=N1(l,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=N1(l,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:pc(n);default:k1(l,n),n=Dt=c0(n,Da),n=L1(l,n,Da)}e.memoizedProps=e.pendingProps,n===null?iu(e):Dt=n}function xs(e,n,l,c){Ca=Ll=null,pc(n),ss=null,Ls=0;var x=n.return;try{if(A2(e,x,n,l,zt)){jn=1,Go(e,Si(l,e.current)),Dt=null;return}}catch(b){if(x!==null)throw Dt=x,b;jn=1,Go(e,Si(l,e.current)),Dt=null;return}n.flags&32768?(Vt||c===1?e=!0:gs||(zt&536870912)!==0?e=!1:(ol=e=!0,(c===2||c===9||c===3||c===6)&&(c=gi.current,c!==null&&c.tag===13&&(c.flags|=16384))),dh(n,e)):iu(n)}function iu(e){var n=e;do{if((n.flags&32768)!==0){dh(n,ol);return}e=n.return;var l=S2(n.alternate,n,Da);if(l!==null){Dt=l;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);jn===0&&(jn=5)}function dh(e,n){do{var l=T2(e.alternate,e);if(l!==null){l.flags&=32767,Dt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=l}while(e!==null);jn=6,Dt=null}function gh(e,n,l,c,x,b,_,L,Y){e.cancelPendingCommit=null;do au();while(sr!==0);if(($t&6)!==0)throw Error(p(327));if(n!==null){if(n===e.current)throw Error(p(177));if(b=n.lanes|n.childLanes,b|=et,vr(e,l,b,_,L,Y),e===bn&&(Dt=bn=null,zt=0),ps=n,fl=e,Ba=l,Wc=b,Jc=x,rh=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z2(cr,function(){return wh(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,x=ye.p,ye.p=2,_=$t,$t|=4;try{_2(e,n,l)}finally{$t=_,ye.p=x,ee.T=c}}sr=1,mh(),ph(),yh()}}function mh(){if(sr===1){sr=0;var e=fl,n=ps,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null;var c=ye.p;ye.p=2;var x=$t;$t|=4;try{Z1(n,e);var b=gf,_=w(e.containerInfo),L=b.focusedElem,Y=b.selectionRange;if(_!==L&&L&&L.ownerDocument&&y(L.ownerDocument.documentElement,L)){if(Y!==null&&C(L)){var ne=Y.start,ge=Y.end;if(ge===void 0&&(ge=ne),"selectionStart"in L)L.selectionStart=ne,L.selectionEnd=Math.min(ge,L.value.length);else{var Ee=L.ownerDocument||document,se=Ee&&Ee.defaultView||window;if(se.getSelection){var he=se.getSelection(),Ke=L.textContent.length,it=Math.min(Y.start,Ke),pn=Y.end===void 0?it:Math.min(Y.end,Ke);!he.extend&&it>pn&&(_=pn,pn=it,it=_);var Z=d(L,it),X=d(L,pn);if(Z&&X&&(he.rangeCount!==1||he.anchorNode!==Z.node||he.anchorOffset!==Z.offset||he.focusNode!==X.node||he.focusOffset!==X.offset)){var te=Ee.createRange();te.setStart(Z.node,Z.offset),he.removeAllRanges(),it>pn?(he.addRange(te),he.extend(X.node,X.offset)):(te.setEnd(X.node,X.offset),he.addRange(te))}}}}for(Ee=[],he=L;he=he.parentNode;)he.nodeType===1&&Ee.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ee.length;L++){var we=Ee[L];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}yu=!!df,gf=df=null}finally{$t=x,ye.p=c,ee.T=l}}e.current=n,sr=2}}function ph(){if(sr===2){sr=0;var e=fl,n=ps,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=ee.T,ee.T=null;var c=ye.p;ye.p=2;var x=$t;$t|=4;try{Y1(e,n.alternate,n)}finally{$t=x,ye.p=c,ee.T=l}}sr=3}}function yh(){if(sr===4||sr===3){sr=0,Zi();var e=fl,n=ps,l=Ba,c=rh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sr=5:(sr=0,ps=fl=null,xh(e,e.pendingLanes));var x=e.pendingLanes;if(x===0&&(cl=null),Sr(l),n=n.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Wt,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=ee.T,x=ye.p,ye.p=2,ee.T=null;try{for(var b=e.onRecoverableError,_=0;_<c.length;_++){var L=c[_];b(L.value,{componentStack:L.stack})}}finally{ee.T=n,ye.p=x}}(Ba&3)!==0&&au(),oa(e),x=e.pendingLanes,(l&261930)!==0&&(x&42)!==0?e===$c?Js++:(Js=0,$c=e):Js=0,$s(0)}}function xh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ds(n)))}function au(){return mh(),ph(),yh(),wh()}function wh(){if(sr!==5)return!1;var e=fl,n=Wc;Wc=0;var l=Sr(Ba),c=ee.T,x=ye.p;try{ye.p=32>l?32:l,ee.T=null,l=Jc,Jc=null;var b=fl,_=Ba;if(sr=0,ps=fl=null,Ba=0,($t&6)!==0)throw Error(p(331));var L=$t;if($t|=4,eh(b.current),W1(b,b.current,_,l),$t=L,$s(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Wt,b)}catch{}return!0}finally{ye.p=x,ee.T=c,xh(e,n)}}function bh(e,n,l){n=Si(l,n),n=Ic(e.stateNode,n,2),e=il(e,n,2),e!==null&&(hr(e,2),oa(e))}function on(e,n,l){if(e.tag===3)bh(e,e,l);else for(;n!==null;){if(n.tag===3){bh(n,e,l);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(cl===null||!cl.has(c))){e=Si(l,e),l=E1(2),c=il(n,l,2),c!==null&&(A1(l,c,n,e),hr(c,2),oa(c));break}}n=n.return}}function nf(e,n,l){var c=e.pingCache;if(c===null){c=e.pingCache=new R2;var x=new Set;c.set(n,x)}else x=c.get(n),x===void 0&&(x=new Set,c.set(n,x));x.has(l)||(Kc=!0,x.add(l),e=L2.bind(null,e,n,l),n.then(e,e))}function L2(e,n,l){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,bn===e&&(zt&l)===l&&(jn===4||jn===3&&(zt&62914560)===zt&&300>En()-$o?($t&2)===0&&ys(e,0):Zc|=l,ms===zt&&(ms=0)),oa(e)}function Eh(e,n){n===0&&(n=Gn()),e=nn(e,n),e!==null&&(hr(e,n),oa(e))}function U2(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Eh(e,l)}function k2(e,n){var l=0;switch(e.tag){case 31:case 13:var c=e.stateNode,x=e.memoizedState;x!==null&&(l=x.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(p(314))}c!==null&&c.delete(n),Eh(e,l)}function z2(e,n){return Ai(e,n)}var lu=null,ws=null,rf=!1,su=!1,af=!1,dl=0;function oa(e){e!==ws&&e.next===null&&(ws===null?lu=ws=e:ws=ws.next=e),su=!0,rf||(rf=!0,P2())}function $s(e,n){if(!af&&su){af=!0;do for(var l=!1,c=lu;c!==null;){if(e!==0){var x=c.pendingLanes;if(x===0)var b=0;else{var _=c.suspendedLanes,L=c.pingedLanes;b=(1<<31-Se(42|e)+1)-1,b&=x&~(_&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Sh(c,b))}else b=zt,b=Wi(c,c===bn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Yn(c,b)||(l=!0,Sh(c,b));c=c.next}while(l);af=!1}}function F2(){Ah()}function Ah(){su=rf=!1;var e=0;dl!==0&&Q2()&&(e=dl);for(var n=En(),l=null,c=lu;c!==null;){var x=c.next,b=Ch(c,n);b===0?(c.next=null,l===null?lu=x:l.next=x,x===null&&(ws=l)):(l=c,(e!==0||(b&3)!==0)&&(su=!0)),c=x}sr!==0&&sr!==5||$s(e),dl!==0&&(dl=0)}function Ch(e,n){for(var l=e.suspendedLanes,c=e.pingedLanes,x=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var _=31-Se(b),L=1<<_,Y=x[_];Y===-1?((L&l)===0||(L&c)!==0)&&(x[_]=Cl(L,n)):Y<=n&&(e.expiredLanes|=L),b&=~L}if(n=bn,l=zt,l=Wi(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,l===0||e===n&&(sn===2||sn===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ze(c),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Yn(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(c!==null&&ze(c),Sr(l)){case 2:case 8:l=ri;break;case 32:l=cr;break;case 268435456:l=ha;break;default:l=cr}return c=vh.bind(null,e),l=Ai(l,c),e.callbackPriority=n,e.callbackNode=l,n}return c!==null&&c!==null&&ze(c),e.callbackPriority=2,e.callbackNode=null,2}function vh(e,n){if(sr!==0&&sr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(au()&&e.callbackNode!==l)return null;var c=zt;return c=Wi(e,e===bn?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(ah(e,c,n),Ch(e,En()),e.callbackNode!=null&&e.callbackNode===l?vh.bind(null,e):null)}function Sh(e,n){if(au())return null;ah(e,n,!0)}function P2(){J2(function(){($t&6)!==0?Ai(cn,F2):Ah()})}function lf(){if(dl===0){var e=is;e===0&&(e=Be,Be<<=1,(Be&261888)===0&&(Be=256)),dl=e}return dl}function Th(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kr(""+e)}function _h(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function j2(e,n,l,c,x){if(n==="submit"&&l&&l.stateNode===x){var b=Th((x[Lt]||null).action),_=c.submitter;_&&(n=(n=_[Lt]||null)?Th(n.formAction):_.getAttribute("formAction"),n!==null&&(b=n,_=null));var L=new qn("action","action",null,c,x);e.push({event:L,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(dl!==0){var Y=_?_h(x,_):new FormData(x);Sc(l,{pending:!0,data:Y,method:x.method,action:b},null,Y)}}else typeof b=="function"&&(L.preventDefault(),Y=_?_h(x,_):new FormData(x),Sc(l,{pending:!0,data:Y,method:x.method,action:b},b,Y))},currentTarget:x}]})}}for(var sf=0;sf<ke.length;sf++){var of=ke[sf],H2=of.toLowerCase(),V2=of[0].toUpperCase()+of.slice(1);Te(H2,"on"+V2)}Te(W,"onAnimationEnd"),Te(q,"onAnimationIteration"),Te(re,"onAnimationStart"),Te("dblclick","onDoubleClick"),Te("focusin","onFocus"),Te("focusout","onBlur"),Te(xe,"onTransitionRun"),Te(Oe,"onTransitionStart"),Te(Ie,"onTransitionCancel"),Te(ve,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function Oh(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var c=e[l],x=c.event;c=c.listeners;e:{var b=void 0;if(n)for(var _=c.length-1;0<=_;_--){var L=c[_],Y=L.instance,ne=L.currentTarget;if(L=L.listener,Y!==b&&x.isPropagationStopped())break e;b=L,x.currentTarget=ne;try{b(x)}catch(ge){Ve(ge)}x.currentTarget=null,b=Y}else for(_=0;_<c.length;_++){if(L=c[_],Y=L.instance,ne=L.currentTarget,L=L.listener,Y!==b&&x.isPropagationStopped())break e;b=L,x.currentTarget=ne;try{b(x)}catch(ge){Ve(ge)}x.currentTarget=null,b=Y}}}}function Bt(e,n){var l=n[ii];l===void 0&&(l=n[ii]=new Set);var c=e+"__bubble";l.has(c)||(Nh(n,e,2,!1),l.add(c))}function uf(e,n,l){var c=0;n&&(c|=4),Nh(l,e,c,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function cf(e){if(!e[ou]){e[ou]=!0,be.forEach(function(l){l!=="selectionchange"&&(Y2.has(l)||uf(l,!1,e),uf(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ou]||(n[ou]=!0,uf("selectionchange",!1,n))}}function Nh(e,n,l,c){switch(id(n)){case 2:var x=xm;break;case 8:x=wm;break;default:x=Sf}l=x.bind(null,n,l,e),x=void 0,!Tl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(x=!0),c?x!==void 0?e.addEventListener(n,l,{capture:!0,passive:x}):e.addEventListener(n,l,!0):x!==void 0?e.addEventListener(n,l,{passive:x}):e.addEventListener(n,l,!1)}function ff(e,n,l,c,x){var b=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var L=c.stateNode.containerInfo;if(L===x)break;if(_===4)for(_=c.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&_.stateNode.containerInfo===x)return;_=_.return}for(;L!==null;){if(_=An(L),_===null)return;if(Y=_.tag,Y===5||Y===6||Y===26||Y===27){c=b=_;continue e}L=L.parentNode}}c=c.return}Ji(function(){var ne=b,ge=ja(l),Ee=[];e:{var se=Pe.get(e);if(se!==void 0){var he=qn,Ke=e;switch(e){case"keypress":if(qr(l)===0)break e;case"keydown":case"keyup":he=ji;break;case"focusin":Ke="focus",he=ta;break;case"focusout":Ke="blur",he=ta;break;case"beforeblur":case"afterblur":he=ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Il;break;case W:case q:case re:he=mt;break;case ve:he=ui;break;case"scroll":case"scrollend":he=ma;break;case"wheel":he=Xa;break;case"copy":case"cut":case"paste":he=si;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Xt;break;case"toggle":case"beforetoggle":he=qa}var it=(n&4)!==0,pn=!it&&(e==="scroll"||e==="scrollend"),Z=it?se!==null?se+"Capture":null:se;it=[];for(var X=ne,te;X!==null;){var we=X;if(te=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||te===null||Z===null||(we=st(X,Z),we!=null&&it.push(to(X,we,te))),pn)break;X=X.return}0<it.length&&(se=new he(se,Ke,null,l,ge),Ee.push({event:se,listeners:it}))}}if((n&7)===0){e:{if(se=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",se&&l!==Or&&(Ke=l.relatedTarget||l.fromElement)&&(An(Ke)||Ke[kn]))break e;if((he||se)&&(se=ge.window===ge?ge:(se=ge.ownerDocument)?se.defaultView||se.parentWindow:window,he?(Ke=l.relatedTarget||l.toElement,he=ne,Ke=Ke?An(Ke):null,Ke!==null&&(pn=E(Ke),it=Ke.tag,Ke!==pn||it!==5&&it!==27&&it!==6)&&(Ke=null)):(he=null,Ke=ne),he!==Ke)){if(it=jt,we="onMouseLeave",Z="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&(it=Xt,we="onPointerLeave",Z="onPointerEnter",X="pointer"),pn=he==null?se:Tr(he),te=Ke==null?se:Tr(Ke),se=new it(we,X+"leave",he,l,ge),se.target=pn,se.relatedTarget=te,we=null,An(ge)===ne&&(it=new it(Z,X+"enter",Ke,l,ge),it.target=te,it.relatedTarget=pn,we=it),pn=we,he&&Ke)t:{for(it=G2,Z=he,X=Ke,te=0,we=Z;we;we=it(we))te++;we=0;for(var tt=X;tt;tt=it(tt))we++;for(;0<te-we;)Z=it(Z),te--;for(;0<we-te;)X=it(X),we--;for(;te--;){if(Z===X||X!==null&&Z===X.alternate){it=Z;break t}Z=it(Z),X=it(X)}it=null}else it=null;he!==null&&Rh(Ee,se,he,it,!1),Ke!==null&&pn!==null&&Rh(Ee,pn,Ke,it,!0)}}e:{if(se=ne?Tr(ne):window,he=se.nodeName&&se.nodeName.toLowerCase(),he==="select"||he==="input"&&se.type==="file")var qt=or;else if(xa(se))if(Kr)qt=s;else{qt=r;var Ze=t}else he=se.nodeName,!he||he.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ne&&an(ne.elementType)&&(qt=or):qt=a;if(qt&&(qt=qt(e,ne))){Rr(Ee,qt,l,ge);break e}Ze&&Ze(e,se,ne),e==="focusout"&&ne&&se.type==="number"&&ne.memoizedProps.value!=null&&P(se,"number",se.value)}switch(Ze=ne?Tr(ne):window,e){case"focusin":(xa(Ze)||Ze.contentEditable==="true")&&(O=Ze,I=ne,k=null);break;case"focusout":k=I=O=null;break;case"mousedown":U=!0;break;case"contextmenu":case"mouseup":case"dragend":U=!1,z(Ee,l,ge);break;case"selectionchange":if(S)break;case"keydown":case"keyup":z(Ee,l,ge)}var Et;if(Hi)e:{switch(e){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Vi?Ml(e,l)&&(Ft="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ft="onCompositionStart");Ft&&(Ka&&l.locale!=="ko"&&(Vi||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Vi&&(Et=Xr()):(zr=ge,Gr="value"in zr?zr.value:zr.textContent,Vi=!0)),Ze=uu(ne,Ft),0<Ze.length&&(Ft=new Ga(Ft,e,null,l,ge),Ee.push({event:Ft,listeners:Ze}),Et?Ft.data=Et:(Et=na(l),Et!==null&&(Ft.data=Et)))),(Et=Jl?hi(e,l):Qa(e,l))&&(Ft=uu(ne,"onBeforeInput"),0<Ft.length&&(Ze=new Ga("onBeforeInput","beforeinput",null,l,ge),Ee.push({event:Ze,listeners:Ft}),Ze.data=Et)),j2(Ee,e,ne,l,ge)}Oh(Ee,n)})}function to(e,n,l){return{instance:e,listener:n,currentTarget:l}}function uu(e,n){for(var l=n+"Capture",c=[];e!==null;){var x=e,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=st(e,l),x!=null&&c.unshift(to(e,x,b)),x=st(e,n),x!=null&&c.push(to(e,x,b))),e.tag===3)return c;e=e.return}return[]}function G2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rh(e,n,l,c,x){for(var b=n._reactName,_=[];l!==null&&l!==c;){var L=l,Y=L.alternate,ne=L.stateNode;if(L=L.tag,Y!==null&&Y===c)break;L!==5&&L!==26&&L!==27||ne===null||(Y=ne,x?(ne=st(l,b),ne!=null&&_.unshift(to(l,ne,Y))):x||(ne=st(l,b),ne!=null&&_.push(to(l,ne,Y)))),l=l.return}_.length!==0&&e.push({event:n,listeners:_})}var X2=/\r\n?/g,q2=/\u0000|\uFFFD/g;function Ih(e){return(typeof e=="string"?e:""+e).replace(X2,`
`).replace(q2,"")}function Mh(e,n){return n=Ih(n),Ih(e)===n}function mn(e,n,l,c,x,b){switch(l){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Pi(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Pi(e,""+c);break;case"className":Fi(e,"class",c);break;case"tabIndex":Fi(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fi(e,l,c);break;case"style":Qe(e,c,b);break;case"data":if(n!=="object"){Fi(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=kr(""+c),e.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(n!=="input"&&mn(e,n,"name",x.name,x,null),mn(e,n,"formEncType",x.formEncType,x,null),mn(e,n,"formMethod",x.formMethod,x,null),mn(e,n,"formTarget",x.formTarget,x,null)):(mn(e,n,"encType",x.encType,x,null),mn(e,n,"method",x.method,x,null),mn(e,n,"target",x.target,x,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=kr(""+c),e.setAttribute(l,c);break;case"onClick":c!=null&&(e.onclick=lr);break;case"onScroll":c!=null&&Bt("scroll",e);break;case"onScrollEnd":c!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(p(61));if(l=c.__html,l!=null){if(x.children!=null)throw Error(p(60));e.innerHTML=l}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}l=kr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""+c):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":c===!0?e.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,c):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(l,c):e.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(l):e.setAttribute(l,c);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),gt(e,"popover",c);break;case"xlinkActuate":_r(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_r(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_r(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_r(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_r(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_r(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_r(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_r(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_r(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":gt(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ql.get(l)||l,gt(e,l,c))}}function hf(e,n,l,c,x,b){switch(l){case"style":Qe(e,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(p(61));if(l=c.__html,l!=null){if(x.children!=null)throw Error(p(60));e.innerHTML=l}}break;case"children":typeof c=="string"?Pi(e,c):(typeof c=="number"||typeof c=="bigint")&&Pi(e,""+c);break;case"onScroll":c!=null&&Bt("scroll",e);break;case"onScrollEnd":c!=null&&Bt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(x=l.endsWith("Capture"),n=l.slice(2,x?l.length-7:void 0),b=e[Lt]||null,b=b!=null?b[l]:null,typeof b=="function"&&e.removeEventListener(n,b,x),typeof c=="function")){typeof b!="function"&&b!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,c,x);break e}l in e?e[l]=c:c===!0?e.setAttribute(l,""):gt(e,l,c)}}}function Ar(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var c=!1,x=!1,b;for(b in l)if(l.hasOwnProperty(b)){var _=l[b];if(_!=null)switch(b){case"src":c=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:mn(e,n,b,_,l,null)}}x&&mn(e,n,"srcSet",l.srcSet,l,null),c&&mn(e,n,"src",l.src,l,null);return;case"input":Bt("invalid",e);var L=b=_=x=null,Y=null,ne=null;for(c in l)if(l.hasOwnProperty(c)){var ge=l[c];if(ge!=null)switch(c){case"name":x=ge;break;case"type":_=ge;break;case"checked":Y=ge;break;case"defaultChecked":ne=ge;break;case"value":b=ge;break;case"defaultValue":L=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(p(137,n));break;default:mn(e,n,c,ge,l,null)}}Q(e,b,L,Y,ne,_,x,!1);return;case"select":Bt("invalid",e),c=_=b=null;for(x in l)if(l.hasOwnProperty(x)&&(L=l[x],L!=null))switch(x){case"value":b=L;break;case"defaultValue":_=L;break;case"multiple":c=L;default:mn(e,n,x,L,l,null)}n=b,l=_,e.multiple=!!c,n!=null?Ge(e,!!c,n,!1):l!=null&&Ge(e,!!c,l,!0);return;case"textarea":Bt("invalid",e),b=x=c=null;for(_ in l)if(l.hasOwnProperty(_)&&(L=l[_],L!=null))switch(_){case"value":c=L;break;case"defaultValue":x=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(p(91));break;default:mn(e,n,_,L,l,null)}er(e,c,x,b);return;case"option":for(Y in l)l.hasOwnProperty(Y)&&(c=l[Y],c!=null)&&(Y==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":mn(e,n,Y,c,l,null));return;case"dialog":Bt("beforetoggle",e),Bt("toggle",e),Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(c=0;c<eo.length;c++)Bt(eo[c],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(c=l[ne],c!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:mn(e,n,ne,c,l,null)}return;default:if(an(n)){for(ge in l)l.hasOwnProperty(ge)&&(c=l[ge],c!==void 0&&hf(e,n,ge,c,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(c=l[L],c!=null&&mn(e,n,L,c,l,null))}function K2(e,n,l,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,_=null,L=null,Y=null,ne=null,ge=null;for(he in l){var Ee=l[he];if(l.hasOwnProperty(he)&&Ee!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":Y=Ee;default:c.hasOwnProperty(he)||mn(e,n,he,null,c,Ee)}}for(var se in c){var he=c[se];if(Ee=l[se],c.hasOwnProperty(se)&&(he!=null||Ee!=null))switch(se){case"type":b=he;break;case"name":x=he;break;case"checked":ne=he;break;case"defaultChecked":ge=he;break;case"value":_=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(p(137,n));break;default:he!==Ee&&mn(e,n,se,he,c,Ee)}}yn(e,_,L,Y,ne,ge,b,x);return;case"select":he=_=L=se=null;for(b in l)if(Y=l[b],l.hasOwnProperty(b)&&Y!=null)switch(b){case"value":break;case"multiple":he=Y;default:c.hasOwnProperty(b)||mn(e,n,b,null,c,Y)}for(x in c)if(b=c[x],Y=l[x],c.hasOwnProperty(x)&&(b!=null||Y!=null))switch(x){case"value":se=b;break;case"defaultValue":L=b;break;case"multiple":_=b;default:b!==Y&&mn(e,n,x,b,c,Y)}n=L,l=_,c=he,se!=null?Ge(e,!!l,se,!1):!!c!=!!l&&(n!=null?Ge(e,!!l,n,!0):Ge(e,!!l,l?[]:"",!1));return;case"textarea":he=se=null;for(L in l)if(x=l[L],l.hasOwnProperty(L)&&x!=null&&!c.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:mn(e,n,L,null,c,x)}for(_ in c)if(x=c[_],b=l[_],c.hasOwnProperty(_)&&(x!=null||b!=null))switch(_){case"value":se=x;break;case"defaultValue":he=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(p(91));break;default:x!==b&&mn(e,n,_,x,c,b)}Rn(e,se,he);return;case"option":for(var Ke in l)se=l[Ke],l.hasOwnProperty(Ke)&&se!=null&&!c.hasOwnProperty(Ke)&&(Ke==="selected"?e.selected=!1:mn(e,n,Ke,null,c,se));for(Y in c)se=c[Y],he=l[Y],c.hasOwnProperty(Y)&&se!==he&&(se!=null||he!=null)&&(Y==="selected"?e.selected=se&&typeof se!="function"&&typeof se!="symbol":mn(e,n,Y,se,c,he));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in l)se=l[it],l.hasOwnProperty(it)&&se!=null&&!c.hasOwnProperty(it)&&mn(e,n,it,null,c,se);for(ne in c)if(se=c[ne],he=l[ne],c.hasOwnProperty(ne)&&se!==he&&(se!=null||he!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(p(137,n));break;default:mn(e,n,ne,se,c,he)}return;default:if(an(n)){for(var pn in l)se=l[pn],l.hasOwnProperty(pn)&&se!==void 0&&!c.hasOwnProperty(pn)&&hf(e,n,pn,void 0,c,se);for(ge in c)se=c[ge],he=l[ge],!c.hasOwnProperty(ge)||se===he||se===void 0&&he===void 0||hf(e,n,ge,se,c,he);return}}for(var Z in l)se=l[Z],l.hasOwnProperty(Z)&&se!=null&&!c.hasOwnProperty(Z)&&mn(e,n,Z,null,c,se);for(Ee in c)se=c[Ee],he=l[Ee],!c.hasOwnProperty(Ee)||se===he||se==null&&he==null||mn(e,n,Ee,se,c,he)}function Dh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var x=l[c],b=x.transferSize,_=x.initiatorType,L=x.duration;if(b&&L&&Dh(_)){for(_=0,L=x.responseEnd,c+=1;c<l.length;c++){var Y=l[c],ne=Y.startTime;if(ne>L)break;var ge=Y.transferSize,Ee=Y.initiatorType;ge&&Dh(Ee)&&(Y=Y.responseEnd,_+=ge*(Y<L?1:(L-ne)/(Y-ne)))}if(--c,n+=8*(b+_)/(x.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var df=null,gf=null;function cu(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function mf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pf=null;function Q2(){var e=window.event;return e&&e.type==="popstate"?e===pf?!1:(pf=e,!0):(pf=null,!1)}var Uh=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,kh=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof kh<"u"?function(e){return kh.resolve(null).then(e).catch($2)}:Uh;function $2(e){setTimeout(function(){throw e})}function gl(e){return e==="head"}function zh(e,n){var l=n,c=0;do{var x=l.nextSibling;if(e.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"||l==="/&"){if(c===0){e.removeChild(x),Cs(n);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")no(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,no(l);for(var b=l.firstChild;b;){var _=b.nextSibling,L=b.nodeName;b[Ur]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=_}}else l==="body"&&no(e.ownerDocument.body);l=x}while(l);Cs(n)}function Fh(e,n){var l=e;e=0;do{var c=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=c}while(l)}function yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yf(l),gr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function em(e,n,l,c){for(;e.nodeType===1;){var x=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[Ur])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==x.rel||e.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||e.getAttribute("title")!==(x.title==null?null:x.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(x.src==null?null:x.src)||e.getAttribute("type")!==(x.type==null?null:x.type)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=Ri(e.nextSibling),e===null)break}return null}function tm(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ri(e.nextSibling),e===null))return null;return e}function Ph(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ri(e.nextSibling),e===null))return null;return e}function xf(e){return e.data==="$?"||e.data==="$~"}function wf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nm(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var c=function(){n(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Ri(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var bf=null;function jh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ri(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Hh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Vh(e,n,l){switch(n=cu(l),e){case"html":if(e=n.documentElement,!e)throw Error(p(452));return e;case"head":if(e=n.head,!e)throw Error(p(453));return e;case"body":if(e=n.body,!e)throw Error(p(454));return e;default:throw Error(p(451))}}function no(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gr(e)}var Ii=new Map,Yh=new Set;function fu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var La=ye.d;ye.d={f:rm,r:im,D:am,C:lm,L:sm,m:om,X:cm,S:um,M:fm};function rm(){var e=La.f(),n=nu();return e||n}function im(e){var n=nt(e);n!==null&&n.tag===5&&n.type==="form"?s1(n):La.r(e)}var bs=typeof document>"u"?null:document;function Gh(e,n,l){var c=bs;if(c&&typeof n=="string"&&n){var x=dt(n);x='link[rel="'+e+'"][href="'+x+'"]',typeof l=="string"&&(x+='[crossorigin="'+l+'"]'),Yh.has(x)||(Yh.add(x),e={rel:e,crossOrigin:l,href:n},c.querySelector(x)===null&&(n=c.createElement("link"),Ar(n,"link",e),_n(n),c.head.appendChild(n)))}}function am(e){La.D(e),Gh("dns-prefetch",e,null)}function lm(e,n){La.C(e,n),Gh("preconnect",e,n)}function sm(e,n,l){La.L(e,n,l);var c=bs;if(c&&e&&n){var x='link[rel="preload"][as="'+dt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(x+='[imagesrcset="'+dt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(x+='[imagesizes="'+dt(l.imageSizes)+'"]')):x+='[href="'+dt(e)+'"]';var b=x;switch(n){case"style":b=Es(e);break;case"script":b=As(e)}Ii.has(b)||(e=B({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Ii.set(b,e),c.querySelector(x)!==null||n==="style"&&c.querySelector(ro(b))||n==="script"&&c.querySelector(io(b))||(n=c.createElement("link"),Ar(n,"link",e),_n(n),c.head.appendChild(n)))}}function om(e,n){La.m(e,n);var l=bs;if(l&&e){var c=n&&typeof n.as=="string"?n.as:"script",x='link[rel="modulepreload"][as="'+dt(c)+'"][href="'+dt(e)+'"]',b=x;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=As(e)}if(!Ii.has(b)&&(e=B({rel:"modulepreload",href:e},n),Ii.set(b,e),l.querySelector(x)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(io(b)))return}c=l.createElement("link"),Ar(c,"link",e),_n(c),l.head.appendChild(c)}}}function um(e,n,l){La.S(e,n,l);var c=bs;if(c&&e){var x=Tn(c).hoistableStyles,b=Es(e);n=n||"default";var _=x.get(b);if(!_){var L={loading:0,preload:null};if(_=c.querySelector(ro(b)))L.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Ii.get(b))&&Ef(e,l);var Y=_=c.createElement("link");_n(Y),Ar(Y,"link",e),Y._p=new Promise(function(ne,ge){Y.onload=ne,Y.onerror=ge}),Y.addEventListener("load",function(){L.loading|=1}),Y.addEventListener("error",function(){L.loading|=2}),L.loading|=4,hu(_,n,c)}_={type:"stylesheet",instance:_,count:1,state:L},x.set(b,_)}}}function cm(e,n){La.X(e,n);var l=bs;if(l&&e){var c=Tn(l).hoistableScripts,x=As(e),b=c.get(x);b||(b=l.querySelector(io(x)),b||(e=B({src:e,async:!0},n),(n=Ii.get(x))&&Af(e,n),b=l.createElement("script"),_n(b),Ar(b,"link",e),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(x,b))}}function fm(e,n){La.M(e,n);var l=bs;if(l&&e){var c=Tn(l).hoistableScripts,x=As(e),b=c.get(x);b||(b=l.querySelector(io(x)),b||(e=B({src:e,async:!0,type:"module"},n),(n=Ii.get(x))&&Af(e,n),b=l.createElement("script"),_n(b),Ar(b,"link",e),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(x,b))}}function Xh(e,n,l,c){var x=(x=Ne.current)?fu(x):null;if(!x)throw Error(p(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Es(l.href),l=Tn(x).hoistableStyles,c=l.get(n),c||(c={type:"style",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Es(l.href);var b=Tn(x).hoistableStyles,_=b.get(e);if(_||(x=x.ownerDocument||x,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,_),(b=x.querySelector(ro(e)))&&!b._p&&(_.instance=b,_.state.loading=5),Ii.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ii.set(e,l),b||hm(x,e,l,_.state))),n&&c===null)throw Error(p(528,""));return _}if(n&&c!==null)throw Error(p(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(l),l=Tn(x).hoistableScripts,c=l.get(n),c||(c={type:"script",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,e))}}function Es(e){return'href="'+dt(e)+'"'}function ro(e){return'link[rel="stylesheet"]['+e+"]"}function qh(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function hm(e,n,l,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),Ar(n,"link",l),_n(n),e.head.appendChild(n))}function As(e){return'[src="'+dt(e)+'"]'}function io(e){return"script[async]"+e}function Kh(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+dt(l.href)+'"]');if(c)return n.instance=c,_n(c),c;var x=B({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),_n(c),Ar(c,"style",x),hu(c,l.precedence,e),n.instance=c;case"stylesheet":x=Es(l.href);var b=e.querySelector(ro(x));if(b)return n.state.loading|=4,n.instance=b,_n(b),b;c=qh(l),(x=Ii.get(x))&&Ef(c,x),b=(e.ownerDocument||e).createElement("link"),_n(b);var _=b;return _._p=new Promise(function(L,Y){_.onload=L,_.onerror=Y}),Ar(b,"link",c),n.state.loading|=4,hu(b,l.precedence,e),n.instance=b;case"script":return b=As(l.src),(x=e.querySelector(io(b)))?(n.instance=x,_n(x),x):(c=l,(x=Ii.get(b))&&(c=B({},l),Af(c,x)),e=e.ownerDocument||e,x=e.createElement("script"),_n(x),Ar(x,"link",c),e.head.appendChild(x),n.instance=x);case"void":return null;default:throw Error(p(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,hu(c,l.precedence,e));return n.instance}function hu(e,n,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=c.length?c[c.length-1]:null,b=x,_=0;_<c.length;_++){var L=c[_];if(L.dataset.precedence===n)b=L;else if(b!==x)break}b?b.parentNode.insertBefore(e,b.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Ef(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var du=null;function Zh(e,n,l){if(du===null){var c=new Map,x=du=new Map;x.set(l,c)}else x=du,c=x.get(l),c||(c=new Map,x.set(l,c));if(c.has(e))return c;for(c.set(e,null),l=l.getElementsByTagName(e),x=0;x<l.length;x++){var b=l[x];if(!(b[Ur]||b[tn]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(n)||"";_=e+_;var L=c.get(_);L?L.push(b):c.set(_,[b])}}return c}function Qh(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function dm(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gm(e,n,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Es(c.href),b=n.querySelector(ro(x));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gu.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=b,_n(b);return}b=n.ownerDocument||n,c=qh(c),(x=Ii.get(x))&&Ef(c,x),b=b.createElement("link"),_n(b);var _=b;_._p=new Promise(function(L,Y){_.onload=L,_.onerror=Y}),Ar(b,"link",c),l.instance=b}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=gu.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Cf=0;function mm(e,n){return e.stylesheets&&e.count===0&&pu(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var c=setTimeout(function(){if(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend){var b=e.unsuspend;e.unsuspend=null,b()}},6e4+n);0<e.imgBytes&&Cf===0&&(Cf=62500*Z2());var x=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pu(e,e.stylesheets),e.unsuspend)){var b=e.unsuspend;e.unsuspend=null,b()}},(e.imgBytes>Cf?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(x)}}:null}function gu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mu=null;function pu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mu=new Map,n.forEach(pm,e),mu=null,gu.call(e))}function pm(e,n){if(!(n.state.loading&4)){var l=mu.get(e);if(l)var c=l.get(null);else{l=new Map,mu.set(e,l);for(var x=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var _=x[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),c=_)}c&&l.set(null,c)}x=n.instance,_=x.getAttribute("data-precedence"),b=l.get(_)||c,b===c&&l.set(null,x),l.set(_,x),this.count++,c=gu.bind(this),x.addEventListener("load",c),x.addEventListener("error",c),b?b.parentNode.insertBefore(x,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(x,e.firstChild)),n.state.loading|=4}}var ao={$$typeof:pe,Provider:null,Consumer:null,_currentValue:He,_currentValue2:He,_threadCount:0};function ym(e,n,l,c,x,b,_,L,Y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=c,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Jh(e,n,l,c,x,b,_,L,Y,ne,ge,Ee){return e=new ym(e,n,l,_,Y,ne,ge,Ee,L),n=1,b===!0&&(n|=24),b=di(3,null,null,n),e.current=b,b.stateNode=e,n=tc(),n.refCount++,e.pooledCache=n,n.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:n},ac(b),e}function $h(e){return e?(e=$l,e):$l}function ed(e,n,l,c,x,b){x=$h(x),c.context===null?c.context=x:c.pendingContext=x,c=rl(n),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=il(e,c,n),l!==null&&(ei(l,e,n),ks(l,e,n))}function td(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function vf(e,n){td(e,n),(e=e.alternate)&&td(e,n)}function nd(e){if(e.tag===13||e.tag===31){var n=nn(e,67108864);n!==null&&ei(n,e,67108864),vf(e,67108864)}}function rd(e){if(e.tag===13||e.tag===31){var n=xi();n=Jn(n);var l=nn(e,n);l!==null&&ei(l,e,n),vf(e,n)}}var yu=!0;function xm(e,n,l,c){var x=ee.T;ee.T=null;var b=ye.p;try{ye.p=2,Sf(e,n,l,c)}finally{ye.p=b,ee.T=x}}function wm(e,n,l,c){var x=ee.T;ee.T=null;var b=ye.p;try{ye.p=8,Sf(e,n,l,c)}finally{ye.p=b,ee.T=x}}function Sf(e,n,l,c){if(yu){var x=Tf(c);if(x===null)ff(e,n,c,xu,l),ad(e,c);else if(Em(x,e,n,l,c))c.stopPropagation();else if(ad(e,c),n&4&&-1<bm.indexOf(e)){for(;x!==null;){var b=nt(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=Hr(b.pendingLanes);if(_!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;_;){var Y=1<<31-Se(_);L.entanglements[1]|=Y,_&=~Y}oa(b),($t&6)===0&&(eu=En()+500,$s(0))}}break;case 31:case 13:L=nn(b,2),L!==null&&ei(L,b,2),nu(),vf(b,2)}if(b=Tf(c),b===null&&ff(e,n,c,xu,l),b===x)break;x=b}x!==null&&c.stopPropagation()}else ff(e,n,c,null,l)}}function Tf(e){return e=ja(e),_f(e)}var xu=null;function _f(e){if(xu=null,e=An(e),e!==null){var n=E(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=T(n),e!==null)return e;e=null}else if(l===31){if(e=R(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xu=e,null}function id(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case cn:return 2;case ri:return 8;case cr:case Mn:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Of=!1,ml=null,pl=null,yl=null,lo=new Map,so=new Map,xl=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ad(e,n){switch(e){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function oo(e,n,l,c,x,b){return e===null||e.nativeEvent!==b?(e={blockedOn:n,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[x]},n!==null&&(n=nt(n),n!==null&&nd(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,x!==null&&n.indexOf(x)===-1&&n.push(x),e)}function Em(e,n,l,c,x){switch(n){case"focusin":return ml=oo(ml,e,n,l,c,x),!0;case"dragenter":return pl=oo(pl,e,n,l,c,x),!0;case"mouseover":return yl=oo(yl,e,n,l,c,x),!0;case"pointerover":var b=x.pointerId;return lo.set(b,oo(lo.get(b)||null,e,n,l,c,x)),!0;case"gotpointercapture":return b=x.pointerId,so.set(b,oo(so.get(b)||null,e,n,l,c,x)),!0}return!1}function ld(e){var n=An(e.target);if(n!==null){var l=E(n);if(l!==null){if(n=l.tag,n===13){if(n=T(l),n!==null){e.blockedOn=n,Fe(e.priority,function(){rd(l)});return}}else if(n===31){if(n=R(l),n!==null){e.blockedOn=n,Fe(e.priority,function(){rd(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Tf(e.nativeEvent);if(l===null){l=e.nativeEvent;var c=new l.constructor(l.type,l);Or=c,l.target.dispatchEvent(c),Or=null}else return n=nt(l),n!==null&&nd(n),e.blockedOn=l,!1;n.shift()}return!0}function sd(e,n,l){wu(e)&&l.delete(n)}function Am(){Of=!1,ml!==null&&wu(ml)&&(ml=null),pl!==null&&wu(pl)&&(pl=null),yl!==null&&wu(yl)&&(yl=null),lo.forEach(sd),so.forEach(sd)}function bu(e,n){e.blockedOn===n&&(e.blockedOn=null,Of||(Of=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Am)))}var Eu=null;function od(e){Eu!==e&&(Eu=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Eu===e&&(Eu=null);for(var n=0;n<e.length;n+=3){var l=e[n],c=e[n+1],x=e[n+2];if(typeof c!="function"){if(_f(c||l)===null)continue;break}var b=nt(l);b!==null&&(e.splice(n,3),n-=3,Sc(b,{pending:!0,data:x,method:l.method,action:c},c,x))}}))}function Cs(e){function n(Y){return bu(Y,e)}ml!==null&&bu(ml,e),pl!==null&&bu(pl,e),yl!==null&&bu(yl,e),lo.forEach(n),so.forEach(n);for(var l=0;l<xl.length;l++){var c=xl[l];c.blockedOn===e&&(c.blockedOn=null)}for(;0<xl.length&&(l=xl[0],l.blockedOn===null);)ld(l),l.blockedOn===null&&xl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var x=l[c],b=l[c+1],_=x[Lt]||null;if(typeof b=="function")_||od(l);else if(_){var L=null;if(b&&b.hasAttribute("formAction")){if(x=b,_=b[Lt]||null)L=_.formAction;else if(_f(x)!==null)continue}else L=_.action;typeof L=="function"?l[c+1]=L:(l.splice(c,3),c-=3),od(l)}}}function ud(){function e(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(_){return x=_})},focusReset:"manual",scroll:"manual"})}function n(){x!==null&&(x(),x=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,x=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),x!==null&&(x(),x=null)}}}function Nf(e){this._internalRoot=e}Au.prototype.render=Nf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(p(409));var l=n.current,c=xi();ed(l,c,e,n,null,null)},Au.prototype.unmount=Nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ed(e.current,2,null,e,null,null),nu(),n[kn]=null}};function Au(e){this._internalRoot=e}Au.prototype.unstable_scheduleHydration=function(e){if(e){var n=$n();e={blockedOn:null,target:e,priority:n};for(var l=0;l<xl.length&&n!==0&&n<xl[l].priority;l++);xl.splice(l,0,e),l===0&&ld(e)}};var cd=g.version;if(cd!=="19.2.4")throw Error(p(527,cd,"19.2.4"));ye.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=v(n),e=e!==null?M(e):null,e=e===null?null:e.stateNode,e};var Cm={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Wt=Cu.inject(Cm),_e=Cu}catch{}}return fo.createRoot=function(e,n){if(!A(e))throw Error(p(299));var l=!1,c="",x=y1,b=x1,_=w1;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Jh(e,1,!1,null,null,l,c,null,x,b,_,ud),e[kn]=n.current,cf(e),new Nf(n)},fo.hydrateRoot=function(e,n,l){if(!A(e))throw Error(p(299));var c=!1,x="",b=y1,_=x1,L=w1,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),n=Jh(e,1,!0,n,l??null,c,x,Y,b,_,L,ud),n.context=$h(null),l=n.current,c=xi(),c=Jn(c),x=rl(c),x.callback=null,il(l,x,c),l=c,n.current.lanes=l,hr(n,l),oa(n),e[kn]=n.current,cf(e),new Au(n)},fo.version="19.2.4",fo}var bd;function Dm(){if(bd)return Mf.exports;bd=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),Mf.exports=Mm(),Mf.exports}var Bm=Dm();var Ed="popstate";function Lm(h={}){function g(p,A){let{pathname:E,search:T,hash:R}=p.location;return Hf("",{pathname:E,search:T,hash:R},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function m(p,A){return typeof A=="string"?A:yo(A)}return km(g,m,null,h)}function Bn(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function ca(h,g){if(!h){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function Um(){return Math.random().toString(36).substring(2,10)}function Ad(h,g){return{usr:h.state,key:h.key,idx:g}}function Hf(h,g,m=null,p){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof g=="string"?_s(g):g,state:m,key:g&&g.key||p||Um()}}function yo({pathname:h="/",search:g="",hash:m=""}){return g&&g!=="?"&&(h+=g.charAt(0)==="?"?g:"?"+g),m&&m!=="#"&&(h+=m.charAt(0)==="#"?m:"#"+m),h}function _s(h){let g={};if(h){let m=h.indexOf("#");m>=0&&(g.hash=h.substring(m),h=h.substring(0,m));let p=h.indexOf("?");p>=0&&(g.search=h.substring(p),h=h.substring(0,p)),h&&(g.pathname=h)}return g}function km(h,g,m,p={}){let{window:A=document.defaultView,v5Compat:E=!1}=p,T=A.history,R="POP",D=null,v=M();v==null&&(v=0,T.replaceState({...T.state,idx:v},""));function M(){return(T.state||{idx:null}).idx}function B(){R="POP";let le=M(),Re=le==null?null:le-v;v=le,D&&D({action:R,location:J.location,delta:Re})}function ae(le,Re){R="PUSH";let Ae=Hf(J.location,le,Re);v=M()+1;let pe=Ad(Ae,v),Ue=J.createHref(Ae);try{T.pushState(pe,"",Ue)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;A.location.assign(Ue)}E&&D&&D({action:R,location:J.location,delta:1})}function me(le,Re){R="REPLACE";let Ae=Hf(J.location,le,Re);v=M();let pe=Ad(Ae,v),Ue=J.createHref(Ae);T.replaceState(pe,"",Ue),E&&D&&D({action:R,location:J.location,delta:0})}function $(le){return zm(le)}let J={get action(){return R},get location(){return h(A,T)},listen(le){if(D)throw new Error("A history only accepts one active listener");return A.addEventListener(Ed,B),D=le,()=>{A.removeEventListener(Ed,B),D=null}},createHref(le){return g(A,le)},createURL:$,encodeLocation(le){let Re=$(le);return{pathname:Re.pathname,search:Re.search,hash:Re.hash}},push:ae,replace:me,go(le){return T.go(le)}};return J}function zm(h,g=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),Bn(m,"No window.location.(origin|href) available to create URL");let p=typeof h=="string"?h:yo(h);return p=p.replace(/ $/,"%20"),!g&&p.startsWith("//")&&(p=m+p),new URL(p,m)}function cg(h,g,m="/"){return Fm(h,g,m,!1)}function Fm(h,g,m,p){let A=typeof g=="string"?_s(g):g,E=za(A.pathname||"/",m);if(E==null)return null;let T=fg(h);Pm(T);let R=null;for(let D=0;R==null&&D<T.length;++D){let v=Wm(E);R=Zm(T[D],v,p)}return R}function fg(h,g=[],m=[],p="",A=!1){let E=(T,R,D=A,v)=>{let M={relativePath:v===void 0?T.path||"":v,caseSensitive:T.caseSensitive===!0,childrenIndex:R,route:T};if(M.relativePath.startsWith("/")){if(!M.relativePath.startsWith(p)&&D)return;Bn(M.relativePath.startsWith(p),`Absolute route path "${M.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),M.relativePath=M.relativePath.slice(p.length)}let B=ka([p,M.relativePath]),ae=m.concat(M);T.children&&T.children.length>0&&(Bn(T.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${B}".`),fg(T.children,g,ae,B,D)),!(T.path==null&&!T.index)&&g.push({path:B,score:qm(B,T.index),routesMeta:ae})};return h.forEach((T,R)=>{if(T.path===""||!T.path?.includes("?"))E(T,R);else for(let D of hg(T.path))E(T,R,!0,D)}),g}function hg(h){let g=h.split("/");if(g.length===0)return[];let[m,...p]=g,A=m.endsWith("?"),E=m.replace(/\?$/,"");if(p.length===0)return A?[E,""]:[E];let T=hg(p.join("/")),R=[];return R.push(...T.map(D=>D===""?E:[E,D].join("/"))),A&&R.push(...T),R.map(D=>h.startsWith("/")&&D===""?"/":D)}function Pm(h){h.sort((g,m)=>g.score!==m.score?m.score-g.score:Km(g.routesMeta.map(p=>p.childrenIndex),m.routesMeta.map(p=>p.childrenIndex)))}var jm=/^:[\w-]+$/,Hm=3,Vm=2,Ym=1,Gm=10,Xm=-2,Cd=h=>h==="*";function qm(h,g){let m=h.split("/"),p=m.length;return m.some(Cd)&&(p+=Xm),g&&(p+=Vm),m.filter(A=>!Cd(A)).reduce((A,E)=>A+(jm.test(E)?Hm:E===""?Ym:Gm),p)}function Km(h,g){return h.length===g.length&&h.slice(0,-1).every((p,A)=>p===g[A])?h[h.length-1]-g[g.length-1]:0}function Zm(h,g,m=!1){let{routesMeta:p}=h,A={},E="/",T=[];for(let R=0;R<p.length;++R){let D=p[R],v=R===p.length-1,M=E==="/"?g:g.slice(E.length)||"/",B=Mu({path:D.relativePath,caseSensitive:D.caseSensitive,end:v},M),ae=D.route;if(!B&&v&&m&&!p[p.length-1].route.index&&(B=Mu({path:D.relativePath,caseSensitive:D.caseSensitive,end:!1},M)),!B)return null;Object.assign(A,B.params),T.push({params:A,pathname:ka([E,B.pathname]),pathnameBase:tp(ka([E,B.pathnameBase])),route:ae}),B.pathnameBase!=="/"&&(E=ka([E,B.pathnameBase]))}return T}function Mu(h,g){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[m,p]=Qm(h.path,h.caseSensitive,h.end),A=g.match(m);if(!A)return null;let E=A[0],T=E.replace(/(.)\/+$/,"$1"),R=A.slice(1);return{params:p.reduce((v,{paramName:M,isOptional:B},ae)=>{if(M==="*"){let $=R[ae]||"";T=E.slice(0,E.length-$.length).replace(/(.)\/+$/,"$1")}const me=R[ae];return B&&!me?v[M]=void 0:v[M]=(me||"").replace(/%2F/g,"/"),v},{}),pathname:E,pathnameBase:T,pattern:h}}function Qm(h,g=!1,m=!0){ca(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let p=[],A="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(T,R,D)=>(p.push({paramName:R,isOptional:D!=null}),D?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return h.endsWith("*")?(p.push({paramName:"*"}),A+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?A+="\\/*$":h!==""&&h!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,g?void 0:"i"),p]}function Wm(h){try{return h.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return ca(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${g}).`),h}}function za(h,g){if(g==="/")return h;if(!h.toLowerCase().startsWith(g.toLowerCase()))return null;let m=g.endsWith("/")?g.length-1:g.length,p=h.charAt(m);return p&&p!=="/"?null:h.slice(m)||"/"}var Jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $m(h,g="/"){let{pathname:m,search:p="",hash:A=""}=typeof h=="string"?_s(h):h,E;return m?(m=m.replace(/\/\/+/g,"/"),m.startsWith("/")?E=vd(m.substring(1),"/"):E=vd(m,g)):E=g,{pathname:E,search:np(p),hash:rp(A)}}function vd(h,g){let m=g.replace(/\/+$/,"").split("/");return h.split("/").forEach(A=>{A===".."?m.length>1&&m.pop():A!=="."&&m.push(A)}),m.length>1?m.join("/"):"/"}function Uf(h,g,m,p){return`Cannot include a '${h}' character in a manually specified \`to.${g}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ep(h){return h.filter((g,m)=>m===0||g.route.path&&g.route.path.length>0)}function dg(h){let g=ep(h);return g.map((m,p)=>p===g.length-1?m.pathname:m.pathnameBase)}function gg(h,g,m,p=!1){let A;typeof h=="string"?A=_s(h):(A={...h},Bn(!A.pathname||!A.pathname.includes("?"),Uf("?","pathname","search",A)),Bn(!A.pathname||!A.pathname.includes("#"),Uf("#","pathname","hash",A)),Bn(!A.search||!A.search.includes("#"),Uf("#","search","hash",A)));let E=h===""||A.pathname==="",T=E?"/":A.pathname,R;if(T==null)R=m;else{let B=g.length-1;if(!p&&T.startsWith("..")){let ae=T.split("/");for(;ae[0]==="..";)ae.shift(),B-=1;A.pathname=ae.join("/")}R=B>=0?g[B]:"/"}let D=$m(A,R),v=T&&T!=="/"&&T.endsWith("/"),M=(E||T===".")&&m.endsWith("/");return!D.pathname.endsWith("/")&&(v||M)&&(D.pathname+="/"),D}var ka=h=>h.join("/").replace(/\/\/+/g,"/"),tp=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),np=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,rp=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h,ip=class{constructor(h,g,m,p=!1){this.status=h,this.statusText=g||"",this.internal=p,m instanceof Error?(this.data=m.toString(),this.error=m):this.data=m}};function ap(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}function lp(h){return h.map(g=>g.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pg(h,g){let m=h;if(typeof m!="string"||!Jm.test(m))return{absoluteURL:void 0,isExternal:!1,to:m};let p=m,A=!1;if(mg)try{let E=new URL(window.location.href),T=m.startsWith("//")?new URL(E.protocol+m):new URL(m),R=za(T.pathname,g);T.origin===E.origin&&R!=null?m=R+T.search+T.hash:A=!0}catch{ca(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:p,isExternal:A,to:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yg=["POST","PUT","PATCH","DELETE"];new Set(yg);var sp=["GET",...yg];new Set(sp);var Os=de.createContext(null);Os.displayName="DataRouter";var Uu=de.createContext(null);Uu.displayName="DataRouterState";var op=de.createContext(!1),xg=de.createContext({isTransitioning:!1});xg.displayName="ViewTransition";var up=de.createContext(new Map);up.displayName="Fetchers";var cp=de.createContext(null);cp.displayName="Await";var Di=de.createContext(null);Di.displayName="Navigation";var xo=de.createContext(null);xo.displayName="Location";var Fa=de.createContext({outlet:null,matches:[],isDataRoute:!1});Fa.displayName="Route";var Jf=de.createContext(null);Jf.displayName="RouteError";var wg="REACT_ROUTER_ERROR",fp="REDIRECT",hp="ROUTE_ERROR_RESPONSE";function dp(h){if(h.startsWith(`${wg}:${fp}:{`))try{let g=JSON.parse(h.slice(28));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string"&&typeof g.location=="string"&&typeof g.reloadDocument=="boolean"&&typeof g.replace=="boolean")return g}catch{}}function gp(h){if(h.startsWith(`${wg}:${hp}:{`))try{let g=JSON.parse(h.slice(40));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string")return new ip(g.status,g.statusText,g.data)}catch{}}function mp(h,{relative:g}={}){Bn(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:p}=de.useContext(Di),{hash:A,pathname:E,search:T}=bo(h,{relative:g}),R=E;return m!=="/"&&(R=E==="/"?m:ka([m,E])),p.createHref({pathname:R,search:T,hash:A})}function wo(){return de.useContext(xo)!=null}function Kl(){return Bn(wo(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(xo).location}var bg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eg(h){de.useContext(Di).static||de.useLayoutEffect(h)}function ku(){let{isDataRoute:h}=de.useContext(Fa);return h?Op():pp()}function pp(){Bn(wo(),"useNavigate() may be used only in the context of a <Router> component.");let h=de.useContext(Os),{basename:g,navigator:m}=de.useContext(Di),{matches:p}=de.useContext(Fa),{pathname:A}=Kl(),E=JSON.stringify(dg(p)),T=de.useRef(!1);return Eg(()=>{T.current=!0}),de.useCallback((D,v={})=>{if(ca(T.current,bg),!T.current)return;if(typeof D=="number"){m.go(D);return}let M=gg(D,JSON.parse(E),A,v.relative==="path");h==null&&g!=="/"&&(M.pathname=M.pathname==="/"?g:ka([g,M.pathname])),(v.replace?m.replace:m.push)(M,v.state,v)},[g,m,E,A,h])}de.createContext(null);function bo(h,{relative:g}={}){let{matches:m}=de.useContext(Fa),{pathname:p}=Kl(),A=JSON.stringify(dg(m));return de.useMemo(()=>gg(h,JSON.parse(A),p,g==="path"),[h,A,p,g])}function yp(h,g){return Ag(h,g)}function Ag(h,g,m,p,A){Bn(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:E}=de.useContext(Di),{matches:T}=de.useContext(Fa),R=T[T.length-1],D=R?R.params:{},v=R?R.pathname:"/",M=R?R.pathnameBase:"/",B=R&&R.route;{let Ae=B&&B.path||"";vg(v,!B||Ae.endsWith("*")||Ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${Ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ae}"> to <Route path="${Ae==="/"?"*":`${Ae}/*`}">.`)}let ae=Kl(),me;if(g){let Ae=typeof g=="string"?_s(g):g;Bn(M==="/"||Ae.pathname?.startsWith(M),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${M}" but pathname "${Ae.pathname}" was given in the \`location\` prop.`),me=Ae}else me=ae;let $=me.pathname||"/",J=$;if(M!=="/"){let Ae=M.replace(/^\//,"").split("/");J="/"+$.replace(/^\//,"").split("/").slice(Ae.length).join("/")}let le=cg(h,{pathname:J});ca(B||le!=null,`No routes matched location "${me.pathname}${me.search}${me.hash}" `),ca(le==null||le[le.length-1].route.element!==void 0||le[le.length-1].route.Component!==void 0||le[le.length-1].route.lazy!==void 0,`Matched leaf route at location "${me.pathname}${me.search}${me.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Re=Ap(le&&le.map(Ae=>Object.assign({},Ae,{params:Object.assign({},D,Ae.params),pathname:ka([M,E.encodeLocation?E.encodeLocation(Ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Ae.pathname]),pathnameBase:Ae.pathnameBase==="/"?M:ka([M,E.encodeLocation?E.encodeLocation(Ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Ae.pathnameBase])})),T,m,p,A);return g&&Re?de.createElement(xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...me},navigationType:"POP"}},Re):Re}function xp(){let h=_p(),g=ap(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),m=h instanceof Error?h.stack:null,p="rgba(200,200,200, 0.5)",A={padding:"0.5rem",backgroundColor:p},E={padding:"2px 4px",backgroundColor:p},T=null;return console.error("Error handled by React Router default ErrorBoundary:",h),T=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:E},"ErrorBoundary")," or"," ",de.createElement("code",{style:E},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},g),m?de.createElement("pre",{style:A},m):null,T)}var wp=de.createElement(xp,null),Cg=class extends de.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,g){return g.location!==h.location||g.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:g.error,location:g.location,revalidation:h.revalidation||g.revalidation}}componentDidCatch(h,g){this.props.onError?this.props.onError(h,g):console.error("React Router caught the following error during render",h)}render(){let h=this.state.error;if(this.context&&typeof h=="object"&&h&&"digest"in h&&typeof h.digest=="string"){const m=gp(h.digest);m&&(h=m)}let g=h!==void 0?de.createElement(Fa.Provider,{value:this.props.routeContext},de.createElement(Jf.Provider,{value:h,children:this.props.component})):this.props.children;return this.context?de.createElement(bp,{error:h},g):g}};Cg.contextType=op;var kf=new WeakMap;function bp({children:h,error:g}){let{basename:m}=de.useContext(Di);if(typeof g=="object"&&g&&"digest"in g&&typeof g.digest=="string"){let p=dp(g.digest);if(p){let A=kf.get(g);if(A)throw A;let E=pg(p.location,m);if(mg&&!kf.get(g))if(E.isExternal||p.reloadDocument)window.location.href=E.absoluteURL||E.to;else{const T=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(E.to,{replace:p.replace}));throw kf.set(g,T),T}return de.createElement("meta",{httpEquiv:"refresh",content:`0;url=${E.absoluteURL||E.to}`})}}return h}function Ep({routeContext:h,match:g,children:m}){let p=de.useContext(Os);return p&&p.static&&p.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=g.route.id),de.createElement(Fa.Provider,{value:h},m)}function Ap(h,g=[],m=null,p=null,A=null){if(h==null){if(!m)return null;if(m.errors)h=m.matches;else if(g.length===0&&!m.initialized&&m.matches.length>0)h=m.matches;else return null}let E=h,T=m?.errors;if(T!=null){let M=E.findIndex(B=>B.route.id&&T?.[B.route.id]!==void 0);Bn(M>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),E=E.slice(0,Math.min(E.length,M+1))}let R=!1,D=-1;if(m)for(let M=0;M<E.length;M++){let B=E[M];if((B.route.HydrateFallback||B.route.hydrateFallbackElement)&&(D=M),B.route.id){let{loaderData:ae,errors:me}=m,$=B.route.loader&&!ae.hasOwnProperty(B.route.id)&&(!me||me[B.route.id]===void 0);if(B.route.lazy||$){R=!0,D>=0?E=E.slice(0,D+1):E=[E[0]];break}}}let v=m&&p?(M,B)=>{p(M,{location:m.location,params:m.matches?.[0]?.params??{},unstable_pattern:lp(m.matches),errorInfo:B})}:void 0;return E.reduceRight((M,B,ae)=>{let me,$=!1,J=null,le=null;m&&(me=T&&B.route.id?T[B.route.id]:void 0,J=B.route.errorElement||wp,R&&(D<0&&ae===0?(vg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,le=null):D===ae&&($=!0,le=B.route.hydrateFallbackElement||null)));let Re=g.concat(E.slice(0,ae+1)),Ae=()=>{let pe;return me?pe=J:$?pe=le:B.route.Component?pe=de.createElement(B.route.Component,null):B.route.element?pe=B.route.element:pe=M,de.createElement(Ep,{match:B,routeContext:{outlet:M,matches:Re,isDataRoute:m!=null},children:pe})};return m&&(B.route.ErrorBoundary||B.route.errorElement||ae===0)?de.createElement(Cg,{location:m.location,revalidation:m.revalidation,component:J,error:me,children:Ae(),routeContext:{outlet:null,matches:Re,isDataRoute:!0},onError:v}):Ae()},null)}function $f(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cp(h){let g=de.useContext(Os);return Bn(g,$f(h)),g}function vp(h){let g=de.useContext(Uu);return Bn(g,$f(h)),g}function Sp(h){let g=de.useContext(Fa);return Bn(g,$f(h)),g}function e0(h){let g=Sp(h),m=g.matches[g.matches.length-1];return Bn(m.route.id,`${h} can only be used on routes that contain a unique "id"`),m.route.id}function Tp(){return e0("useRouteId")}function _p(){let h=de.useContext(Jf),g=vp("useRouteError"),m=e0("useRouteError");return h!==void 0?h:g.errors?.[m]}function Op(){let{router:h}=Cp("useNavigate"),g=e0("useNavigate"),m=de.useRef(!1);return Eg(()=>{m.current=!0}),de.useCallback(async(A,E={})=>{ca(m.current,bg),m.current&&(typeof A=="number"?await h.navigate(A):await h.navigate(A,{fromRouteId:g,...E}))},[h,g])}var Sd={};function vg(h,g,m){!g&&!Sd[h]&&(Sd[h]=!0,ca(!1,m))}de.memo(Np);function Np({routes:h,future:g,state:m,onError:p}){return Ag(h,void 0,m,p,g)}function Vf(h){Bn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rp({basename:h="/",children:g=null,location:m,navigationType:p="POP",navigator:A,static:E=!1,unstable_useTransitions:T}){Bn(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let R=h.replace(/^\/*/,"/"),D=de.useMemo(()=>({basename:R,navigator:A,static:E,unstable_useTransitions:T,future:{}}),[R,A,E,T]);typeof m=="string"&&(m=_s(m));let{pathname:v="/",search:M="",hash:B="",state:ae=null,key:me="default"}=m,$=de.useMemo(()=>{let J=za(v,R);return J==null?null:{location:{pathname:J,search:M,hash:B,state:ae,key:me},navigationType:p}},[R,v,M,B,ae,me,p]);return ca($!=null,`<Router basename="${R}"> is not able to match the URL "${v}${M}${B}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:de.createElement(Di.Provider,{value:D},de.createElement(xo.Provider,{children:g,value:$}))}function Ip({children:h,location:g}){return yp(Yf(h),g)}function Yf(h,g=[]){let m=[];return de.Children.forEach(h,(p,A)=>{if(!de.isValidElement(p))return;let E=[...g,A];if(p.type===de.Fragment){m.push.apply(m,Yf(p.props.children,E));return}Bn(p.type===Vf,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bn(!p.props.index||!p.props.children,"An index route cannot have child routes.");let T={id:p.props.id||E.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(T.children=Yf(p.props.children,E)),m.push(T)}),m}var Tu="get",_u="application/x-www-form-urlencoded";function zu(h){return typeof HTMLElement<"u"&&h instanceof HTMLElement}function Mp(h){return zu(h)&&h.tagName.toLowerCase()==="button"}function Dp(h){return zu(h)&&h.tagName.toLowerCase()==="form"}function Bp(h){return zu(h)&&h.tagName.toLowerCase()==="input"}function Lp(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function Up(h,g){return h.button===0&&(!g||g==="_self")&&!Lp(h)}var vu=null;function kp(){if(vu===null)try{new FormData(document.createElement("form"),0),vu=!1}catch{vu=!0}return vu}var zp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zf(h){return h!=null&&!zp.has(h)?(ca(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_u}"`),null):h}function Fp(h,g){let m,p,A,E,T;if(Dp(h)){let R=h.getAttribute("action");p=R?za(R,g):null,m=h.getAttribute("method")||Tu,A=zf(h.getAttribute("enctype"))||_u,E=new FormData(h)}else if(Mp(h)||Bp(h)&&(h.type==="submit"||h.type==="image")){let R=h.form;if(R==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let D=h.getAttribute("formaction")||R.getAttribute("action");if(p=D?za(D,g):null,m=h.getAttribute("formmethod")||R.getAttribute("method")||Tu,A=zf(h.getAttribute("formenctype"))||zf(R.getAttribute("enctype"))||_u,E=new FormData(R,h),!kp()){let{name:v,type:M,value:B}=h;if(M==="image"){let ae=v?`${v}.`:"";E.append(`${ae}x`,"0"),E.append(`${ae}y`,"0")}else v&&E.append(v,B)}}else{if(zu(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=Tu,p=null,A=_u,T=h}return E&&A==="text/plain"&&(T=E,E=void 0),{action:p,method:m.toLowerCase(),encType:A,formData:E,body:T}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function Pp(h,g,m,p){let A=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return m?A.pathname.endsWith("/")?A.pathname=`${A.pathname}_.${p}`:A.pathname=`${A.pathname}.${p}`:A.pathname==="/"?A.pathname=`_root.${p}`:g&&za(A.pathname,g)==="/"?A.pathname=`${g.replace(/\/$/,"")}/_root.${p}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${p}`,A}async function jp(h,g){if(h.id in g)return g[h.id];try{let m=await import(h.module);return g[h.id]=m,m}catch(m){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hp(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Vp(h,g,m){let p=await Promise.all(h.map(async A=>{let E=g.routes[A.route.id];if(E){let T=await jp(E,m);return T.links?T.links():[]}return[]}));return qp(p.flat(1).filter(Hp).filter(A=>A.rel==="stylesheet"||A.rel==="preload").map(A=>A.rel==="stylesheet"?{...A,rel:"prefetch",as:"style"}:{...A,rel:"prefetch"}))}function Td(h,g,m,p,A,E){let T=(D,v)=>m[v]?D.route.id!==m[v].route.id:!0,R=(D,v)=>m[v].pathname!==D.pathname||m[v].route.path?.endsWith("*")&&m[v].params["*"]!==D.params["*"];return E==="assets"?g.filter((D,v)=>T(D,v)||R(D,v)):E==="data"?g.filter((D,v)=>{let M=p.routes[D.route.id];if(!M||!M.hasLoader)return!1;if(T(D,v)||R(D,v))return!0;if(D.route.shouldRevalidate){let B=D.route.shouldRevalidate({currentUrl:new URL(A.pathname+A.search+A.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(h,window.origin),nextParams:D.params,defaultShouldRevalidate:!0});if(typeof B=="boolean")return B}return!0}):[]}function Yp(h,g,{includeHydrateFallback:m}={}){return Gp(h.map(p=>{let A=g.routes[p.route.id];if(!A)return[];let E=[A.module];return A.clientActionModule&&(E=E.concat(A.clientActionModule)),A.clientLoaderModule&&(E=E.concat(A.clientLoaderModule)),m&&A.hydrateFallbackModule&&(E=E.concat(A.hydrateFallbackModule)),A.imports&&(E=E.concat(A.imports)),E}).flat(1))}function Gp(h){return[...new Set(h)]}function Xp(h){let g={},m=Object.keys(h).sort();for(let p of m)g[p]=h[p];return g}function qp(h,g){let m=new Set;return new Set(g),h.reduce((p,A)=>{let E=JSON.stringify(Xp(A));return m.has(E)||(m.add(E),p.push({key:E,link:A})),p},[])}function Sg(){let h=de.useContext(Os);return t0(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Kp(){let h=de.useContext(Uu);return t0(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var n0=de.createContext(void 0);n0.displayName="FrameworkContext";function Tg(){let h=de.useContext(n0);return t0(h,"You must render this element inside a <HydratedRouter> element"),h}function Zp(h,g){let m=de.useContext(n0),[p,A]=de.useState(!1),[E,T]=de.useState(!1),{onFocus:R,onBlur:D,onMouseEnter:v,onMouseLeave:M,onTouchStart:B}=g,ae=de.useRef(null);de.useEffect(()=>{if(h==="render"&&T(!0),h==="viewport"){let J=Re=>{Re.forEach(Ae=>{T(Ae.isIntersecting)})},le=new IntersectionObserver(J,{threshold:.5});return ae.current&&le.observe(ae.current),()=>{le.disconnect()}}},[h]),de.useEffect(()=>{if(p){let J=setTimeout(()=>{T(!0)},100);return()=>{clearTimeout(J)}}},[p]);let me=()=>{A(!0)},$=()=>{A(!1),T(!1)};return m?h!=="intent"?[E,ae,{}]:[E,ae,{onFocus:ho(R,me),onBlur:ho(D,$),onMouseEnter:ho(v,me),onMouseLeave:ho(M,$),onTouchStart:ho(B,me)}]:[!1,ae,{}]}function ho(h,g){return m=>{h&&h(m),m.defaultPrevented||g(m)}}function Qp({page:h,...g}){let{router:m}=Sg(),p=de.useMemo(()=>cg(m.routes,h,m.basename),[m.routes,h,m.basename]);return p?de.createElement(Jp,{page:h,matches:p,...g}):null}function Wp(h){let{manifest:g,routeModules:m}=Tg(),[p,A]=de.useState([]);return de.useEffect(()=>{let E=!1;return Vp(h,g,m).then(T=>{E||A(T)}),()=>{E=!0}},[h,g,m]),p}function Jp({page:h,matches:g,...m}){let p=Kl(),{future:A,manifest:E,routeModules:T}=Tg(),{basename:R}=Sg(),{loaderData:D,matches:v}=Kp(),M=de.useMemo(()=>Td(h,g,v,E,p,"data"),[h,g,v,E,p]),B=de.useMemo(()=>Td(h,g,v,E,p,"assets"),[h,g,v,E,p]),ae=de.useMemo(()=>{if(h===p.pathname+p.search+p.hash)return[];let J=new Set,le=!1;if(g.forEach(Ae=>{let pe=E.routes[Ae.route.id];!pe||!pe.hasLoader||(!M.some(Ue=>Ue.route.id===Ae.route.id)&&Ae.route.id in D&&T[Ae.route.id]?.shouldRevalidate||pe.hasClientLoader?le=!0:J.add(Ae.route.id))}),J.size===0)return[];let Re=Pp(h,R,A.unstable_trailingSlashAwareDataRequests,"data");return le&&J.size>0&&Re.searchParams.set("_routes",g.filter(Ae=>J.has(Ae.route.id)).map(Ae=>Ae.route.id).join(",")),[Re.pathname+Re.search]},[R,A.unstable_trailingSlashAwareDataRequests,D,p,E,M,g,h,T]),me=de.useMemo(()=>Yp(B,E),[B,E]),$=Wp(B);return de.createElement(de.Fragment,null,ae.map(J=>de.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...m})),me.map(J=>de.createElement("link",{key:J,rel:"modulepreload",href:J,...m})),$.map(({key:J,link:le})=>de.createElement("link",{key:J,nonce:m.nonce,...le,crossOrigin:le.crossOrigin??m.crossOrigin})))}function $p(...h){return g=>{h.forEach(m=>{typeof m=="function"?m(g):m!=null&&(m.current=g)})}}var ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ey&&(window.__reactRouterVersion="7.13.0")}catch{}function ty({basename:h,children:g,unstable_useTransitions:m,window:p}){let A=de.useRef();A.current==null&&(A.current=Lm({window:p,v5Compat:!0}));let E=A.current,[T,R]=de.useState({action:E.action,location:E.location}),D=de.useCallback(v=>{m===!1?R(v):de.startTransition(()=>R(v))},[m]);return de.useLayoutEffect(()=>E.listen(D),[E,D]),de.createElement(Rp,{basename:h,children:g,location:T.location,navigationType:T.action,navigator:E,unstable_useTransitions:m})}var _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Og=de.forwardRef(function({onClick:g,discover:m="render",prefetch:p="none",relative:A,reloadDocument:E,replace:T,state:R,target:D,to:v,preventScrollReset:M,viewTransition:B,unstable_defaultShouldRevalidate:ae,...me},$){let{basename:J,unstable_useTransitions:le}=de.useContext(Di),Re=typeof v=="string"&&_g.test(v),Ae=pg(v,J);v=Ae.to;let pe=mp(v,{relative:A}),[Ue,at,Ye]=Zp(p,me),ie=ay(v,{replace:T,state:R,target:D,preventScrollReset:M,relative:A,viewTransition:B,unstable_defaultShouldRevalidate:ae,unstable_useTransitions:le});function Je(vn){g&&g(vn),vn.defaultPrevented||ie(vn)}let Ce=de.createElement("a",{...me,...Ye,href:Ae.absoluteURL||pe,onClick:Ae.isExternal||E?g:Je,ref:$p($,at),target:D,"data-discover":!Re&&m==="render"?"true":void 0});return Ue&&!Re?de.createElement(de.Fragment,null,Ce,de.createElement(Qp,{page:pe})):Ce});Og.displayName="Link";var ny=de.forwardRef(function({"aria-current":g="page",caseSensitive:m=!1,className:p="",end:A=!1,style:E,to:T,viewTransition:R,children:D,...v},M){let B=bo(T,{relative:v.relative}),ae=Kl(),me=de.useContext(Uu),{navigator:$,basename:J}=de.useContext(Di),le=me!=null&&cy(B)&&R===!0,Re=$.encodeLocation?$.encodeLocation(B).pathname:B.pathname,Ae=ae.pathname,pe=me&&me.navigation&&me.navigation.location?me.navigation.location.pathname:null;m||(Ae=Ae.toLowerCase(),pe=pe?pe.toLowerCase():null,Re=Re.toLowerCase()),pe&&J&&(pe=za(pe,J)||pe);const Ue=Re!=="/"&&Re.endsWith("/")?Re.length-1:Re.length;let at=Ae===Re||!A&&Ae.startsWith(Re)&&Ae.charAt(Ue)==="/",Ye=pe!=null&&(pe===Re||!A&&pe.startsWith(Re)&&pe.charAt(Re.length)==="/"),ie={isActive:at,isPending:Ye,isTransitioning:le},Je=at?g:void 0,Ce;typeof p=="function"?Ce=p(ie):Ce=[p,at?"active":null,Ye?"pending":null,le?"transitioning":null].filter(Boolean).join(" ");let vn=typeof E=="function"?E(ie):E;return de.createElement(Og,{...v,"aria-current":Je,className:Ce,ref:M,style:vn,to:T,viewTransition:R},typeof D=="function"?D(ie):D)});ny.displayName="NavLink";var ry=de.forwardRef(({discover:h="render",fetcherKey:g,navigate:m,reloadDocument:p,replace:A,state:E,method:T=Tu,action:R,onSubmit:D,relative:v,preventScrollReset:M,viewTransition:B,unstable_defaultShouldRevalidate:ae,...me},$)=>{let{unstable_useTransitions:J}=de.useContext(Di),le=oy(),Re=uy(R,{relative:v}),Ae=T.toLowerCase()==="get"?"get":"post",pe=typeof R=="string"&&_g.test(R),Ue=at=>{if(D&&D(at),at.defaultPrevented)return;at.preventDefault();let Ye=at.nativeEvent.submitter,ie=Ye?.getAttribute("formmethod")||T,Je=()=>le(Ye||at.currentTarget,{fetcherKey:g,method:ie,navigate:m,replace:A,state:E,relative:v,preventScrollReset:M,viewTransition:B,unstable_defaultShouldRevalidate:ae});J&&m!==!1?de.startTransition(()=>Je()):Je()};return de.createElement("form",{ref:$,method:Ae,action:Re,onSubmit:p?D:Ue,...me,"data-discover":!pe&&h==="render"?"true":void 0})});ry.displayName="Form";function iy(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ng(h){let g=de.useContext(Os);return Bn(g,iy(h)),g}function ay(h,{target:g,replace:m,state:p,preventScrollReset:A,relative:E,viewTransition:T,unstable_defaultShouldRevalidate:R,unstable_useTransitions:D}={}){let v=ku(),M=Kl(),B=bo(h,{relative:E});return de.useCallback(ae=>{if(Up(ae,g)){ae.preventDefault();let me=m!==void 0?m:yo(M)===yo(B),$=()=>v(h,{replace:me,state:p,preventScrollReset:A,relative:E,viewTransition:T,unstable_defaultShouldRevalidate:R});D?de.startTransition(()=>$()):$()}},[M,v,B,m,p,g,h,A,E,T,R,D])}var ly=0,sy=()=>`__${String(++ly)}__`;function oy(){let{router:h}=Ng("useSubmit"),{basename:g}=de.useContext(Di),m=Tp(),p=h.fetch,A=h.navigate;return de.useCallback(async(E,T={})=>{let{action:R,method:D,encType:v,formData:M,body:B}=Fp(E,g);if(T.navigate===!1){let ae=T.fetcherKey||sy();await p(ae,m,T.action||R,{unstable_defaultShouldRevalidate:T.unstable_defaultShouldRevalidate,preventScrollReset:T.preventScrollReset,formData:M,body:B,formMethod:T.method||D,formEncType:T.encType||v,flushSync:T.flushSync})}else await A(T.action||R,{unstable_defaultShouldRevalidate:T.unstable_defaultShouldRevalidate,preventScrollReset:T.preventScrollReset,formData:M,body:B,formMethod:T.method||D,formEncType:T.encType||v,replace:T.replace,state:T.state,fromRouteId:m,flushSync:T.flushSync,viewTransition:T.viewTransition})},[p,A,g,m])}function uy(h,{relative:g}={}){let{basename:m}=de.useContext(Di),p=de.useContext(Fa);Bn(p,"useFormAction must be used inside a RouteContext");let[A]=p.matches.slice(-1),E={...bo(h||".",{relative:g})},T=Kl();if(h==null){E.search=T.search;let R=new URLSearchParams(E.search),D=R.getAll("index");if(D.some(M=>M==="")){R.delete("index"),D.filter(B=>B).forEach(B=>R.append("index",B));let M=R.toString();E.search=M?`?${M}`:""}}return(!h||h===".")&&A.route.index&&(E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(E.pathname=E.pathname==="/"?m:ka([m,E.pathname])),yo(E)}function cy(h,{relative:g}={}){let m=de.useContext(xg);Bn(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=Ng("useViewTransitionState"),A=bo(h,{relative:g});if(!m.isTransitioning)return!1;let E=za(m.currentLocation.pathname,p)||m.currentLocation.pathname,T=za(m.nextLocation.pathname,p)||m.nextLocation.pathname;return Mu(A.pathname,T)!=null||Mu(A.pathname,E)!=null}var Ou={exports:{}},fy=Ou.exports,_d;function hy(){return _d||(_d=1,(function(h,g){((m,p)=>{h.exports=p()})(fy,function(){var m=function(i,o){return(m=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,y){d.__proto__=y}:function(d,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(d[w]=y[w])}))(i,o)},p=function(){return(p=Object.assign||function(i){for(var o,d=1,y=arguments.length;d<y;d++)for(var w in o=arguments[d])Object.prototype.hasOwnProperty.call(o,w)&&(i[w]=o[w]);return i}).apply(this,arguments)};function A(i,o,d){for(var y,w=0,C=o.length;w<C;w++)!y&&w in o||((y=y||Array.prototype.slice.call(o,0,w))[w]=o[w]);return i.concat(y||Array.prototype.slice.call(o))}var E=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:mo,T=Object.keys,R=Array.isArray;function D(i,o){return typeof o=="object"&&T(o).forEach(function(d){i[d]=o[d]}),i}typeof Promise>"u"||E.Promise||(E.Promise=Promise);var v=Object.getPrototypeOf,M={}.hasOwnProperty;function B(i,o){return M.call(i,o)}function ae(i,o){typeof o=="function"&&(o=o(v(i))),(typeof Reflect>"u"?T:Reflect.ownKeys)(o).forEach(function(d){$(i,d,o[d])})}var me=Object.defineProperty;function $(i,o,d,y){me(i,o,D(d&&B(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},y))}function J(i){return{from:function(o){return i.prototype=Object.create(o.prototype),$(i.prototype,"constructor",i),{extend:ae.bind(null,i.prototype)}}}}var le=Object.getOwnPropertyDescriptor,Re=[].slice;function Ae(i,o,d){return Re.call(i,o,d)}function pe(i,o){return o(i)}function Ue(i){if(!i)throw new Error("Assertion Failed")}function at(i){E.setImmediate?setImmediate(i):setTimeout(i,0)}function Ye(i,o){if(typeof o=="string"&&B(i,o))return i[o];if(!o)return i;if(typeof o!="string"){for(var d=[],y=0,w=o.length;y<w;++y){var C=Ye(i,o[y]);d.push(C)}return d}var S,O=o.indexOf(".");return O===-1||(S=i[o.substr(0,O)])==null?void 0:Ye(S,o.substr(O+1))}function ie(i,o,d){if(i&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(i)))if(typeof o!="string"&&"length"in o){Ue(typeof d!="string"&&"length"in d);for(var y=0,w=o.length;y<w;++y)ie(i,o[y],d[y])}else{var C,S,O=o.indexOf(".");O!==-1?(C=o.substr(0,O),(O=o.substr(O+1))===""?d===void 0?R(i)&&!isNaN(parseInt(C))?i.splice(C,1):delete i[C]:i[C]=d:ie(S=(S=i[C])&&B(i,C)?S:i[C]={},O,d)):d===void 0?R(i)&&!isNaN(parseInt(o))?i.splice(o,1):delete i[o]:i[o]=d}}function Je(i){var o,d={};for(o in i)B(i,o)&&(d[o]=i[o]);return d}var Ce=[].concat;function vn(i){return Ce.apply([],i)}var ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(vn([8,16,32,64].map(function(i){return["Int","Uint","Float"].map(function(o){return o+i+"Array"})}))).filter(function(i){return E[i]}),Zt=new Set(ue.map(function(i){return E[i]})),je=null;function lt(i){return je=new WeakMap,i=(function o(d){if(!d||typeof d!="object")return d;var y=je.get(d);if(y)return y;if(R(d)){y=[],je.set(d,y);for(var w=0,C=d.length;w<C;++w)y.push(o(d[w]))}else if(Zt.has(d.constructor))y=d;else{var S,O=v(d);for(S in y=O===Object.prototype?{}:Object.create(O),je.set(d,y),d)B(d,S)&&(y[S]=o(d[S]))}return y})(i),je=null,i}var Ot={}.toString;function ce(i){return Ot.call(i).slice(8,-1)}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ye=typeof ee=="symbol"?function(i){var o;return i!=null&&(o=i[ee])&&o.apply(i)}:function(){return null};function He(i,o){o=i.indexOf(o),0<=o&&i.splice(o,1)}var ft={};function ot(i){var o,d,y,w;if(arguments.length===1){if(R(i))return i.slice();if(this===ft&&typeof i=="string")return[i];if(w=ye(i))for(d=[];!(y=w.next()).done;)d.push(y.value);else{if(i==null)return[i];if(typeof(o=i.length)!="number")return[i];for(d=new Array(o);o--;)d[o]=i[o]}}else for(o=arguments.length,d=new Array(o);o--;)d[o]=arguments[o];return d}var G=typeof Symbol<"u"?function(i){return i[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],cn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ue),De={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(i,o){this.name=i,this.message=o}function rt(i,o){return i+". Errors: "+Object.keys(o).map(function(d){return o[d].toString()}).filter(function(d,y,w){return w.indexOf(d)===y}).join(`
`)}function Ne(i,o,d,y){this.failures=o,this.failedKeys=y,this.successCount=d,this.message=rt(i,o)}function bt(i,o){this.name="BulkError",this.failures=Object.keys(o).map(function(d){return o[d]}),this.failuresByPos=o,this.message=rt(i,this.failures)}J(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),J(Ne).from(Me),J(bt).from(Me);var Nt=cn.reduce(function(i,o){return i[o]=o+"Error",i},{}),rn=Me,qe=cn.reduce(function(i,o){var d=o+"Error";function y(w,C){this.name=d,w?typeof w=="string"?(this.message="".concat(w).concat(C?`
 `+C:""),this.inner=C||null):typeof w=="object"&&(this.message="".concat(w.name," ").concat(w.message),this.inner=w):(this.message=De[o]||d,this.inner=null)}return J(y).from(rn),i[o]=y,i},{}),Ln=(qe.Syntax=SyntaxError,qe.Type=TypeError,qe.Range=RangeError,ue.reduce(function(i,o){return i[o+"Error"]=qe[o],i},{}));ue=cn.reduce(function(i,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(i[o+"Error"]=qe[o]),i},{});function Rt(){}function At(i){return i}function Cr(i,o){return i==null||i===At?o:function(d){return o(i(d))}}function Un(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}}function Bi(i,o){return i===Rt?o:function(){var d=i.apply(this,arguments),y=(d!==void 0&&(arguments[0]=d),this.onsuccess),w=this.onerror,C=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return y&&(this.onsuccess=this.onsuccess?Un(y,this.onsuccess):y),w&&(this.onerror=this.onerror?Un(w,this.onerror):w),C!==void 0?C:d}}function Vn(i,o){return i===Rt?o:function(){i.apply(this,arguments);var d=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?Un(d,this.onsuccess):d),y&&(this.onerror=this.onerror?Un(y,this.onerror):y)}}function Qt(i,o){return i===Rt?o:function(w){var y=i.apply(this,arguments),w=(D(w,y),this.onsuccess),C=this.onerror,S=(this.onsuccess=null,this.onerror=null,o.apply(this,arguments));return w&&(this.onsuccess=this.onsuccess?Un(w,this.onsuccess):w),C&&(this.onerror=this.onerror?Un(C,this.onerror):C),y===void 0?S===void 0?void 0:S:D(y,S)}}function St(i,o){return i===Rt?o:function(){return o.apply(this,arguments)!==!1&&i.apply(this,arguments)}}function Ai(i,o){return i===Rt?o:function(){var d=i.apply(this,arguments);if(d&&typeof d.then=="function"){for(var y=this,w=arguments.length,C=new Array(w);w--;)C[w]=arguments[w];return d.then(function(){return o.apply(y,C)})}return o.apply(this,arguments)}}ue.ModifyError=Ne,ue.DexieError=Me,ue.BulkError=bt;var ze=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function fa(i){ze=i}var Zi={},En=100,Li=typeof Promise>"u"?[]:(cn=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[Li=crypto.subtle.digest("SHA-512",new Uint8Array([0])),v(Li),cn]:[cn,v(cn),cn]),cn=Li[0],xt=Li[1],xt=xt&&xt.then,ri=cn&&cn.constructor,cr=!!Li[2],Mn=function(i,o){en.push([i,o]),Ui&&(queueMicrotask(Gn),Ui=!1)},ha=!0,Ui=!0,ki=[],Wt=[],_e=At,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Rt,pgp:!1,env:{},finalize:Rt},Se=It,en=[],Br=0,Qi=[];function Be(i){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=Se;if(typeof i!="function"){if(i!==Zi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Hr(this,this._value)}else this._state=null,this._value=null,++o.ref,(function d(y,w){try{w(function(C){if(y._state===null){if(C===y)throw new TypeError("A promise cannot be resolved with itself.");var S=y._lib&&fr();C&&typeof C.then=="function"?d(y,function(O,I){C instanceof Be?C._then(O,I):C.then(O,I)}):(y._state=!0,y._value=C,Wi(y)),S&&hr()}},Hr.bind(null,y))}catch(C){Hr(y,C)}})(this,i)}var Ct={get:function(){var i=Se,o=Fe;function d(y,w){var C=this,S=!i.global&&(i!==Se||o!==Fe),O=S&&!kn(),I=new Be(function(k,U){Yn(C,new Lr(gr(y,i,S,O),gr(w,i,S,O),k,U,i))});return this._consoleTask&&(I._consoleTask=this._consoleTask),I}return d.prototype=Zi,d},set:function(i){$(this,"then",i&&i.prototype===Zi?Ct:{get:function(){return i},set:Ct.set})}};function Lr(i,o,d,y,w){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof o=="function"?o:null,this.resolve=d,this.reject=y,this.psd=w}function Hr(i,o){var d,y;Wt.push(o),i._state===null&&(d=i._lib&&fr(),o=_e(o),i._state=!1,i._value=o,y=i,ki.some(function(w){return w._value===y._value})||ki.push(y),Wi(i),d)&&hr()}function Wi(i){var o=i._listeners;i._listeners=[];for(var d=0,y=o.length;d<y;++d)Yn(i,o[d]);var w=i._PSD;--w.ref||w.finalize(),Br===0&&(++Br,Mn(function(){--Br==0&&vr()},[]))}function Yn(i,o){if(i._state===null)i._listeners.push(o);else{var d=i._state?o.onFulfilled:o.onRejected;if(d===null)return(i._state?o.resolve:o.reject)(i._value);++o.psd.ref,++Br,Mn(Cl,[d,i,o])}}function Cl(i,o,d){try{var y,w=o._value;!o._state&&Wt.length&&(Wt=[]),y=ze&&o._consoleTask?o._consoleTask.run(function(){return i(w)}):i(w),o._state||Wt.indexOf(w)!==-1||(C=>{for(var S=ki.length;S;)if(ki[--S]._value===C._value)return ki.splice(S,1)})(o),d.resolve(y)}catch(C){d.reject(C)}finally{--Br==0&&vr(),--d.psd.ref||d.psd.finalize()}}function Gn(){Ur(It,function(){fr()&&hr()})}function fr(){var i=ha;return Ui=ha=!1,i}function hr(){var i,o,d;do for(;0<en.length;)for(i=en,en=[],d=i.length,o=0;o<d;++o){var y=i[o];y[0].apply(null,y[1])}while(0<en.length);Ui=ha=!0}function vr(){for(var i=ki,o=(ki=[],i.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)}),Qi.slice(0)),d=o.length;d;)o[--d]()}function da(i){return new Be(Zi,!1,i)}function Pt(i,o){var d=Se;return function(){var y=fr(),w=Se;try{return Xn(d,!0),i.apply(this,arguments)}catch(C){o&&o(C)}finally{Xn(w,!1),y&&hr()}}}ae(Be.prototype,{then:Ct,_then:function(i,o){Yn(this,new Lr(null,null,i,o,Se))},catch:function(i){var o,d;return arguments.length===1?this.then(null,i):(o=i,d=arguments[1],typeof o=="function"?this.then(null,function(y){return(y instanceof o?d:da)(y)}):this.then(null,function(y){return(y&&y.name===o?d:da)(y)}))},finally:function(i){return this.then(function(o){return Be.resolve(i()).then(function(){return o})},function(o){return Be.resolve(i()).then(function(){return da(o)})})},timeout:function(i,o){var d=this;return i<1/0?new Be(function(y,w){var C=setTimeout(function(){return w(new qe.Timeout(o))},i);d.then(y,w).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&$(Be.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=vl(),ae(Be,{all:function(){var i=ot.apply(null,arguments).map(ii);return new Be(function(o,d){i.length===0&&o([]);var y=i.length;i.forEach(function(w,C){return Be.resolve(w).then(function(S){i[C]=S,--y||o(i)},d)})})},resolve:function(i){return i instanceof Be?i:i&&typeof i.then=="function"?new Be(function(o,d){i.then(o,d)}):new Be(Zi,!0,i)},reject:da,race:function(){var i=ot.apply(null,arguments).map(ii);return new Be(function(o,d){i.map(function(y){return Be.resolve(y).then(o,d)})})},PSD:{get:function(){return Se},set:function(i){return Se=i}},totalEchoes:{get:function(){return Fe}},newPSD:tn,usePSD:Ur,scheduler:{get:function(){return Mn},set:function(i){Mn=i}},rejectionMapper:{get:function(){return _e},set:function(i){_e=i}},follow:function(i,o){return new Be(function(d,y){return tn(function(w,C){var S=Se;S.unhandleds=[],S.onunhandled=C,S.finalize=Un(function(){var O,I=this;O=function(){I.unhandleds.length===0?w():C(I.unhandleds[0])},Qi.push(function k(){O(),Qi.splice(Qi.indexOf(k),1)}),++Br,Mn(function(){--Br==0&&vr()},[])},S.finalize),i()},o,d,y)})}}),ri&&(ri.allSettled&&$(Be,"allSettled",function(){var i=ot.apply(null,arguments).map(ii);return new Be(function(o){i.length===0&&o([]);var d=i.length,y=new Array(d);i.forEach(function(w,C){return Be.resolve(w).then(function(S){return y[C]={status:"fulfilled",value:S}},function(S){return y[C]={status:"rejected",reason:S}}).then(function(){return--d||o(y)})})})}),ri.any&&typeof AggregateError<"u"&&$(Be,"any",function(){var i=ot.apply(null,arguments).map(ii);return new Be(function(o,d){i.length===0&&d(new AggregateError([]));var y=i.length,w=new Array(y);i.forEach(function(C,S){return Be.resolve(C).then(function(O){return o(O)},function(O){w[S]=O,--y||d(new AggregateError(w))})})})}),ri.withResolvers)&&(Be.withResolvers=ri.withResolvers);var Sn={awaits:0,echoes:0,id:0},Jn=0,Sr=[],$n=0,Fe=0,dr=0;function tn(i,S,d,y){var w=Se,C=Object.create(w),S=(C.parent=w,C.ref=0,C.global=!1,C.id=++dr,It.env,C.env=cr?{Promise:Be,PromiseProp:{value:Be,configurable:!0,writable:!0},all:Be.all,race:Be.race,allSettled:Be.allSettled,any:Be.any,resolve:Be.resolve,reject:Be.reject}:{},S&&D(C,S),++w.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()},Ur(C,i,d,y));return C.ref===0&&C.finalize(),S}function Lt(){return Sn.id||(Sn.id=++Jn),++Sn.awaits,Sn.echoes+=En,Sn.id}function kn(){return!!Sn.awaits&&(--Sn.awaits==0&&(Sn.id=0),Sn.echoes=Sn.awaits*En,!0)}function ii(i){return Sn.echoes&&i&&i.constructor===ri?(Lt(),i.then(function(o){return kn(),o},function(o){return kn(),nt(o)})):i}function Pa(){var i=Sr[Sr.length-1];Sr.pop(),Xn(i,!1)}function Xn(i,o){var d,y,w=Se;(o?!Sn.echoes||$n++&&i===Se:!$n||--$n&&i===Se)||queueMicrotask(o?(function(C){++Fe,Sn.echoes&&--Sn.echoes!=0||(Sn.echoes=Sn.awaits=Sn.id=0),Sr.push(Se),Xn(C,!0)}).bind(null,i):Pa),i!==Se&&(Se=i,w===It&&(It.env=vl()),cr)&&(d=It.env.Promise,y=i.env,w.global||i.global)&&(Object.defineProperty(E,"Promise",y.PromiseProp),d.all=y.all,d.race=y.race,d.resolve=y.resolve,d.reject=y.reject,y.allSettled&&(d.allSettled=y.allSettled),y.any)&&(d.any=y.any)}function vl(){var i=E.Promise;return cr?{Promise:i,PromiseProp:Object.getOwnPropertyDescriptor(E,"Promise"),all:i.all,race:i.race,allSettled:i.allSettled,any:i.any,resolve:i.resolve,reject:i.reject}:{}}function Ur(i,o,d,y,w){var C=Se;try{return Xn(i,!0),o(d,y,w)}finally{Xn(C,!1)}}function gr(i,o,d,y){return typeof i!="function"?i:function(){var w=Se;d&&Lt(),Xn(o,!0);try{return i.apply(this,arguments)}finally{Xn(w,!1),y&&queueMicrotask(kn)}}}function An(i){Promise===ri&&Sn.echoes===0?$n===0?i():enqueueNativeMicroTask(i):setTimeout(i,0)}(""+xt).indexOf("[native code]")===-1&&(Lt=kn=Rt);var nt=Be.reject,Tr="",Tn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_n="String expected.",be=[],ga="__dbnames",Yt="readonly",mr="readwrite";function zi(i,o){return i?o?function(){return i.apply(this,arguments)&&o.apply(this,arguments)}:i:o}var Ut={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Tt(i){return typeof i!="string"||/\./.test(i)?function(o){return o}:function(o){return o[i]===void 0&&i in o&&delete(o=lt(o))[i],o}}function vt(){throw qe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function gt(i,o){try{var d=Fi(i),y=Fi(o);if(d!==y)return d==="Array"?1:y==="Array"?-1:d==="binary"?1:y==="binary"?-1:d==="string"?1:y==="string"?-1:d==="Date"?1:y!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return o<i?1:i<o?-1:0;case"binary":for(var w=_r(i),C=_r(o),S=w.length,O=C.length,I=S<O?S:O,k=0;k<I;++k)if(w[k]!==C[k])return w[k]<C[k]?-1:1;return S===O?0:S<O?-1:1;case"Array":for(var U=i,z=o,j=U.length,F=z.length,V=j<F?j:F,H=0;H<V;++H){var K=gt(U[H],z[H]);if(K!==0)return K}return j===F?0:j<F?-1:1}}catch{}return NaN}function Fi(i){var o=typeof i;return o=="object"&&(ArrayBuffer.isView(i)||(o=ce(i))==="ArrayBuffer")?"binary":o}function _r(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i)}function Mt(i,o,d){var y=i.schema.yProps;return y?(o&&0<d.numFailures&&(o=o.filter(function(w,C){return!d.failures[C]})),Promise.all(y.map(function(w){return w=w.updatesTable,o?i.db.table(w).where("k").anyOf(o).delete():i.db.table(w).clear()})).then(function(){return d})):d}Zl.prototype.execute=function(i){var o=this["@@propmod"];if(o.add!==void 0){var d=o.add;if(R(d))return A(A([],R(i)?i:[],!0),d).sort();if(typeof d=="number")return(Number(i)||0)+d;if(typeof d=="bigint")try{return BigInt(i)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(o.remove!==void 0){var y=o.remove;if(R(y))return R(i)?i.filter(function(w){return!y.includes(w)}).sort():[];if(typeof y=="number")return Number(i)-y;if(typeof y=="bigint")try{return BigInt(i)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}return d=(d=o.replacePrefix)==null?void 0:d[0],d&&typeof i=="string"&&i.startsWith(d)?o.replacePrefix[1]+i.substring(d.length):i};var pr=Zl;function Zl(i){this["@@propmod"]=i}function fn(i,o){for(var d=T(o),y=d.length,w=!1,C=0;C<y;++C){var S=d[C],O=o[S],I=Ye(i,S);O instanceof pr?(ie(i,S,O.execute(I)),w=!0):I!==O&&(ie(i,S,O),w=!0)}return w}Gt.prototype._trans=function(i,o,d){var y=this._tx||Se.trans,w=this.name,C=ze&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(i==="readonly"?"read":"write"," ").concat(this.name));function S(k,U,z){if(z.schema[w])return o(z.idbtrans,z);throw new qe.NotFound("Table "+w+" not part of transaction")}var O=fr();try{var I=y&&y.db._novip===this.db._novip?y===Se.trans?y._promise(i,S,d):tn(function(){return y._promise(i,S,d)},{trans:y,transless:Se.transless||Se}):(function k(U,z,j,F){if(U.idbdb&&(U._state.openComplete||Se.letThrough||U._vip)){var V=U._createTransaction(z,j,U._dbSchema);try{V.create(),U._state.PR1398_maxLoop=3}catch(H){return H.name===Nt.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return k(U,z,j,F)})):nt(H)}return V._promise(z,function(H,K){return tn(function(){return Se.trans=V,F(H,K,V)})}).then(function(H){if(z==="readwrite")try{V.idbtrans.commit()}catch{}return z==="readonly"?H:V._completion.then(function(){return H})})}if(U._state.openComplete)return nt(new qe.DatabaseClosed(U._state.dbOpenError));if(!U._state.isBeingOpened){if(!U._state.autoOpen)return nt(new qe.DatabaseClosed);U.open().catch(Rt)}return U._state.dbReadyPromise.then(function(){return k(U,z,j,F)})})(this.db,i,[this.name],S);return C&&(I._consoleTask=C,I=I.catch(function(k){return console.trace(k),nt(k)})),I}finally{O&&hr()}},Gt.prototype.get=function(i,o){var d=this;return i&&i.constructor===Object?this.where(i).first(o):i==null?nt(new qe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(y){return d.core.get({trans:y,key:i}).then(function(w){return d.hook.reading.fire(w)})}).then(o)},Gt.prototype.where=function(i){if(typeof i=="string")return new this.db.WhereClause(this,i);if(R(i))return new this.db.WhereClause(this,"[".concat(i.join("+"),"]"));var o=T(i);if(o.length===1)return this.where(o[0]).equals(i[o[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&o.every(function(k){return 0<=O.keyPath.indexOf(k)})){for(var I=0;I<o.length;++I)if(o.indexOf(O.keyPath[I])===-1)return!1;return!0}return!1}).sort(function(O,I){return O.keyPath.length-I.keyPath.length})[0];if(d&&this.db._maxKey!==Tr)return S=d.keyPath.slice(0,o.length),this.where(S).equals(S.map(function(O){return i[O]}));!d&&ze&&console.warn("The query ".concat(JSON.stringify(i)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var y=this.schema.idxByName;function w(O,I){return gt(O,I)===0}var S=o.reduce(function(U,I){var k=U[0],U=U[1],z=y[I],j=i[I];return[k||z,k||!z?zi(U,z&&z.multi?function(F){return F=Ye(F,I),R(F)&&F.some(function(V){return w(j,V)})}:function(F){return w(j,Ye(F,I))}):U]},[null,null]),C=S[0],S=S[1];return C?this.where(C.name).equals(i[C.keyPath]).filter(S):d?this.filter(S):this.where(o).equals("")},Gt.prototype.filter=function(i){return this.toCollection().and(i)},Gt.prototype.count=function(i){return this.toCollection().count(i)},Gt.prototype.offset=function(i){return this.toCollection().offset(i)},Gt.prototype.limit=function(i){return this.toCollection().limit(i)},Gt.prototype.each=function(i){return this.toCollection().each(i)},Gt.prototype.toArray=function(i){return this.toCollection().toArray(i)},Gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Gt.prototype.orderBy=function(i){return new this.db.Collection(new this.db.WhereClause(this,R(i)?"[".concat(i.join("+"),"]"):i))},Gt.prototype.reverse=function(){return this.toCollection().reverse()},Gt.prototype.mapToClass=function(i){for(var o=this.db,d=this.name,y=((this.schema.mappedClass=i).prototype instanceof vt&&(i=(S=>{var O=U,I=S;if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function k(){this.constructor=O}function U(){return S!==null&&S.apply(this,arguments)||this}return m(O,I),O.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k),Object.defineProperty(U.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),U.prototype.table=function(){return d},U})(i)),new Set),w=i.prototype;w;w=v(w))Object.getOwnPropertyNames(w).forEach(function(S){return y.add(S)});function C(S){if(!S)return S;var O,I=Object.create(i.prototype);for(O in S)if(!y.has(O))try{I[O]=S[O]}catch{}return I}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),i},Gt.prototype.defineClass=function(){return this.mapToClass(function(i){D(this,i)})},Gt.prototype.add=function(i,o){var d=this,y=this.schema.primKey,w=y.auto,C=y.keyPath,S=i;return C&&w&&(S=Tt(C)(i)),this._trans("readwrite",function(O){return d.core.mutate({trans:O,type:"add",keys:o!=null?[o]:null,values:[S]})}).then(function(O){return O.numFailures?Be.reject(O.failures[0]):O.lastResult}).then(function(O){if(C)try{ie(i,C,O)}catch{}return O})},Gt.prototype.upsert=function(i,o){var d=this,y=this.schema.primKey.keyPath;return this._trans("readwrite",function(w){return d.core.get({trans:w,key:i}).then(function(C){var S=C??{};return fn(S,o),y&&ie(S,y,i),d.core.mutate({trans:w,type:"put",values:[S],keys:[i],upsert:!0,updates:{keys:[i],changeSpecs:[o]}}).then(function(O){return O.numFailures?Be.reject(O.failures[0]):!!C})})})},Gt.prototype.update=function(i,o){return typeof i!="object"||R(i)?this.where(":id").equals(i).modify(o):(i=Ye(i,this.schema.primKey.keyPath))===void 0?nt(new qe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(i).modify(o)},Gt.prototype.put=function(i,o){var d=this,y=this.schema.primKey,w=y.auto,C=y.keyPath,S=i;return C&&w&&(S=Tt(C)(i)),this._trans("readwrite",function(O){return d.core.mutate({trans:O,type:"put",values:[S],keys:o!=null?[o]:null})}).then(function(O){return O.numFailures?Be.reject(O.failures[0]):O.lastResult}).then(function(O){if(C)try{ie(i,C,O)}catch{}return O})},Gt.prototype.delete=function(i){var o=this;return this._trans("readwrite",function(d){return o.core.mutate({trans:d,type:"delete",keys:[i]}).then(function(y){return Mt(o,[i],y)}).then(function(y){return y.numFailures?Be.reject(y.failures[0]):void 0})})},Gt.prototype.clear=function(){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"deleteRange",range:Ut}).then(function(d){return Mt(i,null,d)})}).then(function(o){return o.numFailures?Be.reject(o.failures[0]):void 0})},Gt.prototype.bulkGet=function(i){var o=this;return this._trans("readonly",function(d){return o.core.getMany({keys:i,trans:d}).then(function(y){return y.map(function(w){return o.hook.reading.fire(w)})})})},Gt.prototype.bulkAdd=function(i,o,d){var y=this,w=Array.isArray(o)?o:void 0,C=(d=d||(w?void 0:o))?d.allKeys:void 0;return this._trans("readwrite",function(S){var O=y.schema.primKey,k=O.auto,O=O.keyPath;if(O&&w)throw new qe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(w&&w.length!==i.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var I=i.length,k=O&&k?i.map(Tt(O)):i;return y.core.mutate({trans:S,type:"add",keys:w,values:k,wantResults:C}).then(function(U){var z=U.numFailures,j=U.failures;if(z===0)return C?U.results:U.lastResult;throw new bt("".concat(y.name,".bulkAdd(): ").concat(z," of ").concat(I," operations failed"),j)})})},Gt.prototype.bulkPut=function(i,o,d){var y=this,w=Array.isArray(o)?o:void 0,C=(d=d||(w?void 0:o))?d.allKeys:void 0;return this._trans("readwrite",function(S){var O=y.schema.primKey,k=O.auto,O=O.keyPath;if(O&&w)throw new qe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(w&&w.length!==i.length)throw new qe.InvalidArgument("Arguments objects and keys must have the same length");var I=i.length,k=O&&k?i.map(Tt(O)):i;return y.core.mutate({trans:S,type:"put",keys:w,values:k,wantResults:C}).then(function(U){var z=U.numFailures,j=U.failures;if(z===0)return C?U.results:U.lastResult;throw new bt("".concat(y.name,".bulkPut(): ").concat(z," of ").concat(I," operations failed"),j)})})},Gt.prototype.bulkUpdate=function(i){var o=this,d=this.core,y=i.map(function(S){return S.key}),w=i.map(function(S){return S.changes}),C=[];return this._trans("readwrite",function(S){return d.getMany({trans:S,keys:y,cache:"clone"}).then(function(O){var I=[],k=[],U=(i.forEach(function(z,j){var F=z.key,V=z.changes,H=O[j];if(H){for(var K=0,W=Object.keys(V);K<W.length;K++){var q=W[K],re=V[q];if(q===o.schema.primKey.keyPath){if(gt(re,F)!==0)throw new qe.Constraint("Cannot update primary key in bulkUpdate()")}else ie(H,q,re)}C.push(j),I.push(F),k.push(H)}}),I.length);return d.mutate({trans:S,type:"put",keys:I,values:k,updates:{keys:y,changeSpecs:w}}).then(function(z){var j=z.numFailures,F=z.failures;if(j===0)return U;for(var V=0,H=Object.keys(F);V<H.length;V++){var K,W=H[V],q=C[Number(W)];q!=null&&(K=F[W],delete F[W],F[q]=K)}throw new bt("".concat(o.name,".bulkUpdate(): ").concat(j," of ").concat(U," operations failed"),F)})})})},Gt.prototype.bulkDelete=function(i){var o=this,d=i.length;return this._trans("readwrite",function(y){return o.core.mutate({trans:y,type:"delete",keys:i}).then(function(w){return Mt(o,i,w)})}).then(function(y){var w=y.numFailures,C=y.failures;if(w===0)return y.lastResult;throw new bt("".concat(o.name,".bulkDelete(): ").concat(w," of ").concat(d," operations failed"),C)})};var Vr=Gt;function Gt(){}function Yr(i){function o(S,O){if(O){for(var I=arguments.length,k=new Array(I-1);--I;)k[I-1]=arguments[I];return d[S].subscribe.apply(null,k),i}if(typeof S=="string")return d[S]}var d={};o.addEventType=C;for(var y=1,w=arguments.length;y<w;++y)C(arguments[y]);return o;function C(S,O,I){var k,U;if(typeof S!="object")return O=O||St,U={subscribers:[],fire:I=I||Rt,subscribe:function(z){U.subscribers.indexOf(z)===-1&&(U.subscribers.push(z),U.fire=O(U.fire,z))},unsubscribe:function(z){U.subscribers=U.subscribers.filter(function(j){return j!==z}),U.fire=U.subscribers.reduce(O,I)}},d[S]=o[S]=U;T(k=S).forEach(function(z){var j=k[z];if(R(j))C(z,k[z][0],k[z][1]);else{if(j!=="asap")throw new qe.InvalidArgument("Invalid event config");var F=C(z,At,function(){for(var V=arguments.length,H=new Array(V);V--;)H[V]=arguments[V];F.subscribers.forEach(function(K){at(function(){K.apply(null,H)})})})}})}}function dt(i,o){return J(o).from({prototype:i}),o}function yn(i,o){return!(i.filter||i.algorithm||i.or)&&(o?i.justLimit:!i.replayFilter)}function Q(i,o){i.filter=zi(i.filter,o)}function P(i,o,d){var y=i.replayFilter;i.replayFilter=y?function(){return zi(y(),o())}:o,i.justLimit=d&&!y}function Ge(i,o){if(i.isPrimKey)return o.primaryKey;var d=o.getIndexByKeyPath(i.index);if(d)return d;throw new qe.Schema("KeyPath "+i.index+" on object store "+o.name+" is not indexed")}function Rn(i,o,d){var y=Ge(i,o.schema);return o.openCursor({trans:d,values:!i.keysOnly,reverse:i.dir==="prev",unique:!!i.unique,query:{index:y,range:i.range}})}function er(i,o,d,y){var w,C,S=i.replayFilter?zi(i.filter,i.replayFilter()):i.filter;return i.or?(w={},C=function(O,I,k){var U,z;S&&!S(I,k,function(j){return I.stop(j)},function(j){return I.fail(j)})||((z=""+(U=I.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(U)),B(w,z))||(w[z]=!0,o(O,I,k))},Promise.all([i.or._iterate(C,d),Pi(Rn(i,y,d),i.algorithm,C,!i.keysOnly&&i.valueMapper)])):Pi(Rn(i,y,d),zi(i.algorithm,S),o,!i.keysOnly&&i.valueMapper)}function Pi(i,o,d,y){var w=Pt(y?function(C,S,O){return d(y(C),S,O)}:d);return i.then(function(C){if(C)return C.start(function(){var S=function(){return C.continue()};o&&!o(C,function(O){return S=O},function(O){C.stop(O),S=Rt},function(O){C.fail(O),S=Rt})||w(C.value,C,function(O){return S=O}),S()})})}ut.prototype._read=function(i,o){var d=this._ctx;return d.error?d.table._trans(null,nt.bind(null,d.error)):d.table._trans("readonly",i).then(o)},ut.prototype._write=function(i){var o=this._ctx;return o.error?o.table._trans(null,nt.bind(null,o.error)):o.table._trans("readwrite",i,"locked")},ut.prototype._addAlgorithm=function(i){var o=this._ctx;o.algorithm=zi(o.algorithm,i)},ut.prototype._iterate=function(i,o){return er(this._ctx,i,o,this._ctx.table.core)},ut.prototype.clone=function(i){var o=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return i&&D(d,i),o._ctx=d,o},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(i){var o=this._ctx;return this._read(function(d){return er(o,i,d,o.table.core)})},ut.prototype.count=function(i){var o=this;return this._read(function(d){var y,w=o._ctx,C=w.table.core;return yn(w,!0)?C.count({trans:d,query:{index:Ge(w,C.schema),range:w.range}}).then(function(S){return Math.min(S,w.limit)}):(y=0,er(w,function(){return++y,!1},d,C).then(function(){return y}))}).then(i)},ut.prototype.sortBy=function(i,o){var d=i.split(".").reverse(),y=d[0],w=d.length-1;function C(I,k){return k?C(I[d[k]],k-1):I[y]}var S=this._ctx.dir==="next"?1:-1;function O(I,k){return gt(C(I,w),C(k,w))*S}return this.toArray(function(I){return I.sort(O)}).then(o)},ut.prototype.toArray=function(i){var o=this;return this._read(function(d){var y,w,C,S=o._ctx;return S.dir==="next"&&yn(S,!0)&&0<S.limit?(y=S.valueMapper,w=Ge(S,S.table.core.schema),S.table.core.query({trans:d,limit:S.limit,values:!0,query:{index:w,range:S.range}}).then(function(O){return O=O.result,y?O.map(y):O})):(C=[],er(S,function(O){return C.push(O)},d,S.table.core).then(function(){return C}))},i)},ut.prototype.offset=function(i){var o=this._ctx;return i<=0||(o.offset+=i,yn(o)?P(o,function(){var d=i;return function(y,w){return d===0||(d===1?--d:w(function(){y.advance(d),d=0}),!1)}}):P(o,function(){var d=i;return function(){return--d<0}})),this},ut.prototype.limit=function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),P(this._ctx,function(){var o=i;return function(d,y,w){return--o<=0&&y(w),0<=o}},!0),this},ut.prototype.until=function(i,o){return Q(this._ctx,function(d,y,w){return!i(d.value)||(y(w),o)}),this},ut.prototype.first=function(i){return this.limit(1).toArray(function(o){return o[0]}).then(i)},ut.prototype.last=function(i){return this.reverse().first(i)},ut.prototype.filter=function(i){var o;return Q(this._ctx,function(d){return i(d.value)}),(o=this._ctx).isMatch=zi(o.isMatch,i),this},ut.prototype.and=function(i){return this.filter(i)},ut.prototype.or=function(i){return new this.db.WhereClause(this._ctx.table,i,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(d,y){i(y.key,y)})},ut.prototype.eachUniqueKey=function(i){return this._ctx.unique="unique",this.eachKey(i)},ut.prototype.eachPrimaryKey=function(i){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(d,y){i(y.primaryKey,y)})},ut.prototype.keys=function(i){var o=this._ctx,d=(o.keysOnly=!o.isMatch,[]);return this.each(function(y,w){d.push(w.key)}).then(function(){return d}).then(i)},ut.prototype.primaryKeys=function(i){var o=this._ctx;if(o.dir==="next"&&yn(o,!0)&&0<o.limit)return this._read(function(y){var w=Ge(o,o.table.core.schema);return o.table.core.query({trans:y,values:!1,limit:o.limit,query:{index:w,range:o.range}})}).then(function(y){return y.result}).then(i);o.keysOnly=!o.isMatch;var d=[];return this.each(function(y,w){d.push(w.primaryKey)}).then(function(){return d}).then(i)},ut.prototype.uniqueKeys=function(i){return this._ctx.unique="unique",this.keys(i)},ut.prototype.firstKey=function(i){return this.limit(1).keys(function(o){return o[0]}).then(i)},ut.prototype.lastKey=function(i){return this.reverse().firstKey(i)},ut.prototype.distinct=function(){var i,o=this._ctx,o=o.index&&o.table.schema.idxByName[o.index];return o&&o.multi&&(i={},Q(this._ctx,function(y){var y=y.primaryKey.toString(),w=B(i,y);return i[y]=!0,!w})),this},ut.prototype.modify=function(i){var o=this,d=this._ctx;return this._write(function(y){function w(H,K){var W=K.failures;j+=H-K.numFailures;for(var q=0,re=T(W);q<re.length;q++){var xe=re[q];z.push(W[xe])}}var C=typeof i=="function"?i:function(H){return fn(H,i)},S=d.table.core,U=S.schema.primaryKey,O=U.outbound,I=U.extractKey,k=200,U=o.db._options.modifyChunkSize,z=(U&&(k=typeof U=="object"?U[S.name]||U["*"]||200:U),[]),j=0,F=[],V=i===Qe;return o.clone().primaryKeys().then(function(H){function K(q){var re=Math.min(k,H.length-q),xe=H.slice(q,q+re);return(V?Promise.resolve([]):S.getMany({trans:y,keys:xe,cache:"immutable"})).then(function(Oe){var Ie=[],ve=[],Pe=O?[]:null,ke=V?xe:[];if(!V)for(var Te=0;Te<re;++Te){var Ve=Oe[Te],ht={value:lt(Ve),primKey:H[q+Te]};C.call(ht,ht.value,ht)!==!1&&(ht.value==null?ke.push(H[q+Te]):O||gt(I(Ve),I(ht.value))===0?(ve.push(ht.value),O&&Pe.push(H[q+Te])):(ke.push(H[q+Te]),Ie.push(ht.value)))}return Promise.resolve(0<Ie.length&&S.mutate({trans:y,type:"add",values:Ie}).then(function(_t){for(var et in _t.failures)ke.splice(parseInt(et),1);w(Ie.length,_t)})).then(function(){return(0<ve.length||W&&typeof i=="object")&&S.mutate({trans:y,type:"put",keys:Pe,values:ve,criteria:W,changeSpec:typeof i!="function"&&i,isAdditionalChunk:0<q}).then(function(_t){return w(ve.length,_t)})}).then(function(){return(0<ke.length||W&&V)&&S.mutate({trans:y,type:"delete",keys:ke,criteria:W,isAdditionalChunk:0<q}).then(function(_t){return Mt(d.table,ke,_t)}).then(function(_t){return w(ke.length,_t)})}).then(function(){return H.length>q+re&&K(q+k)})})}var W=yn(d)&&d.limit===1/0&&(typeof i!="function"||V)&&{index:d.index,range:d.range};return K(0).then(function(){if(0<z.length)throw new Ne("Error modifying one or more objects",z,j,F);return H.length})})})},ut.prototype.delete=function(){var i=this._ctx,o=i.range;return!yn(i)||i.table.schema.yProps||!i.isPrimKey&&o.type!==3?this.modify(Qe):this._write(function(d){var y=i.table.core.schema.primaryKey,w=o;return i.table.core.count({trans:d,query:{index:y,range:w}}).then(function(C){return i.table.core.mutate({trans:d,type:"deleteRange",range:w}).then(function(I){var O=I.failures,I=I.numFailures;if(I)throw new Ne("Could not delete some values",Object.keys(O).map(function(k){return O[k]}),C-I);return C-I})})})};var Sl=ut;function ut(){}var Qe=function(i,o){return o.value=null};function an(i,o){return i<o?-1:i===o?0:1}function Ql(i,o){return o<i?-1:i===o?0:1}function yr(i,o,d){return i=i instanceof hn?new i.Collection(i):i,i._ctx.error=new(d||TypeError)(o),i}function kr(i){return new i.Collection(i,function(){return ja("")}).limit(0)}function lr(F,o,d,y){var w,C,S,O,I,k,U,z=d.length;if(!d.every(function(H){return typeof H=="string"}))return yr(F,_n);function j(H){w=H==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},C=H==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},S=H==="next"?an:Ql;var K=d.map(function(W){return{lower:C(W),upper:w(W)}}).sort(function(W,q){return S(W.lower,q.lower)});O=K.map(function(W){return W.upper}),I=K.map(function(W){return W.lower}),U=(k=H)==="next"?"":y}j("next");var F=new F.Collection(F,function(){return Or(O[0],I[z-1]+y)}),V=(F._ondirectionchange=function(H){j(H)},0);return F._addAlgorithm(function(H,K,W){var q=H.key;if(typeof q=="string"){var re=C(q);if(o(re,I,V))return!0;for(var xe=null,Oe=V;Oe<z;++Oe){var Ie=((ve,Pe,ke,Te,Ve,ht)=>{for(var _t=Math.min(ve.length,Te.length),et=-1,pt=0;pt<_t;++pt){var dn=Pe[pt];if(dn!==Te[pt])return Ve(ve[pt],ke[pt])<0?ve.substr(0,pt)+ke[pt]+ke.substr(pt+1):Ve(ve[pt],Te[pt])<0?ve.substr(0,pt)+Te[pt]+ke.substr(pt+1):0<=et?ve.substr(0,et)+Pe[et]+ke.substr(et+1):null;Ve(ve[pt],dn)<0&&(et=pt)}return _t<Te.length&&ht==="next"?ve+ke.substr(ve.length):_t<ve.length&&ht==="prev"?ve.substr(0,ke.length):et<0?null:ve.substr(0,et)+Te[et]+ke.substr(et+1)})(q,re,O[Oe],I[Oe],S,k);Ie===null&&xe===null?V=Oe+1:(xe===null||0<S(xe,Ie))&&(xe=Ie)}K(xe!==null?function(){H.continue(xe+U)}:W)}return!1}),F}function Or(i,o,d,y){return{type:2,lower:i,upper:o,lowerOpen:d,upperOpen:y}}function ja(i){return{type:1,lower:i,upper:i}}Object.defineProperty(Jt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Jt.prototype.between=function(i,o,d,y){d=d!==!1,y=y===!0;try{return 0<this._cmp(i,o)||this._cmp(i,o)===0&&(d||y)&&(!d||!y)?kr(this):new this.Collection(this,function(){return Or(i,o,!d,!y)})}catch{return yr(this,Tn)}},Jt.prototype.equals=function(i){return i==null?yr(this,Tn):new this.Collection(this,function(){return ja(i)})},Jt.prototype.above=function(i){return i==null?yr(this,Tn):new this.Collection(this,function(){return Or(i,void 0,!0)})},Jt.prototype.aboveOrEqual=function(i){return i==null?yr(this,Tn):new this.Collection(this,function(){return Or(i,void 0,!1)})},Jt.prototype.below=function(i){return i==null?yr(this,Tn):new this.Collection(this,function(){return Or(void 0,i,!1,!0)})},Jt.prototype.belowOrEqual=function(i){return i==null?yr(this,Tn):new this.Collection(this,function(){return Or(void 0,i)})},Jt.prototype.startsWith=function(i){return typeof i!="string"?yr(this,_n):this.between(i,i+Tr,!0,!0)},Jt.prototype.startsWithIgnoreCase=function(i){return i===""?this.startsWith(i):lr(this,function(o,d){return o.indexOf(d[0])===0},[i],Tr)},Jt.prototype.equalsIgnoreCase=function(i){return lr(this,function(o,d){return o===d[0]},[i],"")},Jt.prototype.anyOfIgnoreCase=function(){var i=ot.apply(ft,arguments);return i.length===0?kr(this):lr(this,function(o,d){return d.indexOf(o)!==-1},i,"")},Jt.prototype.startsWithAnyOfIgnoreCase=function(){var i=ot.apply(ft,arguments);return i.length===0?kr(this):lr(this,function(o,d){return d.some(function(y){return o.indexOf(y)===0})},i,Tr)},Jt.prototype.anyOf=function(){var i,o,d=this,y=ot.apply(ft,arguments),w=this._cmp;try{y.sort(w)}catch{return yr(this,Tn)}return y.length===0?kr(this):((i=new this.Collection(this,function(){return Or(y[0],y[y.length-1])}))._ondirectionchange=function(C){w=C==="next"?d._ascending:d._descending,y.sort(w)},o=0,i._addAlgorithm(function(C,S,O){for(var I=C.key;0<w(I,y[o]);)if(++o===y.length)return S(O),!1;return w(I,y[o])===0||(S(function(){C.continue(y[o])}),!1)}),i)},Jt.prototype.notEqual=function(i){return this.inAnyRange([[-1/0,i],[i,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Jt.prototype.noneOf=function(){var i=ot.apply(ft,arguments);if(i.length===0)return new this.Collection(this);try{i.sort(this._ascending)}catch{return yr(this,Tn)}var o=i.reduce(function(d,y){return d?d.concat([[d[d.length-1][1],y]]):[[-1/0,y]]},null);return o.push([i[i.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},Jt.prototype.inAnyRange=function(i,W){var d=this,y=this._cmp,w=this._ascending,C=this._descending,S=this._min,O=this._max;if(i.length===0)return kr(this);if(!i.every(function(q){return q[0]!==void 0&&q[1]!==void 0&&w(q[0],q[1])<=0}))return yr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",qe.InvalidArgument);var I=!W||W.includeLowers!==!1,k=W&&W.includeUppers===!0,U,z=w;function j(q,re){return z(q[0],re[0])}try{(U=i.reduce(function(q,re){for(var xe=0,Oe=q.length;xe<Oe;++xe){var Ie=q[xe];if(y(re[0],Ie[1])<0&&0<y(re[1],Ie[0])){Ie[0]=S(Ie[0],re[0]),Ie[1]=O(Ie[1],re[1]);break}}return xe===Oe&&q.push(re),q},[])).sort(j)}catch{return yr(this,Tn)}var F=0,V=k?function(q){return 0<w(q,U[F][1])}:function(q){return 0<=w(q,U[F][1])},H=I?function(q){return 0<C(q,U[F][0])}:function(q){return 0<=C(q,U[F][0])},K=V,W=new this.Collection(this,function(){return Or(U[0][0],U[U.length-1][1],!I,!k)});return W._ondirectionchange=function(q){z=q==="next"?(K=V,w):(K=H,C),U.sort(j)},W._addAlgorithm(function(q,re,xe){for(var Oe,Ie=q.key;K(Ie);)if(++F===U.length)return re(xe),!1;return!V(Oe=Ie)&&!H(Oe)||(d._cmp(Ie,U[F][1])===0||d._cmp(Ie,U[F][0])===0||re(function(){z===w?q.continue(U[F][0]):q.continue(U[F][1])}),!1)}),W},Jt.prototype.startsWithAnyOf=function(){var i=ot.apply(ft,arguments);return i.every(function(o){return typeof o=="string"})?i.length===0?kr(this):this.inAnyRange(i.map(function(o){return[o,o+Tr]})):yr(this,"startsWithAnyOf() only works with strings")};var hn=Jt;function Jt(){}function zn(i){return Pt(function(o){return We(o),i(o.target.error),!1})}function We(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()}var Ji="storagemutated",st="x-storagemutated-1",kt=Yr(null,Ji),Tl=(tr.prototype._lock=function(){return Ue(!Se.global),++this._reculock,this._reculock!==1||Se.global||(Se.lockOwnerFor=this),this},tr.prototype._unlock=function(){if(Ue(!Se.global),--this._reculock==0)for(Se.global||(Se.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var i=this._blockedFuncs.shift();try{Ur(i[1],i[0])}catch{}}return this},tr.prototype._locked=function(){return this._reculock&&Se.lockOwnerFor!==this},tr.prototype.create=function(i){var o=this;if(this.mode){var d=this.db.idbdb,y=this.db._state.dbOpenError;if(Ue(!this.idbtrans),!i&&!d)switch(y&&y.name){case"DatabaseClosedError":throw new qe.DatabaseClosed(y);case"MissingAPIError":throw new qe.MissingAPI(y.message,y);default:throw new qe.OpenFailed(y)}if(!this.active)throw new qe.TransactionInactive;Ue(this._completion._state===null),(i=this.idbtrans=i||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pt(function(w){We(w),o._reject(i.error)}),i.onabort=Pt(function(w){We(w),o.active&&o._reject(new qe.Abort(i.error)),o.active=!1,o.on("abort").fire(w)}),i.oncomplete=Pt(function(){o.active=!1,o._resolve(),"mutatedParts"in i&&kt.storagemutated.fire(i.mutatedParts)})}return this},tr.prototype._promise=function(i,o,d){var y,w=this;return i==="readwrite"&&this.mode!=="readwrite"?nt(new qe.ReadOnly("Transaction is readonly")):this.active?this._locked()?new Be(function(C,S){w._blockedFuncs.push([function(){w._promise(i,o,d).then(C,S)},Se])}):d?tn(function(){var C=new Be(function(S,O){w._lock();var I=o(S,O,w);I&&I.then&&I.then(S,O)});return C.finally(function(){return w._unlock()}),C._lib=!0,C}):((y=new Be(function(C,S){var O=o(C,S,w);O&&O.then&&O.then(C,S)}))._lib=!0,y):nt(new qe.TransactionInactive)},tr.prototype._root=function(){return this.parent?this.parent._root():this},tr.prototype.waitFor=function(i){var o,d=this._root(),y=Be.resolve(i),w=(d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return y}):(d._waitingFor=y,d._waitingQueue=[],o=d.idbtrans.objectStore(d.storeNames[0]),(function C(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(o.get(-1/0).onsuccess=C)})()),d._waitingFor);return new Be(function(C,S){y.then(function(O){return d._waitingQueue.push(Pt(C.bind(null,O)))},function(O){return d._waitingQueue.push(Pt(S.bind(null,O)))}).finally(function(){d._waitingFor===w&&(d._waitingFor=null)})})},tr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new qe.Abort))},tr.prototype.table=function(i){var o=this._memoizedTables||(this._memoizedTables={});if(B(o,i))return o[i];var d=this.schema[i];if(d)return(d=new this.db.Table(i,d,this)).core=this.db.core.table(i),o[i]=d;throw new qe.NotFound("Table "+i+" not part of transaction")},tr);function tr(){}function zr(i,o,d,y,w,C,S,O){return{name:i,keyPath:o,unique:d,multi:y,auto:w,compound:C,src:(d&&!S?"&":"")+(y?"*":"")+(w?"++":"")+Gr(o),type:O}}function Gr(i){return typeof i=="string"?i:i?"["+[].join.call(i,"+")+"]":""}function $i(i,o,d){return{name:i,primKey:o,indexes:d,mappedClass:null,idxByName:(y=function(w){return[w.name,w]},d.reduce(function(w,C,S){return C=y(C,S),C&&(w[C[0]]=C[1]),w},{}))};var y}var Xr=function(i){try{return i.only([[]]),Xr=function(){return[[]]},[[]]}catch{return Xr=function(){return Tr},Tr}};function qr(i){return i==null?function(){}:typeof i=="string"?(o=i).split(".").length===1?function(d){return d[o]}:function(d){return Ye(d,o)}:function(d){return Ye(d,i)};var o}function ai(i){return[].slice.call(i)}var _l=0;function Cn(i){return i==null?":id":typeof i=="string"?i:"[".concat(i.join("+"),"]")}function Fr(i,o,I){function y(V){if(V.type===3)return null;if(V.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var z=V.lower,j=V.upper,F=V.lowerOpen,V=V.upperOpen;return z===void 0?j===void 0?null:o.upperBound(j,!!V):j===void 0?o.lowerBound(z,!!F):o.bound(z,j,!!F,!!V)}function w(U){var z,j=U.name;return{name:j,schema:U,mutate:function(F){var V=F.trans,H=F.type,K=F.keys,W=F.values,q=F.range;return new Promise(function(re,xe){re=Pt(re);var Oe=V.objectStore(j),Ie=Oe.keyPath==null,ve=H==="put"||H==="add";if(!ve&&H!=="delete"&&H!=="deleteRange")throw new Error("Invalid operation type: "+H);var Pe,ke=(K||W||{length:1}).length;if(K&&W&&K.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(ke===0)return re({numFailures:0,failures:{},results:[],lastResult:void 0});function Te(nn){++_t,We(nn)}var Ve=[],ht=[],_t=0;if(H==="deleteRange"){if(q.type===4)return re({numFailures:_t,failures:ht,results:[],lastResult:void 0});q.type===3?Ve.push(Pe=Oe.clear()):Ve.push(Pe=Oe.delete(y(q)))}else{var Ie=ve?Ie?[W,K]:[W,null]:[K,null],et=Ie[0],pt=Ie[1];if(ve)for(var dn=0;dn<ke;++dn)Ve.push(Pe=pt&&pt[dn]!==void 0?Oe[H](et[dn],pt[dn]):Oe[H](et[dn])),Pe.onerror=Te;else for(dn=0;dn<ke;++dn)Ve.push(Pe=Oe[H](et[dn])),Pe.onerror=Te}function Ir(nn){nn=nn.target.result,Ve.forEach(function(ia,Wa){return ia.error!=null&&(ht[Wa]=ia.error)}),re({numFailures:_t,failures:ht,results:H==="delete"?K:Ve.map(function(ia){return ia.result}),lastResult:nn})}Pe.onerror=function(nn){Te(nn),Ir(nn)},Pe.onsuccess=Ir})},getMany:function(F){var V=F.trans,H=F.keys;return new Promise(function(K,W){K=Pt(K);for(var q,re=V.objectStore(j),xe=H.length,Oe=new Array(xe),Ie=0,ve=0,Pe=function(Ve){Ve=Ve.target,Oe[Ve._pos]=Ve.result,++ve===Ie&&K(Oe)},ke=zn(W),Te=0;Te<xe;++Te)H[Te]!=null&&((q=re.get(H[Te]))._pos=Te,q.onsuccess=Pe,q.onerror=ke,++Ie);Ie===0&&K(Oe)})},get:function(F){var V=F.trans,H=F.key;return new Promise(function(K,W){K=Pt(K);var q=V.objectStore(j).get(H);q.onsuccess=function(re){return K(re.target.result)},q.onerror=zn(W)})},query:(z=O,function(F){return new Promise(function(V,H){V=Pt(V);var K,W,q,ve=F.trans,re=F.values,xe=F.limit,Ie=F.query,Oe=xe===1/0?void 0:xe,Pe=Ie.index,Ie=Ie.range,ve=ve.objectStore(j),ve=Pe.isPrimaryKey?ve:ve.index(Pe.name),Pe=y(Ie);if(xe===0)return V({result:[]});z?((Ie=re?ve.getAll(Pe,Oe):ve.getAllKeys(Pe,Oe)).onsuccess=function(ke){return V({result:ke.target.result})},Ie.onerror=zn(H)):(K=0,W=!re&&"openKeyCursor"in ve?ve.openKeyCursor(Pe):ve.openCursor(Pe),q=[],W.onsuccess=function(ke){var Te=W.result;return!Te||(q.push(re?Te.value:Te.primaryKey),++K===xe)?V({result:q}):void Te.continue()},W.onerror=zn(H))})}),openCursor:function(F){var V=F.trans,H=F.values,K=F.query,W=F.reverse,q=F.unique;return new Promise(function(re,xe){re=Pt(re);var ve=K.index,Oe=K.range,Ie=V.objectStore(j),Ie=ve.isPrimaryKey?Ie:Ie.index(ve.name),ve=W?q?"prevunique":"prev":q?"nextunique":"next",Pe=!H&&"openKeyCursor"in Ie?Ie.openKeyCursor(y(Oe),ve):Ie.openCursor(y(Oe),ve);Pe.onerror=zn(xe),Pe.onsuccess=Pt(function(ke){var Te,Ve,ht,_t,et=Pe.result;et?(et.___id=++_l,et.done=!1,Te=et.continue.bind(et),Ve=(Ve=et.continuePrimaryKey)&&Ve.bind(et),ht=et.advance.bind(et),_t=function(){throw new Error("Cursor not stopped")},et.trans=V,et.stop=et.continue=et.continuePrimaryKey=et.advance=function(){throw new Error("Cursor not started")},et.fail=Pt(xe),et.next=function(){var pt=this,dn=1;return this.start(function(){return dn--?pt.continue():pt.stop()}).then(function(){return pt})},et.start=function(pt){function dn(){if(Pe.result)try{pt()}catch(nn){et.fail(nn)}else et.done=!0,et.start=function(){throw new Error("Cursor behind last entry")},et.stop()}var Ir=new Promise(function(nn,ia){nn=Pt(nn),Pe.onerror=zn(ia),et.fail=ia,et.stop=function(Wa){et.stop=et.continue=et.continuePrimaryKey=et.advance=_t,nn(Wa)}});return Pe.onsuccess=Pt(function(nn){Pe.onsuccess=dn,dn()}),et.continue=Te,et.continuePrimaryKey=Ve,et.advance=ht,dn(),Ir},re(et)):re(null)},xe)})},count:function(F){var V=F.query,H=F.trans,K=V.index,W=V.range;return new Promise(function(q,re){var xe=H.objectStore(j),xe=K.isPrimaryKey?xe:xe.index(K.name),Oe=y(W),Oe=Oe?xe.count(Oe):xe.count();Oe.onsuccess=Pt(function(Ie){return q(Ie.target.result)}),Oe.onerror=zn(re)})}}}C=I,S=ai((I=i).objectStoreNames);var C,I={schema:{name:I.name,tables:S.map(function(U){return C.objectStore(U)}).map(function(U){var z=U.keyPath,j=U.autoIncrement,V=R(z),F={},V={name:U.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:z==null,compound:V,keyPath:z,autoIncrement:j,unique:!0,extractKey:qr(z)},indexes:ai(U.indexNames).map(function(H){return U.index(H)}).map(function(q){var re=q.name,K=q.unique,W=q.multiEntry,q=q.keyPath,re={name:re,compound:R(q),keyPath:q,unique:K,multiEntry:W,extractKey:qr(q)};return F[Cn(q)]=re}),getIndexByKeyPath:function(H){return F[Cn(H)]}};return F[":id"]=V.primaryKey,z!=null&&(F[Cn(z)]=V.primaryKey),V})},hasGetAll:0<S.length&&"getAll"in C.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},S=I.schema,O=I.hasGetAll,I=S.tables.map(w),k={};return I.forEach(function(U){return k[U.name]=U}),{stack:"dbcore",transaction:i.transaction.bind(i),table:function(U){if(k[U])return k[U];throw new Error("Table '".concat(U,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Xr(o),schema:S}}function qn(i,o,d,y){return d=d.IDBKeyRange,o=Fr(o,d,y),{dbcore:i.dbcore.reduce(function(w,C){return C=C.create,p(p({},w),C(w))},o)}}function li(i,o){var d=o.db,d=qn(i._middlewares,d,i._deps,o);i.core=d.dbcore,i.tables.forEach(function(y){var w=y.name;i.core.schema.tables.some(function(C){return C.name===w})&&(y.core=i.core.table(w),i[w]instanceof i.Table)&&(i[w].core=y.core)})}function ma(i,o,d,y){d.forEach(function(w){var C=y[w];o.forEach(function(S){var O=(function I(k,U){return le(k,U)||(k=v(k))&&I(k,U)})(S,w);(!O||"value"in O&&O.value===void 0)&&(S===i.Transaction.prototype||S instanceof i.Transaction?$(S,w,{get:function(){return this.table(w)},set:function(I){me(this,w,{value:I,writable:!0,configurable:!0,enumerable:!0})}}):S[w]=new i.Table(w,C))})})}function ea(i,o){o.forEach(function(d){for(var y in d)d[y]instanceof i.Table&&delete d[y]})}function Ol(i,o){return i._cfg.version-o._cfg.version}function pa(i,o,d,y){var w=i._dbSchema,C=(d.objectStoreNames.contains("$meta")&&!w.$meta&&(w.$meta=$i("$meta",mt("")[0],[]),i._storeNames.push("$meta")),i._createTransaction("readwrite",i._storeNames,w)),S=(C.create(d),C._completion.catch(y),C._reject.bind(C)),O=Se.transless||Se;tn(function(){if(Se.trans=C,Se.transless=O,o!==0)return li(i,d),k=o,((I=C).storeNames.includes("$meta")?I.table("$meta").get("version").then(function(U){return U??k}):Be.resolve(k)).then(function(K){var z=i,j=K,F=C,V=d,H=[],K=z._versions,W=z._dbSchema=ta(0,z.idbdb,V);return(K=K.filter(function(q){return q._cfg.version>=j})).length===0?Be.resolve():(K.forEach(function(q){H.push(function(){var re,xe,Oe,Ie=W,ve=q._cfg.dbschema,Pe=(oe(z,Ie,V),oe(z,ve,V),W=z._dbSchema=ve,jt(Ie,ve)),ke=(Pe.add.forEach(function(Te){Va(V,Te[0],Te[1].primKey,Te[1].indexes)}),Pe.change.forEach(function(Te){if(Te.recreate)throw new qe.Upgrade("Not yet support for changing primary key");var Ve=V.objectStore(Te.name);Te.add.forEach(function(ht){return Pr(Ve,ht)}),Te.change.forEach(function(ht){Ve.deleteIndex(ht.name),Pr(Ve,ht)}),Te.del.forEach(function(ht){return Ve.deleteIndex(ht)})}),q._cfg.contentUpgrade);if(ke&&q._cfg.version>j)return li(z,V),F._memoizedTables={},re=Je(ve),Pe.del.forEach(function(Te){re[Te]=Ie[Te]}),ea(z,[z.Transaction.prototype]),ma(z,[z.Transaction.prototype],T(re),re),F.schema=re,(xe=G(ke))&&Lt(),ve=Be.follow(function(){var Te;(Oe=ke(F))&&xe&&(Te=kn.bind(null,null),Oe.then(Te,Te))}),Oe&&typeof Oe.then=="function"?Be.resolve(Oe):ve.then(function(){return Oe})}),H.push(function(re){var xe,Oe,Ie=q._cfg.dbschema;xe=Ie,Oe=re,[].slice.call(Oe.db.objectStoreNames).forEach(function(ve){return xe[ve]==null&&Oe.db.deleteObjectStore(ve)}),ea(z,[z.Transaction.prototype]),ma(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),F.schema=z._dbSchema}),H.push(function(re){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===q._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(xe){return xe!=="$meta"})):re.objectStore("$meta").put(q._cfg.version,"version"))})}),(function q(){return H.length?Be.resolve(H.shift()(F.idbtrans)).then(q):Be.resolve()})().then(function(){ya(W,V)}))}).catch(S);var I,k;T(w).forEach(function(U){Va(d,U,w[U].primKey,w[U].indexes)}),li(i,d),Be.follow(function(){return i.on.populate.fire(C)}).catch(S)})}function Ha(i,o){ya(i._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var d=ta(0,i.idbdb,o);oe(i,i._dbSchema,o);for(var y=0,w=jt(d,i._dbSchema).change;y<w.length;y++){var C=(S=>{if(S.change.length||S.recreate)return console.warn("Unable to patch indexes of table ".concat(S.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=o.objectStore(S.name);S.add.forEach(function(I){ze&&console.debug("Dexie upgrade patch: Creating missing index ".concat(S.name,".").concat(I.src)),Pr(O,I)})})(w[y]);if(typeof C=="object")return C.value}}function jt(i,o){var d,y={del:[],add:[],change:[]};for(d in i)o[d]||y.del.push(d);for(d in o){var w=i[d],C=o[d];if(w){var S={name:d,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(w.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||w.primKey.auto!==C.primKey.auto)S.recreate=!0,y.change.push(S);else{var O=w.idxByName,I=C.idxByName,k=void 0;for(k in O)I[k]||S.del.push(k);for(k in I){var U=O[k],z=I[k];U?U.src!==z.src&&S.change.push(z):S.add.push(z)}(0<S.del.length||0<S.add.length||0<S.change.length)&&y.change.push(S)}}else y.add.push([d,C])}return y}function Va(i,o,d,y){var w=i.db.createObjectStore(o,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});y.forEach(function(C){return Pr(w,C)})}function ya(i,o){T(i).forEach(function(d){o.db.objectStoreNames.contains(d)||(ze&&console.debug("Dexie: Creating missing table",d),Va(o,d,i[d].primKey,i[d].indexes))})}function Pr(i,o){i.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function ta(i,o,d){var y={};return Ae(o.objectStoreNames,0).forEach(function(w){for(var C=d.objectStore(w),S=zr(Gr(k=C.keyPath),k||"",!0,!1,!!C.autoIncrement,k&&typeof k!="string",!0),O=[],I=0;I<C.indexNames.length;++I){var U=C.index(C.indexNames[I]),k=U.keyPath,U=zr(U.name,k,!!U.unique,!!U.multiEntry,!1,k&&typeof k!="string",!1);O.push(U)}y[w]=$i(w,S,O)}),y}function oe(i,o,d){for(var y=d.db.objectStoreNames,w=0;w<y.length;++w){var C=y[w],S=d.objectStore(C);i._hasGetAll="getAll"in S;for(var O=0;O<S.indexNames.length;++O){var I,k=S.indexNames[O],U=S.index(k).keyPath,U=typeof U=="string"?U:"["+Ae(U).join("+")+"]";o[C]&&(I=o[C].idxByName[U])&&(I.name=k,delete o[C].idxByName[U],o[C].idxByName[k]=I)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&E.WorkerGlobalScope&&E instanceof E.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(i._hasGetAll=!1)}function mt(i){return i.split(",").map(function(o,d){var w=o.split(":"),y=(y=w[1])==null?void 0:y.trim(),w=(o=w[0].trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(w)?w.match(/^\[(.*)\]$/)[1].split("+"):w;return zr(w,C||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),R(C),d===0,y)})}si.prototype._createTableSchema=$i,si.prototype._parseIndexSyntax=mt,si.prototype._parseStoresSpec=function(i,o){var d=this;T(i).forEach(function(y){if(i[y]!==null){var w=d._parseIndexSyntax(i[y]),C=w.shift();if(!C)throw new qe.Schema("Invalid schema for table "+y+": "+i[y]);if(C.unique=!0,C.multi)throw new qe.Schema("Primary key cannot be multiEntry*");w.forEach(function(S){if(S.auto)throw new qe.Schema("Only primary key can be marked as autoIncrement (++)");if(!S.keyPath)throw new qe.Schema("Index must have a name and cannot be an empty string")}),C=d._createTableSchema(y,C,w),o[y]=C}})},si.prototype.stores=function(d){var o=this.db,d=(this._cfg.storesSource=this._cfg.storesSource?D(this._cfg.storesSource,d):d,o._versions),y={},w={};return d.forEach(function(C){D(y,C._cfg.storesSource),w=C._cfg.dbschema={},C._parseStoresSpec(y,w)}),o._dbSchema=w,ea(o,[o._allTables,o,o.Transaction.prototype]),ma(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],T(w),w),o._storeNames=T(w),this},si.prototype.upgrade=function(i){return this._cfg.contentUpgrade=Ai(this._cfg.contentUpgrade||Rt,i),this};var Kn=si;function si(){}function Ya(i,o){var d=i._dbNamesDB;return d||(d=i._dbNamesDB=new Kr(ga,{addons:[],indexedDB:i,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function Ga(i){return i&&typeof i.databases=="function"}function Nl(i){return tn(function(){return Se.letThrough=!0,i()})}function Rl(i){return!("from"in i)}var Fn=function(i,o){var d;if(!this)return d=new Fn,i&&"d"in i&&D(d,i),d;D(this,arguments.length?{d:1,from:i,to:1<arguments.length?o:i}:{d:0})};function xn(i,o,d){var y=gt(o,d);if(!isNaN(y)){if(0<y)throw RangeError();if(Rl(i))return D(i,{from:o,to:d,d:1});var y=i.l,w=i.r;if(gt(d,i.from)<0)return y?xn(y,o,d):i.l={from:o,to:d,d:1,l:null,r:null},Ci(i);if(0<gt(o,i.to))return w?xn(w,o,d):i.r={from:o,to:d,d:1,l:null,r:null},Ci(i);gt(o,i.from)<0&&(i.from=o,i.l=null,i.d=w?w.d+1:1),0<gt(d,i.to)&&(i.to=d,i.r=null,i.d=i.l?i.l.d+1:1),o=!i.r,y&&!i.l&&oi(i,y),w&&o&&oi(i,w)}}function oi(i,o){Rl(o)||(function d(y,w){var C=w.from,S=w.l,O=w.r;xn(y,C,w.to),S&&d(y,S),O&&d(y,O)})(i,o)}function wn(i,o){var d=ji(o),y=d.next();if(!y.done)for(var w=y.value,C=ji(i),S=C.next(w.from),O=S.value;!y.done&&!S.done;){if(gt(O.from,w.to)<=0&&0<=gt(O.to,w.from))return!0;gt(w.from,O.from)<0?w=(y=d.next(O.from)).value:O=(S=C.next(w.from)).value}return!1}function ji(i){var o=Rl(i)?null:{s:0,n:i};return{next:function(d){for(var y=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,y)for(;o.n.l&&gt(d,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!y||gt(d,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ci(i){var o,d,y,w=(((w=i.r)==null?void 0:w.d)||0)-(((w=i.l)==null?void 0:w.d)||0),w=1<w?"r":w<-1?"l":"";w&&(o=w=="r"?"l":"r",d=p({},i),y=i[w],i.from=y.from,i.to=y.to,i[w]=y[w],d[w]=y[o],(i[o]=d).d=Xt(d)),i.d=Xt(i)}function Xt(d){var o=d.r,d=d.l;return(o?d?Math.max(o.d,d.d):o.d:d?d.d:0)+1}function $e(i,o){return T(o).forEach(function(d){i[d]?oi(i[d],o[d]):i[d]=(function y(w){var C,S,O={};for(C in w)B(w,C)&&(S=w[C],O[C]=!S||typeof S!="object"||Zt.has(S.constructor)?S:y(S));return O})(o[d])}),i}function Il(i,o){return i.all||o.all||Object.keys(i).some(function(d){return o[d]&&wn(o[d],i[d])})}ae(Fn.prototype,((cn={add:function(i){return oi(this,i),this},addKey:function(i){return xn(this,i,i),this},addKeys:function(i){var o=this;return i.forEach(function(d){return xn(o,d,d)}),this},hasKey:function(i){var o=ji(this).next(i).value;return o&&gt(o.from,i)<=0&&0<=gt(o.to,i)}})[ee]=function(){return ji(this)},cn));var Ht={},ui={},vi=!1;function Xa(i){$e(ui,i),vi||(vi=!0,setTimeout(function(){vi=!1,Nr(ui,!(ui={}))},0))}function Nr(i,o){o===void 0&&(o=!1);var d=new Set;if(i.all)for(var y=0,w=Object.values(Ht);y<w.length;y++)qa(O=w[y],i,d,o);else for(var C in i){var S,O,C=/^idb\:\/\/(.*)\/(.*)\//.exec(C);C&&(S=C[1],C=C[2],O=Ht["idb://".concat(S,"/").concat(C)])&&qa(O,i,d,o)}d.forEach(function(I){return I()})}function qa(i,o,d,y){for(var w=[],C=0,S=Object.entries(i.queries.query);C<S.length;C++){for(var O=S[C],I=O[0],k=[],U=0,z=O[1];U<z.length;U++){var j=z[U];Il(o,j.obsSet)?j.subscribers.forEach(function(K){return d.add(K)}):y&&k.push(j)}y&&w.push([I,k])}if(y)for(var F=0,V=w;F<V.length;F++){var H=V[F],I=H[0],k=H[1];i.queries.query[I]=k}}function Wl(i){var o=i._state,d=i._deps.indexedDB;if(o.isBeingOpened||i.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?nt(o.dbOpenError):i});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var y=o.openCanceller,w=Math.round(10*i.verno),C=!1;function S(){if(o.openCanceller!==y)throw new qe.DatabaseClosed("db.open() was cancelled")}function O(){return new Be(function(j,F){if(S(),!d)throw new qe.MissingAPI;var V=i.name,H=o.autoSchema||!w?d.open(V):d.open(V,w);if(!H)throw new qe.MissingAPI;H.onerror=zn(F),H.onblocked=Pt(i._fireOnBlocked),H.onupgradeneeded=Pt(function(K){var W;U=H.transaction,o.autoSchema&&!i._options.allowEmptyDB?(H.onerror=We,U.abort(),H.result.close(),(W=d.deleteDatabase(V)).onsuccess=W.onerror=Pt(function(){F(new qe.NoSuchDatabase("Database ".concat(V," doesnt exist")))})):(U.onerror=zn(F),W=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,z=W<1,i.idbdb=H.result,C&&Ha(i,U),pa(i,W/10,U,F))},F),H.onsuccess=Pt(function(){U=null;var K,W,q,re,xe,Oe,Ie=i.idbdb=H.result,ve=Ae(Ie.objectStoreNames);if(0<ve.length)try{var Pe=Ie.transaction((xe=ve).length===1?xe[0]:xe,"readonly");if(o.autoSchema)Oe=Ie,re=Pe,(q=i).verno=Oe.version/10,re=q._dbSchema=ta(0,Oe,re),q._storeNames=Ae(Oe.objectStoreNames,0),ma(q,[q._allTables],T(re),re);else if(oe(i,i._dbSchema,Pe),W=Pe,((W=jt(ta(0,(K=i).idbdb,W),K._dbSchema)).add.length||W.change.some(function(ke){return ke.add.length||ke.change.length}))&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ie.close(),w=Ie.version+1,C=!0,j(O());li(i,Pe)}catch{}be.push(i),Ie.onversionchange=Pt(function(ke){o.vcFired=!0,i.on("versionchange").fire(ke)}),Ie.onclose=Pt(function(){i.close({disableAutoOpen:!1})}),z&&(ve=i._deps,xe=V,Ga(Oe=ve.indexedDB)||xe===ga||Ya(Oe,ve.IDBKeyRange).put({name:xe}).catch(Rt)),j()},F)}).catch(function(j){switch(j?.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<w)return w=0,O()}return Be.reject(j)})}var I,k=o.dbReadyResolve,U=null,z=!1;return Be.race([y,(typeof navigator>"u"?Be.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(j){function F(){return indexedDB.databases().finally(j)}I=setInterval(F,100),F()}).finally(function(){return clearInterval(I)}):Promise.resolve()).then(O)]).then(function(){return S(),o.onReadyBeingFired=[],Be.resolve(Nl(function(){return i.on.ready.fire(i.vip)})).then(function j(){var F;if(0<o.onReadyBeingFired.length)return F=o.onReadyBeingFired.reduce(Ai,Rt),o.onReadyBeingFired=[],Be.resolve(Nl(function(){return F(i.vip)})).then(j)})}).finally(function(){o.openCanceller===y&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(j){o.dbOpenError=j;try{U&&U.abort()}catch{}return y===o.openCanceller&&i._close(),nt(j)}).finally(function(){o.openComplete=!0,k()}).then(function(){var j;return z&&(j={},i.tables.forEach(function(F){F.schema.indexes.forEach(function(V){V.name&&(j["idb://".concat(i.name,"/").concat(F.name,"/").concat(V.name)]=new Fn(-1/0,[[[]]]))}),j["idb://".concat(i.name,"/").concat(F.name,"/")]=j["idb://".concat(i.name,"/").concat(F.name,"/:dels")]=new Fn(-1/0,[[[]]])}),kt(Ji).fire(j),Nr(j,!0)),i})}function Hi(i){function o(C){return i.next(C)}var d=w(o),y=w(function(C){return i.throw(C)});function w(C){return function(O){var O=C(O),I=O.value;return O.done?I:I&&typeof I.then=="function"?I.then(d,y):R(I)?Promise.all(I).then(d,y):d(I)}}return w(o)()}function ci(i,o,d){for(var y=R(i)?i.slice():[i],w=0;w<d;++w)y.push(o);return y}var Jl={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(i){return p(p({},i),{table:function(y){var d=i.table(y),y=d.schema,w={},C=[];function S(j,F,V){var q=Cn(j),H=w[q]=w[q]||[],K=j==null?0:typeof j=="string"?1:j.length,W=0<F,q=p(p({},V),{name:W?"".concat(q,"(virtual-from:").concat(V.name,")"):V.name,lowLevelIndex:V,isVirtual:W,keyTail:F,keyLength:K,extractKey:qr(j),unique:!W&&V.unique});return H.push(q),q.isPrimaryKey||C.push(q),1<K&&S(K===2?j[0]:j.slice(0,K-1),F+1,V),H.sort(function(re,xe){return re.keyTail-xe.keyTail}),q}var O=S(y.primaryKey.keyPath,0,y.primaryKey);w[":id"]=[O];for(var I=0,k=y.indexes;I<k.length;I++){var U=k[I];S(U.keyPath,0,U)}function z(j){var F,V=j.query.index;return V.isVirtual?p(p({},j),{query:{index:V.lowLevelIndex,range:(F=j.query.range,V=V.keyTail,{type:F.type===1?2:F.type,lower:ci(F.lower,F.lowerOpen?i.MAX_KEY:i.MIN_KEY,V),lowerOpen:!0,upper:ci(F.upper,F.upperOpen?i.MIN_KEY:i.MAX_KEY,V),upperOpen:!0})}}):j}return p(p({},d),{schema:p(p({},y),{primaryKey:O,indexes:C,getIndexByKeyPath:function(j){return(j=w[Cn(j)])&&j[0]}}),count:function(j){return d.count(z(j))},query:function(j){return d.query(z(j))},openCursor:function(j){var F=j.query.index,V=F.keyTail,H=F.keyLength;return F.isVirtual?d.openCursor(z(j)).then(function(W){return W&&K(W)}):d.openCursor(j);function K(W){return Object.create(W,{continue:{value:function(q){q!=null?W.continue(ci(q,j.reverse?i.MAX_KEY:i.MIN_KEY,V)):j.unique?W.continue(W.key.slice(0,H).concat(j.reverse?i.MIN_KEY:i.MAX_KEY,V)):W.continue()}},continuePrimaryKey:{value:function(q,re){W.continuePrimaryKey(ci(q,i.MAX_KEY,V),re)}},primaryKey:{get:function(){return W.primaryKey}},key:{get:function(){var q=W.key;return H===1?q[0]:q.slice(0,H)}},value:{get:function(){return W.value}}})}}})}})}};function Ka(i,o,d,y){return d=d||{},y=y||"",T(i).forEach(function(w){var C,S,O;B(o,w)?(C=i[w],S=o[w],typeof C=="object"&&typeof S=="object"&&C&&S?(O=ce(C))!==ce(S)?d[y+w]=o[w]:O==="Object"?Ka(C,S,d,y+w+"."):C!==S&&(d[y+w]=o[w]):C!==S&&(d[y+w]=o[w])):d[y+w]=void 0}),T(o).forEach(function(w){B(i,w)||(d[y+w]=o[w])}),d}function fi(i,o){return o.type==="delete"?o.keys:o.keys||o.values.map(i.extractKey)}var Za={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(i){return p(p({},i),{table:function(o){var d=i.table(o),y=d.schema.primaryKey;return p(p({},d),{mutate:function(w){var C=Se.trans,S=C.table(o).hook,O=S.deleting,I=S.creating,k=S.updating;switch(w.type){case"add":if(I.fire===Rt)break;return C._promise("readwrite",function(){return U(w)},!0);case"put":if(I.fire===Rt&&k.fire===Rt)break;return C._promise("readwrite",function(){return U(w)},!0);case"delete":if(O.fire===Rt)break;return C._promise("readwrite",function(){return U(w)},!0);case"deleteRange":if(O.fire===Rt)break;return C._promise("readwrite",function(){return(function z(j,F,V){return d.query({trans:j,values:!1,query:{index:y,range:F},limit:V}).then(function(H){var K=H.result;return U({type:"delete",keys:K,trans:j}).then(function(W){return 0<W.numFailures?Promise.reject(W.failures[0]):K.length<V?{failures:[],numFailures:0,lastResult:void 0}:z(j,p(p({},F),{lower:K[K.length-1],lowerOpen:!0}),V)})})})(w.trans,w.range,1e4)},!0)}return d.mutate(w);function U(z){var j,F,V,H=Se.trans,K=z.keys||fi(y,z);if(K)return(z=z.type==="add"||z.type==="put"?p(p({},z),{keys:K}):p({},z)).type!=="delete"&&(z.values=A([],z.values)),z.keys&&(z.keys=A([],z.keys)),j=d,V=K,((F=z).type==="add"?Promise.resolve([]):j.getMany({trans:F.trans,keys:V,cache:"immutable"})).then(function(W){var q=K.map(function(re,xe){var Oe,Ie,ve,Pe=W[xe],ke={onerror:null,onsuccess:null};return z.type==="delete"?O.fire.call(ke,re,Pe,H):z.type==="add"||Pe===void 0?(Oe=I.fire.call(ke,re,z.values[xe],H),re==null&&Oe!=null&&(z.keys[xe]=re=Oe,y.outbound||ie(z.values[xe],y.keyPath,re))):(Oe=Ka(Pe,z.values[xe]),(Ie=k.fire.call(ke,Oe,re,Pe,H))&&(ve=z.values[xe],Object.keys(Ie).forEach(function(Te){B(ve,Te)?ve[Te]=Ie[Te]:ie(ve,Te,Ie[Te])}))),ke});return d.mutate(z).then(function(re){for(var xe=re.failures,Oe=re.results,Ie=re.numFailures,re=re.lastResult,ve=0;ve<K.length;++ve){var Pe=(Oe||K)[ve],ke=q[ve];Pe==null?ke.onerror&&ke.onerror(xe[ve]):ke.onsuccess&&ke.onsuccess(z.type==="put"&&W[ve]?z.values[ve]:Pe)}return{failures:xe,results:Oe,numFailures:Ie,lastResult:re}}).catch(function(re){return q.forEach(function(xe){return xe.onerror&&xe.onerror(re)}),Promise.reject(re)})});throw new Error("Keys missing")}}})}})}};function Ml(i,o,d){try{if(!o||o.keys.length<i.length)return null;for(var y=[],w=0,C=0;w<o.keys.length&&C<i.length;++w)gt(o.keys[w],i[C])===0&&(y.push(d?lt(o.values[w]):o.values[w]),++C);return y.length===i.length?y:null}catch{return null}}var na={stack:"dbcore",level:-1,create:function(i){return{table:function(o){var d=i.table(o);return p(p({},d),{getMany:function(y){var w;return y.cache?(w=Ml(y.keys,y.trans._cache,y.cache==="clone"))?Be.resolve(w):d.getMany(y).then(function(C){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?lt(C):C},C}):d.getMany(y)},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),d.mutate(y)}})}}}};function Vi(i,o){return i.trans.mode==="readonly"&&!!i.subscr&&!i.trans.explicit&&i.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function hi(i,o){switch(i){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Qa={stack:"dbcore",level:0,name:"Observability",create:function(i){var o=i.schema.name,d=new Fn(i.MIN_KEY,i.MAX_KEY);return p(p({},i),{transaction:function(y,w,C){if(Se.subscr&&w!=="readonly")throw new qe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Se.querier));return i.transaction(y,w,C)},table:function(y){function w(K){var H,K=K.query;return[H=K.index,new Fn((H=(K=K.range).lower)!=null?H:i.MIN_KEY,(H=K.upper)!=null?H:i.MAX_KEY)]}var C=i.table(y),S=C.schema,O=S.primaryKey,I=S.indexes,k=O.extractKey,U=O.outbound,z=O.autoIncrement&&I.filter(function(V){return V.compound&&V.keyPath.includes(O.keyPath)}),j=p(p({},C),{mutate:function(V){function H(Ve){return Ve="idb://".concat(o,"/").concat(y,"/").concat(Ve),xe[Ve]||(xe[Ve]=new Fn)}var K,W,q,re=V.trans,xe=V.mutatedParts||(V.mutatedParts={}),Oe=H(""),Ie=H(":dels"),ve=V.type,ke=V.type==="deleteRange"?[V.range]:V.type==="delete"?[V.keys]:V.values.length<50?[fi(O,V).filter(function(Ve){return Ve}),V.values]:[],Pe=ke[0],ke=ke[1],Te=V.trans._cache;return R(Pe)?(Oe.addKeys(Pe),(ve=ve==="delete"||Pe.length===ke.length?Ml(Pe,Te):null)||Ie.addKeys(Pe),(ve||ke)&&(K=H,W=ve,q=ke,S.indexes.forEach(function(Ve){var ht=K(Ve.name||"");function _t(pt){return pt!=null?Ve.extractKey(pt):null}function et(pt){Ve.multiEntry&&R(pt)?pt.forEach(function(dn){return ht.addKey(dn)}):ht.addKey(pt)}(W||q).forEach(function(pt,nn){var Ir=W&&_t(W[nn]),nn=q&&_t(q[nn]);gt(Ir,nn)!==0&&(Ir!=null&&et(Ir),nn!=null)&&et(nn)})}))):Pe?(ke={from:(Te=Pe.lower)!=null?Te:i.MIN_KEY,to:(ve=Pe.upper)!=null?ve:i.MAX_KEY},Ie.add(ke),Oe.add(ke)):(Oe.add(d),Ie.add(d),S.indexes.forEach(function(Ve){return H(Ve.name).add(d)})),C.mutate(V).then(function(Ve){return!Pe||V.type!=="add"&&V.type!=="put"||(Oe.addKeys(Ve.results),z&&z.forEach(function(ht){for(var _t=V.values.map(function(Ir){return ht.extractKey(Ir)}),et=ht.keyPath.findIndex(function(Ir){return Ir===O.keyPath}),pt=0,dn=Ve.results.length;pt<dn;++pt)_t[pt][et]=Ve.results[pt];H(ht.name).addKeys(_t)})),re.mutatedParts=$e(re.mutatedParts||{},xe),Ve})}}),F={get:function(V){return[O,new Fn(V.key)]},getMany:function(V){return[O,new Fn().addKeys(V.keys)]},count:w,query:w,openCursor:w};return T(F).forEach(function(V){j[V]=function(H){var K=Se.subscr,W=!!K,q=Vi(Se,C)&&hi(V,H)?H.obsSet={}:K;if(W){var re,K=function(ke){return ke="idb://".concat(o,"/").concat(y,"/").concat(ke),q[ke]||(q[ke]=new Fn)},xe=K(""),Oe=K(":dels"),W=F[V](H),Ie=W[0],W=W[1];if((V==="query"&&Ie.isPrimaryKey&&!H.values?Oe:K(Ie.name||"")).add(W),!Ie.isPrimaryKey){if(V!=="count")return re=V==="query"&&U&&H.values&&C.query(p(p({},H),{values:!1})),C[V].apply(this,arguments).then(function(ke){if(V==="query"){if(U&&H.values)return re.then(function(_t){return _t=_t.result,xe.addKeys(_t),ke});var Te=H.values?ke.result.map(k):ke.result;(H.values?xe:Oe).addKeys(Te)}else{var Ve,ht;if(V==="openCursor")return ht=H.values,(Ve=ke)&&Object.create(Ve,{key:{get:function(){return Oe.addKey(Ve.primaryKey),Ve.key}},primaryKey:{get:function(){var _t=Ve.primaryKey;return Oe.addKey(_t),_t}},value:{get:function(){return ht&&xe.addKey(Ve.primaryKey),Ve.value}}})}return ke});Oe.add(d)}}return C[V].apply(this,arguments)}}),j}})}};function xr(i,o,d){var y;return d.numFailures===0?o:o.type==="deleteRange"||(y=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1,d.numFailures===y)?null:(y=p({},o),R(y.keys)&&(y.keys=y.keys.filter(function(w,C){return!(C in d.failures)})),"values"in y&&R(y.values)&&(y.values=y.values.filter(function(w,C){return!(C in d.failures)})),y)}function xa(i,o){return d=i,((y=o).lower===void 0||(y.lowerOpen?0<gt(d,y.lower):0<=gt(d,y.lower)))&&(d=i,(y=o).upper===void 0||(y.upperOpen?gt(d,y.upper)<0:gt(d,y.upper)<=0));var d,y}function Rr(i,o,d,y,w,C){var S,O,I,k,U,z;return!d||d.length===0||(S=o.query.index,O=S.multiEntry,I=o.query.range,k=y.schema.primaryKey.extractKey,U=S.extractKey,z=(S.lowLevelIndex||S).extractKey,(y=d.reduce(function(j,F){var V=j,H=[];if(F.type==="add"||F.type==="put")for(var K=new Fn,W=F.values.length-1;0<=W;--W){var q,re=F.values[W],xe=k(re);!K.hasKey(xe)&&(q=U(re),O&&R(q)?q.some(function(ke){return xa(ke,I)}):xa(q,I))&&(K.addKey(xe),H.push(re))}switch(F.type){case"add":var Oe=new Fn().addKeys(o.values?j.map(function(Te){return k(Te)}):j),V=j.concat(o.values?H.filter(function(Te){return Te=k(Te),!Oe.hasKey(Te)&&(Oe.addKey(Te),!0)}):H.map(function(Te){return k(Te)}).filter(function(Te){return!Oe.hasKey(Te)&&(Oe.addKey(Te),!0)}));break;case"put":var Ie=new Fn().addKeys(F.values.map(function(Te){return k(Te)}));V=j.filter(function(Te){return!Ie.hasKey(o.values?k(Te):Te)}).concat(o.values?H:H.map(function(Te){return k(Te)}));break;case"delete":var ve=new Fn().addKeys(F.keys);V=j.filter(function(Te){return!ve.hasKey(o.values?k(Te):Te)});break;case"deleteRange":var Pe=F.range;V=j.filter(function(Te){return!xa(k(Te),Pe)})}return V},i))===i)?i:(y.sort(function(j,F){return gt(z(j),z(F))||gt(k(j),k(F))}),o.limit&&o.limit<1/0&&(y.length>o.limit?y.length=o.limit:i.length===o.limit&&y.length<o.limit&&(w.dirty=!0)),C?Object.freeze(y):y)}function ra(i,o){return gt(i.lower,o.lower)===0&&gt(i.upper,o.upper)===0&&!!i.lowerOpen==!!o.lowerOpen&&!!i.upperOpen==!!o.upperOpen}function Yi(i,o){return((d,y,w,C)=>{if(d===void 0)return y!==void 0?-1:0;if(y===void 0)return 1;if((d=gt(d,y))===0){if(w&&C)return 0;if(w)return 1;if(C)return-1}return d})(i.lower,o.lower,i.lowerOpen,o.lowerOpen)<=0&&0<=((d,y,w,C)=>{if(d===void 0)return y!==void 0?1:0;if(y===void 0)return-1;if((d=gt(d,y))===0){if(w&&C)return 0;if(w)return-1;if(C)return 1}return d})(i.upper,o.upper,i.upperOpen,o.upperOpen)}function Rs(i,o,d,y){i.subscribers.add(d),y.addEventListener("abort",function(){var w,C;i.subscribers.delete(d),i.subscribers.size===0&&(w=i,C=o,setTimeout(function(){w.subscribers.size===0&&He(C,w)},3e3))})}var wa={stack:"dbcore",level:0,name:"Cache",create:function(i){var o=i.schema.name;return p(p({},i),{transaction:function(d,y,w){var C,S,O=i.transaction(d,y,w);return y==="readwrite"&&(w=(C=new AbortController).signal,O.addEventListener("abort",(S=function(I){return function(){if(C.abort(),y==="readwrite"){for(var k=new Set,U=0,z=d;U<z.length;U++){var j=z[U],F=Ht["idb://".concat(o,"/").concat(j)];if(F){var V=i.table(j),H=F.optimisticOps.filter(function(Ve){return Ve.trans===O});if(O._explicit&&I&&O.mutatedParts)for(var K=0,W=Object.values(F.queries.query);K<W.length;K++)for(var q=0,re=(Ie=W[K]).slice();q<re.length;q++)Il((ve=re[q]).obsSet,O.mutatedParts)&&(He(Ie,ve),ve.subscribers.forEach(function(Ve){return k.add(Ve)}));else if(0<H.length){F.optimisticOps=F.optimisticOps.filter(function(Ve){return Ve.trans!==O});for(var xe=0,Oe=Object.values(F.queries.query);xe<Oe.length;xe++)for(var Ie,ve,Pe,ke=0,Te=(Ie=Oe[xe]).slice();ke<Te.length;ke++)(ve=Te[ke]).res!=null&&O.mutatedParts&&(I&&!ve.dirty?(Pe=Object.isFrozen(ve.res),Pe=Rr(ve.res,ve.req,H,V,ve,Pe),ve.dirty?(He(Ie,ve),ve.subscribers.forEach(function(Ve){return k.add(Ve)})):Pe!==ve.res&&(ve.res=Pe,ve.promise=Be.resolve({result:Pe}))):(ve.dirty&&He(Ie,ve),ve.subscribers.forEach(function(Ve){return k.add(Ve)})))}}}k.forEach(function(Ve){return Ve()})}}})(!1),{signal:w}),O.addEventListener("error",S(!1),{signal:w}),O.addEventListener("complete",S(!0),{signal:w})),O},table:function(d){var y=i.table(d),w=y.schema.primaryKey;return p(p({},y),{mutate:function(C){var S,O=Se.trans;return!w.outbound&&O.db._options.cache!=="disabled"&&!O.explicit&&O.idbtrans.mode==="readwrite"&&(S=Ht["idb://".concat(o,"/").concat(d)])?(O=y.mutate(C),C.type!=="add"&&C.type!=="put"||!(50<=C.values.length||fi(w,C).some(function(I){return I==null}))?(S.optimisticOps.push(C),C.mutatedParts&&Xa(C.mutatedParts),O.then(function(I){0<I.numFailures&&(He(S.optimisticOps,C),(I=xr(0,C,I))&&S.optimisticOps.push(I),C.mutatedParts)&&Xa(C.mutatedParts)}),O.catch(function(){He(S.optimisticOps,C),C.mutatedParts&&Xa(C.mutatedParts)})):O.then(function(I){var k=xr(0,p(p({},C),{values:C.values.map(function(U,z){var j;return I.failures[z]?U:(ie(j=(j=w.keyPath)!=null&&j.includes(".")?lt(U):p({},U),w.keyPath,I.results[z]),j)})}),I);S.optimisticOps.push(k),queueMicrotask(function(){return C.mutatedParts&&Xa(C.mutatedParts)})}),O):y.mutate(C)},query:function(C){var S,O,I,k,U,z,j;return Vi(Se,y)&&hi("query",C)?(S=((I=Se.trans)==null?void 0:I.db._options.cache)==="immutable",O=(I=Se).requery,I=I.signal,z=((F,V,H,K)=>{var W=Ht["idb://".concat(F,"/").concat(V)];if(!W)return[];if(!(F=W.queries[H]))return[null,!1,W,null];var q=F[(K.query?K.query.index.name:null)||""];if(!q)return[null,!1,W,null];switch(H){case"query":var re=q.find(function(xe){return xe.req.limit===K.limit&&xe.req.values===K.values&&ra(xe.req.query.range,K.query.range)});return re?[re,!0,W,q]:[q.find(function(xe){return("limit"in xe.req?xe.req.limit:1/0)>=K.limit&&(!K.values||xe.req.values)&&Yi(xe.req.query.range,K.query.range)}),!1,W,q];case"count":return re=q.find(function(xe){return ra(xe.req.query.range,K.query.range)}),[re,!!re,W,q]}})(o,d,"query",C),j=z[0],k=z[2],U=z[3],j&&z[1]?j.obsSet=C.obsSet:(z=y.query(C).then(function(F){var V=F.result;if(j&&(j.res=V),S){for(var H=0,K=V.length;H<K;++H)Object.freeze(V[H]);Object.freeze(V)}else F.result=lt(V);return F}).catch(function(F){return U&&j&&He(U,j),Promise.reject(F)}),j={obsSet:C.obsSet,promise:z,subscribers:new Set,type:"query",req:C,dirty:!1},U?U.push(j):(U=[j],(k=k||(Ht["idb://".concat(o,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[C.query.index.name||""]=U)),Rs(j,U,O,I),j.promise.then(function(F){return{result:Rr(F.result,C,k?.optimisticOps,y,j,S)}})):y.query(C)}})}})}};function or(i,o){return new Proxy(i,{get:function(d,y,w){return y==="db"?o:Reflect.get(d,y,w)}})}ln.prototype.version=function(i){if(isNaN(i)||i<.1)throw new qe.Type("Given version is not a positive number");if(i=Math.round(10*i)/10,this.idbdb||this._state.isBeingOpened)throw new qe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,i);var o=this._versions,d=o.filter(function(y){return y._cfg.version===i})[0];return d||(d=new this.Version(i),o.push(d),o.sort(Ol),d.stores({}),this._state.autoSchema=!1),d},ln.prototype._whenReady=function(i){var o=this;return this.idbdb&&(this._state.openComplete||Se.letThrough||this._vip)?i():new Be(function(d,y){if(o._state.openComplete)return y(new qe.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void y(new qe.DatabaseClosed);o.open().catch(Rt)}o._state.dbReadyPromise.then(d,y)}).then(i)},ln.prototype.use=function(w){var o=w.stack,d=w.create,y=w.level,w=w.name,C=(w&&this.unuse({stack:o,name:w}),this._middlewares[o]||(this._middlewares[o]=[]));return C.push({stack:o,create:d,level:y??10,name:w}),C.sort(function(S,O){return S.level-O.level}),this},ln.prototype.unuse=function(i){var o=i.stack,d=i.name,y=i.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(w){return y?w.create!==y:!!d&&w.name!==d})),this},ln.prototype.open=function(){var i=this;return Ur(It,function(){return Wl(i)})},ln.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var i=this._state,o=be.indexOf(this);if(0<=o&&be.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}i.isBeingOpened||(i.dbReadyPromise=new Be(function(d){i.dbReadyResolve=d}),i.openCanceller=new Be(function(d,y){i.cancelOpen=y}))},ln.prototype.close=function(o){var o=(o===void 0?{disableAutoOpen:!0}:o).disableAutoOpen,d=this._state;o?(d.isBeingOpened&&d.cancelOpen(new qe.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new qe.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},ln.prototype.delete=function(i){var o=this,d=(i===void 0&&(i={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),y=this._state;return new Be(function(w,C){function S(){o.close(i);var O=o._deps.indexedDB.deleteDatabase(o.name);O.onsuccess=Pt(function(){var I,k,U;I=o._deps,k=o.name,Ga(U=I.indexedDB)||k===ga||Ya(U,I.IDBKeyRange).delete(k).catch(Rt),w()}),O.onerror=zn(C),O.onblocked=o._fireOnBlocked}if(d)throw new qe.InvalidArgument("Invalid closeOptions argument to db.delete()");y.isBeingOpened?y.dbReadyPromise.then(S):S()})},ln.prototype.backendDB=function(){return this.idbdb},ln.prototype.isOpen=function(){return this.idbdb!==null},ln.prototype.hasBeenClosed=function(){var i=this._state.dbOpenError;return i&&i.name==="DatabaseClosed"},ln.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ln.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ln.prototype,"tables",{get:function(){var i=this;return T(this._allTables).map(function(o){return i._allTables[o]})},enumerable:!1,configurable:!0}),ln.prototype.transaction=function(){var i=(function(o,d,y){var w=arguments.length;if(w<2)throw new qe.InvalidArgument("Too few arguments");for(var C=new Array(w-1);--w;)C[w-1]=arguments[w];return y=C.pop(),[o,vn(C),y]}).apply(this,arguments);return this._transaction.apply(this,i)},ln.prototype._transaction=function(i,o,d){var y,w,C=this,S=Se.trans,O=(S&&S.db===this&&i.indexOf("!")===-1||(S=null),i.indexOf("?")!==-1);i=i.replace("!","").replace("?","");try{if(w=o.map(function(k){if(k=k instanceof C.Table?k.name:k,typeof k!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return k}),i=="r"||i===Yt)y=Yt;else{if(i!="rw"&&i!=mr)throw new qe.InvalidArgument("Invalid transaction mode: "+i);y=mr}if(S){if(S.mode===Yt&&y===mr){if(!O)throw new qe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");S=null}S&&w.forEach(function(k){if(S&&S.storeNames.indexOf(k)===-1){if(!O)throw new qe.SubTransaction("Table "+k+" not included in parent transaction.");S=null}}),O&&S&&!S.active&&(S=null)}}catch(k){return S?S._promise(null,function(U,z){z(k)}):nt(k)}var I=(function k(U,z,j,F,V){return Be.resolve().then(function(){var q=Se.transless||Se,H=U._createTransaction(z,j,U._dbSchema,F),q=(H.explicit=!0,{trans:H,transless:q});if(F)H.idbtrans=F.idbtrans;else try{H.create(),H.idbtrans._explicit=!0,U._state.PR1398_maxLoop=3}catch(re){return re.name===Nt.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return k(U,z,j,null,V)})):nt(re)}var K,W=G(V),q=(W&&Lt(),Be.follow(function(){var re;(K=V.call(H,H))&&(W?(re=kn.bind(null,null),K.then(re,re)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=Hi(K)))},q));return(K&&typeof K.then=="function"?Be.resolve(K).then(function(re){return H.active?re:nt(new qe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return K})).then(function(re){return F&&H._resolve(),H._completion.then(function(){return re})}).catch(function(re){return H._reject(re),nt(re)})})}).bind(null,this,y,w,S,d);return S?S._promise(y,I,"lock"):Se.trans?Ur(Se.transless,function(){return C._whenReady(I)}):this._whenReady(I)},ln.prototype.table=function(i){if(B(this._allTables,i))return this._allTables[i];throw new qe.InvalidTable("Table ".concat(i," does not exist"))};var Kr=ln;function ln(i,o){var d,y,w,C,S,O=this,I=(this._middlewares={},this.verno=0,ln.dependencies),I=(this._options=o=p({addons:ln.addons,autoOpen:!0,indexedDB:I.indexedDB,IDBKeyRange:I.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},o.addons),k=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Rt,dbReadyPromise:null,cancelOpen:Rt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen}),U=(k.dbReadyPromise=new Be(function(z){k.dbReadyResolve=z}),k.openCanceller=new Be(function(z,j){k.cancelOpen=j}),this._state=k,this.name=i,this.on=Yr(this,"populate","blocked","versionchange","close",{ready:[Ai,Rt]}),this.once=function(z,j){var F=function(){for(var V=[],H=0;H<arguments.length;H++)V[H]=arguments[H];O.on(z).unsubscribe(F),j.apply(O,V)};return O.on(z,F)},this.on.ready.subscribe=pe(this.on.ready.subscribe,function(z){return function(j,F){ln.vip(function(){var V,H=O._state;H.openComplete?(H.dbOpenError||Be.resolve().then(j),F&&z(j)):H.onReadyBeingFired?(H.onReadyBeingFired.push(j),F&&z(j)):(z(j),V=O,F||z(function K(){V.on.ready.unsubscribe(j),V.on.ready.unsubscribe(K)}))})}}),this.Collection=(d=this,dt(Sl.prototype,function(K,H){this.db=d;var F=Ut,V=null;if(H)try{F=H()}catch(q){V=q}var H=K._ctx,K=H.table,W=K.hook.reading.fire;this._ctx={table:K,index:H.index,isPrimKey:!H.index||K.schema.primKey.keyPath&&H.index===K.schema.primKey.name,range:F,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:V,or:H.or,valueMapper:W!==At?W:null}})),this.Table=(y=this,dt(Vr.prototype,function(z,j,F){this.db=y,this._tx=F,this.name=z,this.schema=j,this.hook=y._allTables[z]?y._allTables[z].hook:Yr(null,{creating:[Bi,Rt],reading:[Cr,At],updating:[Qt,Rt],deleting:[Vn,Rt]})})),this.Transaction=(w=this,dt(Tl.prototype,function(z,j,F,V,H){var K=this;z!=="readonly"&&j.forEach(function(W){W=(W=F[W])==null?void 0:W.yProps,W&&(j=j.concat(W.map(function(q){return q.updatesTable})))}),this.db=w,this.mode=z,this.storeNames=j,this.schema=F,this.chromeTransactionDurability=V,this.idbtrans=null,this.on=Yr(this,"complete","error","abort"),this.parent=H||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Be(function(W,q){K._resolve=W,K._reject=q}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(W){var q=K.active;return K.active=!1,K.on.error.fire(W),K.parent?K.parent._reject(W):q&&K.idbtrans&&K.idbtrans.abort(),nt(W)})})),this.Version=(C=this,dt(Kn.prototype,function(z){this.db=C,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,dt(hn.prototype,function(z,j,F){if(this.db=S,this._ctx={table:z,index:j===":id"?null:j,or:F},this._cmp=this._ascending=gt,this._descending=function(V,H){return gt(H,V)},this._max=function(V,H){return 0<gt(V,H)?V:H},this._min=function(V,H){return gt(V,H)<0?V:H},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new qe.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(O.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(O.name,"'. Closing db now to resume the delete request.")),O.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(O.name,"') was blocked")):console.warn("Upgrade '".concat(O.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=Xr(o.IDBKeyRange),this._createTransaction=function(z,j,F,V){return new O.Transaction(z,j,F,O._options.chromeTransactionDurability,V)},this._fireOnBlocked=function(z){O.on("blocked").fire(z),be.filter(function(j){return j.name===O.name&&j!==O&&!j._state.vcFired}).map(function(j){return j.on("versionchange").fire(z)})},this.use(na),this.use(wa),this.use(Qa),this.use(Jl),this.use(Za),new Proxy(this,{get:function(z,j,F){var V;return j==="_vip"||(j==="table"?function(H){return or(O.table(H),U)}:(V=Reflect.get(z,j,F))instanceof Vr?or(V,U):j==="tables"?V.map(function(H){return or(H,U)}):j==="_createTransaction"?function(){return or(V.apply(this,arguments),U)}:V)}}));this.vip=U,I.forEach(function(z){return z(O)})}var Zr,xt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ba=(N.prototype.subscribe=function(i,o,d){return this._subscribe(i&&typeof i!="function"?i:{next:i,error:o,complete:d})},N.prototype[xt]=function(){return this},N);function N(i){this._subscribe=i}try{Zr={indexedDB:E.indexedDB||E.mozIndexedDB||E.webkitIndexedDB||E.msIndexedDB,IDBKeyRange:E.IDBKeyRange||E.webkitIDBKeyRange}}catch{Zr={indexedDB:null,IDBKeyRange:null}}function t(i){var o,d=!1,y=new ba(function(w){var C=G(i),S,O=!1,I={},k={},U={get closed(){return O},unsubscribe:function(){O||(O=!0,S&&S.abort(),z&&kt.storagemutated.unsubscribe(F))}},z=(w.start&&w.start(U),!1),j=function(){return An(V)},F=function(H){$e(I,H),Il(k,I)&&j()},V=function(){var H,K,W;!O&&Zr.indexedDB&&(I={},H={},S&&S.abort(),S=new AbortController,W=(q=>{var re=fr();try{C&&Lt();var xe=tn(i,q);return xe=C?xe.finally(kn):xe}finally{re&&hr()}})(K={subscr:H,signal:S.signal,requery:j,querier:i,trans:null}),Promise.resolve(W).then(function(q){d=!0,o=q,O||K.signal.aborted||(I={},(re=>{for(var xe in re)if(B(re,xe))return;return 1})(k=H)||z||(kt(Ji,F),z=!0),An(function(){return!O&&w.next&&w.next(q)}))},function(q){d=!1,["DatabaseClosedError","AbortError"].includes(q?.name)||O||An(function(){O||w.error&&w.error(q)})}))};return setTimeout(j,0),U});return y.hasValue=function(){return d},y.getValue=function(){return o},y}var r=Kr;function a(i){var o=u;try{u=!0,kt.storagemutated.fire(i),Nr(i,!0)}finally{u=o}}ae(r,p(p({},ue),{delete:function(i){return new r(i,{addons:[]}).delete()},exists:function(i){return new r(i,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(i){try{return o=r.dependencies,d=o.indexedDB,o=o.IDBKeyRange,(Ga(d)?Promise.resolve(d.databases()).then(function(y){return y.map(function(w){return w.name}).filter(function(w){return w!==ga})}):Ya(d,o).toCollection().primaryKeys()).then(i)}catch{return nt(new qe.MissingAPI)}var o,d},defineClass:function(){return function(i){D(this,i)}},ignoreTransaction:function(i){return Se.trans?Ur(Se.transless,i):i()},vip:Nl,async:function(i){return function(){try{var o=Hi(i.apply(this,arguments));return o&&typeof o.then=="function"?o:Be.resolve(o)}catch(d){return nt(d)}}},spawn:function(i,o,d){try{var y=Hi(i.apply(d,o||[]));return y&&typeof y.then=="function"?y:Be.resolve(y)}catch(w){return nt(w)}},currentTransaction:{get:function(){return Se.trans||null}},waitFor:function(i,o){return i=Be.resolve(typeof i=="function"?r.ignoreTransaction(i):i).timeout(o||6e4),Se.trans?Se.trans.waitFor(i):i},Promise:Be,debug:{get:function(){return ze},set:function(i){fa(i)}},derive:J,extend:D,props:ae,override:pe,Events:Yr,on:kt,liveQuery:t,extendObservabilitySet:$e,getByKeyPath:Ye,setByKeyPath:ie,delByKeyPath:function(i,o){typeof o=="string"?ie(i,o,void 0):"length"in o&&[].map.call(o,function(d){ie(i,d,void 0)})},shallowClone:Je,deepClone:lt,getObjectDiff:Ka,cmp:gt,asap:at,minKey:-1/0,addons:[],connections:be,errnames:Nt,dependencies:Zr,cache:Ht,semVer:"4.3.0",version:"4.3.0".split(".").map(function(i){return parseInt(i)}).reduce(function(i,o,d){return i+o/Math.pow(10,2*d)})})),r.maxKey=Xr(r.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kt(Ji,function(i){u||(i=new CustomEvent(st,{detail:i}),u=!0,dispatchEvent(i),u=!1)}),addEventListener(st,function(i){i=i.detail,u||a(i)}));var s,u=!1,f=function(){};return typeof BroadcastChannel<"u"&&((f=function(){(s=new BroadcastChannel(st)).onmessage=function(i){return i.data&&a(i.data)}})(),typeof s.unref=="function"&&s.unref(),kt(Ji,function(i){u||s.postMessage(i)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(i){if(!Kr.disableBfCache&&i.persisted){ze&&console.debug("Dexie: handling persisted pagehide"),s?.close();for(var o=0,d=be;o<d.length;o++)d[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(i){!Kr.disableBfCache&&i.persisted&&(ze&&console.debug("Dexie: handling persisted pageshow"),f(),a({all:new Fn(-1/0,[[]])}))})),Be.rejectionMapper=function(i,o){return!i||i instanceof Me||i instanceof TypeError||i instanceof SyntaxError||!i.name||!Ln[i.name]?i:(o=new Ln[i.name](o||i.message,i),"stack"in i&&$(o,"stack",{get:function(){return this.inner.stack}}),o)},fa(ze),p(Kr,Object.freeze({__proto__:null,Dexie:Kr,Entity:vt,PropModification:pr,RangeSet:Fn,add:function(i){return new pr({add:i})},cmp:gt,default:Kr,liveQuery:t,mergeRanges:oi,rangesOverlap:wn,remove:function(i){return new pr({remove:i})},replacePrefix:function(i,o){return new pr({replacePrefix:[i,o]})}}),{default:Kr}),Kr})})(Ou)),Ou.exports}var dy=hy();const Gf=ug(dy),Od=Symbol.for("Dexie"),Ss=globalThis[Od]||(globalThis[Od]=Gf);if(Gf.semVer!==Ss.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Gf.semVer} and ${Ss.semVer}`);const{liveQuery:aw,mergeRanges:lw,rangesOverlap:sw,RangeSet:ow,cmp:uw,Entity:cw,PropModification:fw,replacePrefix:hw,add:dw,remove:gw,DexieYProvider:mw}=Ss,Fu=new Ss("LibraryDatabase");Fu.version(1).stores({books:"++id, isbn, title, authors, dateAdded"});const gy=async h=>await Fu.books.add({...h,dateAdded:new Date().toISOString()}),my=async()=>await Fu.books.orderBy("dateAdded").reverse().toArray(),py=async h=>await Fu.books.delete(h);const Rg=(...h)=>h.filter((g,m,p)=>!!g&&g.trim()!==""&&p.indexOf(g)===m).join(" ").trim();const yy=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const xy=h=>h.replace(/^([A-Z])|[\s-_]+(\w)/g,(g,m,p)=>p?p.toUpperCase():m.toLowerCase());const Nd=h=>{const g=xy(h);return g.charAt(0).toUpperCase()+g.slice(1)};var wy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const by=h=>{for(const g in h)if(g.startsWith("aria-")||g==="role"||g==="title")return!0;return!1};const Ey=de.forwardRef(({color:h="currentColor",size:g=24,strokeWidth:m=2,absoluteStrokeWidth:p,className:A="",children:E,iconNode:T,...R},D)=>de.createElement("svg",{ref:D,...wy,width:g,height:g,stroke:h,strokeWidth:p?Number(m)*24/Number(g):m,className:Rg("lucide",A),...!E&&!by(R)&&{"aria-hidden":"true"},...R},[...T.map(([v,M])=>de.createElement(v,M)),...Array.isArray(E)?E:[E]]));const Al=(h,g)=>{const m=de.forwardRef(({className:p,...A},E)=>de.createElement(Ey,{ref:E,iconNode:g,className:Rg(`lucide-${yy(Nd(h))}`,`lucide-${h}`,p),...A}));return m.displayName=Nd(h),m};const Ay=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ig=Al("book-open",Ay);const Cy=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Rd=Al("book",Cy);const vy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sy=Al("check",vy);const Ty=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_y=Al("download",Ty);const Oy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ny=Al("plus",Oy);const Ry=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Iy=Al("search",Ry);const My=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dy=Al("trash-2",My);const By=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mg=Al("x",By);function Ly(h,g,m){var p,A;typeof h=="function"?(p=g||[],A=m):(p=[],A=g);var E=co.useRef({hasResult:!1,result:A,error:null}),T=co.useReducer(function(v){return v+1},0);T[0];var R=T[1],D=co.useMemo(function(){var v=typeof h=="function"?h():h;if(!v||typeof v.subscribe!="function")throw h===v?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!E.current.hasResult&&typeof window<"u"&&(typeof v.hasValue!="function"||v.hasValue()))if(typeof v.getValue=="function")E.current.result=v.getValue(),E.current.hasResult=!0;else{var M=v.subscribe(function(B){E.current.result=B,E.current.hasResult=!0});typeof M=="function"?M():M.unsubscribe()}return v},p);if(co.useDebugValue(E.current.result),co.useEffect(function(){var v=D.subscribe(function(M){var B=E.current;(B.error!==null||B.result!==M)&&(B.error=null,B.result=M,B.hasResult=!0,R())},function(M){var B=E.current;B.error!==M&&(B.error=M,R())});return typeof v=="function"?v:v.unsubscribe.bind(v)},p),E.current.error)throw E.current.error;return E.current.result}function Uy(h,g,m){return Ly(function(){return Ss.liveQuery(h)},[],m)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(h){var g=Ss.DexieYProvider;g&&g.release(h)});const ky=()=>{const h=ku(),g=Uy(()=>my())||[],[m,p]=de.useState(""),A=g.filter(R=>R.title.toLowerCase().includes(m.toLowerCase())||R.authors&&R.authors.some(D=>D.toLowerCase().includes(m.toLowerCase()))||R.isbn.includes(m)),E=()=>{if(g.length===0)return;const D=[["ISBN","Title","Authors","Description","Page Count","Published Date","Date Added"].join(","),...g.map(ae=>[`"${ae.isbn}"`,`"${ae.title.replace(/"/g,'""')}"`,`"${ae.authors.join("; ")}"`,`"${(ae.description||"").replace(/"/g,'""')}"`,ae.pageCount,ae.publishedDate,ae.dateAdded].join(","))].join(`
`),v=new Blob([D],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),B=URL.createObjectURL(v);M.setAttribute("href",B),M.setAttribute("download","library_export.csv"),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M)},T=async R=>{R&&confirm("Are you sure you want to delete this book?")&&await py(R)};return Le.jsxs("div",{className:"pb-20",children:[Le.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 sticky top-20 z-30 bg-gray-50/95 p-2 -mx-2 backdrop-blur-sm rounded-xl",children:[Le.jsxs("div",{className:"relative flex-1",children:[Le.jsx(Iy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),Le.jsx("input",{type:"text",placeholder:"Search your library...",value:m,onChange:R=>p(R.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border-none shadow-sm ring-1 ring-gray-200 focus:ring-2 focus:ring-indigo-500 bg-white"})]}),Le.jsxs("button",{onClick:E,disabled:g.length===0,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-indigo-600 font-medium rounded-xl shadow-sm ring-1 ring-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[Le.jsx(_y,{size:20}),"Export CSV"]})]}),Le.jsx("div",{className:"space-y-4",children:A.length===0?Le.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[Le.jsx("div",{className:"w-20 h-20 bg-indigo-50 rounded-full flex items-center justify-center mb-4",children:Le.jsx(Rd,{size:40,className:"text-indigo-400"})}),Le.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your library is empty"}),Le.jsx("p",{className:"text-gray-500 max-w-xs mt-2",children:"Tap the + button below to start scanning books and build your collection."})]}):A.map(R=>Le.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex gap-4 hover:shadow-md transition-shadow group",children:[Le.jsx("div",{className:"w-20 h-28 bg-gray-100 rounded-lg flex-shrink-0 overflow-hidden shadow-inner",children:R.thumbnail?Le.jsx("img",{src:R.thumbnail,alt:R.title,className:"w-full h-full object-cover"}):Le.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:Le.jsx(Rd,{size:24})})}),Le.jsxs("div",{className:"flex-1 min-w-0",children:[Le.jsx("h3",{className:"font-bold text-gray-900 leading-tight mb-1 truncate",children:R.title}),Le.jsx("p",{className:"text-gray-600 text-sm mb-2",children:R.authors.join(", ")}),Le.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[Le.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-md font-mono",children:R.isbn}),Le.jsx("span",{className:"text-xs text-gray-400",children:new Date(R.dateAdded).toLocaleDateString()})]})]}),Le.jsx("button",{onClick:()=>T(R.id),className:"self-start p-2 text-gray-300 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors opacity-0 group-hover:opacity-100 sm:opacity-100",children:Le.jsx(Dy,{size:20})})]},R.id))}),Le.jsx("button",{onClick:()=>h("/scan"),className:"fixed bottom-6 right-6 w-16 h-16 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-300 flex items-center justify-center hover:bg-indigo-700 hover:scale-105 active:scale-95 transition-all z-40",children:Le.jsx(Ny,{size:32,strokeWidth:2.5})})]})};var Xe;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var Id=new Map([[Xe.QR_CODE,"QR_CODE"],[Xe.AZTEC,"AZTEC"],[Xe.CODABAR,"CODABAR"],[Xe.CODE_39,"CODE_39"],[Xe.CODE_93,"CODE_93"],[Xe.CODE_128,"CODE_128"],[Xe.DATA_MATRIX,"DATA_MATRIX"],[Xe.MAXICODE,"MAXICODE"],[Xe.ITF,"ITF"],[Xe.EAN_13,"EAN_13"],[Xe.EAN_8,"EAN_8"],[Xe.PDF_417,"PDF_417"],[Xe.RSS_14,"RSS_14"],[Xe.RSS_EXPANDED,"RSS_EXPANDED"],[Xe.UPC_A,"UPC_A"],[Xe.UPC_E,"UPC_E"],[Xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Md;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(Md||(Md={}));function zy(h){return Object.values(Xe).includes(h)}var El;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(El||(El={}));var qi=(function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[El.SCAN_TYPE_CAMERA,El.SCAN_TYPE_FILE],h})(),Dg=(function(){function h(g,m){this.format=g,this.formatName=m}return h.prototype.toString=function(){return this.formatName},h.create=function(g){if(!Id.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new h(g,Id.get(g))},h})(),Dd=(function(){function h(){}return h.createFromText=function(g){var m={text:g};return{decodedText:g,result:m}},h.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},h})(),Xf;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Xf||(Xf={}));var Bg=(function(){function h(){}return h.createFrom=function(g){return{errorMessage:g,type:Xf.UNKWOWN_ERROR}},h})(),Lg=(function(){function h(g){this.verbose=g}return h.prototype.log=function(g){this.verbose&&console.log(g)},h.prototype.warn=function(g){this.verbose&&console.warn(g)},h.prototype.logError=function(g,m){(this.verbose||m===!0)&&console.error(g)},h.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},h})();function ua(h){return typeof h>"u"||h===null}function Fy(h,g,m){return h>m?m:h<g?g:h}var vs=(function(){function h(){}return h.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},h.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h})(),un=(function(){function h(){}return h.scanningStatus=function(){return"Scanning"},h.idleStatus=function(){return"Idle"},h.errorStatus=function(){return"Error"},h.permissionStatus=function(){return"Permission"},h.noCameraFoundErrorStatus=function(){return"No Cameras"},h.lastMatch=function(g){return"Last Match: ".concat(g)},h.codeScannerTitle=function(){return"Code Scanner"},h.cameraPermissionTitle=function(){return"Request Camera Permissions"},h.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},h.noCameraFound=function(){return"No camera found"},h.scanButtonStopScanningText=function(){return"Stop Scanning"},h.scanButtonStartScanningText=function(){return"Start Scanning"},h.torchOnButton=function(){return"Switch On Torch"},h.torchOffButton=function(){return"Switch Off Torch"},h.torchOnFailedMessage=function(){return"Failed to turn on torch"},h.torchOffFailedMessage=function(){return"Failed to turn off torch"},h.scanButtonScanningStarting=function(){return"Launching Camera..."},h.textIfCameraScanSelected=function(){return"Scan an Image File"},h.textIfFileScanSelected=function(){return"Scan using camera directly"},h.selectCamera=function(){return"Select Camera"},h.fileSelectionChooseImage=function(){return"Choose Image"},h.fileSelectionChooseAnother=function(){return"Choose Another"},h.fileSelectionNoImageSelected=function(){return"No image choosen"},h.anonymousCameraPrefix=function(){return"Anonymous Camera"},h.dragAndDropMessage=function(){return"Or drop an image to scan"},h.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},h.zoom=function(){return"zoom"},h.loadingImage=function(){return"Loading image..."},h.cameraScanAltText=function(){return"Camera based scan"},h.fileScanAltText=function(){return"Fule based scan"},h})(),Bd=(function(){function h(){}return h.poweredBy=function(){return"Powered by "},h.reportIssues=function(){return"Report issues"},h})(),Ug=(function(){function h(){}return h.isMediaStreamConstraintsValid=function(g,m){if(typeof g!="object"){var p=typeof g;return m.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(p,"."),!0),!1}for(var A=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],E=new Set(A),T=Object.keys(g),R=0,D=T;R<D.length;R++){var v=D[R];if(E.has(v))return m.logError("".concat(v," is not supported videoConstaints."),!0),!1}return!0},h})(),po={exports:{}},Py=po.exports,Ld;function jy(){return Ld||(Ld=1,(function(h,g){(function(m,p){p(g)})(Py,(function(m){function p(N){return N==null}var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,t){N.__proto__=t}||function(N,t){for(var r in t)t.hasOwnProperty(r)&&(N[r]=t[r])};function E(N,t){A(N,t);function r(){this.constructor=N}N.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function T(N,t){var r=Object.setPrototypeOf;r?r(N,t):N.__proto__=t}function R(N,t){t===void 0&&(t=N.constructor);var r=Error.captureStackTrace;r&&r(N,t)}var D=(function(N){E(t,N);function t(r){var a=this.constructor,s=N.call(this,r)||this;return Object.defineProperty(s,"name",{value:a.name,enumerable:!1}),T(s,a.prototype),R(s),s}return t})(Error);class v extends D{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}v.kind="Exception";class M extends v{}M.kind="ArgumentException";class B extends v{}B.kind="IllegalArgumentException";class ae{constructor(t){if(this.binarizer=t,t===null)throw new B("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,s){const u=this.binarizer.getLuminanceSource().crop(t,r,a,s);return new ae(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ae(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ae(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class me extends v{static getChecksumInstance(){return new me}}me.kind="ChecksumException";class ${constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(t,r,a,s,u){for(;u--;)a[s++]=t[r++]}static currentTimeMillis(){return Date.now()}}class le extends v{}le.kind="IndexOutOfBoundsException";class Re extends le{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}Re.kind="ArrayIndexOutOfBoundsException";class Ae{static fill(t,r){for(let a=0,s=t.length;a<s;a++)t[a]=r}static fillWithin(t,r,a,s){Ae.rangeCheck(t.length,r,a);for(let u=r;u<a;u++)t[u]=s}static rangeCheck(t,r,a){if(r>a)throw new B("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new Re(r);if(a>t)throw new Re(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(u=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(u=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,s=t.length;a<s;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const s=a-r,u=new Int32Array(s);return J.arraycopy(t,r,u,0,s),u}static binarySearch(t,r,a){a===void 0&&(a=Ae.numberComparator);let s=0,u=t.length-1;for(;s<=u;){const f=u+s>>1,i=a(r,t[f]);if(i>0)s=f+1;else if(i<0)u=f-1;else return f}return-s-1}static numberComparator(t,r){return t-r}}class pe{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}pe.MIN_VALUE_32_BITS=-2147483648,pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=Ue.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=Ue.makeArray(t);J.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let s=Math.floor(t/32),u=a[s];u&=~((1<<(t&31))-1);const f=a.length;for(;u===0;){if(++s===f)return r;u=a[s]}const i=s*32+pe.numberOfTrailingZeros(u);return i>r?r:i}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let s=Math.floor(t/32),u=~a[s];u&=~((1<<(t&31))-1);const f=a.length;for(;u===0;){if(++s===f)return r;u=~a[s]}const i=s*32+pe.numberOfTrailingZeros(u);return i>r?r:i}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new B;if(r===t)return;r--;const a=Math.floor(t/32),s=Math.floor(r/32),u=this.bits;for(let f=a;f<=s;f++){const i=f>a?0:t&31,d=(2<<(f<s?31:r&31))-(1<<i);u[f]|=d}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new B;if(r===t)return!0;r--;const s=Math.floor(t/32),u=Math.floor(r/32),f=this.bits;for(let i=s;i<=u;i++){const o=i>s?0:t&31,y=(2<<(i<u?31:r&31))-(1<<o)&4294967295;if((f[i]&y)!==(a?y:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new B("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new B("Sizes don't match");const r=this.bits;for(let a=0,s=r.length;a<s;a++)r[a]^=t.bits[a]}toBytes(t,r,a,s){for(let u=0;u<s;u++){let f=0;for(let i=0;i<8;i++)this.get(t)&&(f|=1<<7-i),t++;r[a+u]=f}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,s=this.bits;for(let u=0;u<a;u++){let f=s[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,t[r-u]=f}if(this.size!==a*32){const u=a*32-this.size;let f=t[0]>>>u;for(let i=1;i<a;i++){const o=t[i];f|=o<<32-u,t[i-1]=f,f=o>>>u}t[a-1]=f}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.size===r.size&&Ae.equals(this.bits,r.bits)}hashCode(){return 31*this.size+Ae.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new Ue(this.size,this.bits.slice())}}var at;(function(N){N[N.OTHER=0]="OTHER",N[N.PURE_BARCODE=1]="PURE_BARCODE",N[N.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",N[N.TRY_HARDER=3]="TRY_HARDER",N[N.CHARACTER_SET=4]="CHARACTER_SET",N[N.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",N[N.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",N[N.ASSUME_GS1=7]="ASSUME_GS1",N[N.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",N[N.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",N[N.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(at||(at={}));var Ye=at;class ie extends v{static getFormatInstance(){return new ie}}ie.kind="FormatException";var Je;(function(N){N[N.Cp437=0]="Cp437",N[N.ISO8859_1=1]="ISO8859_1",N[N.ISO8859_2=2]="ISO8859_2",N[N.ISO8859_3=3]="ISO8859_3",N[N.ISO8859_4=4]="ISO8859_4",N[N.ISO8859_5=5]="ISO8859_5",N[N.ISO8859_6=6]="ISO8859_6",N[N.ISO8859_7=7]="ISO8859_7",N[N.ISO8859_8=8]="ISO8859_8",N[N.ISO8859_9=9]="ISO8859_9",N[N.ISO8859_10=10]="ISO8859_10",N[N.ISO8859_11=11]="ISO8859_11",N[N.ISO8859_13=12]="ISO8859_13",N[N.ISO8859_14=13]="ISO8859_14",N[N.ISO8859_15=14]="ISO8859_15",N[N.ISO8859_16=15]="ISO8859_16",N[N.SJIS=16]="SJIS",N[N.Cp1250=17]="Cp1250",N[N.Cp1251=18]="Cp1251",N[N.Cp1252=19]="Cp1252",N[N.Cp1256=20]="Cp1256",N[N.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",N[N.UTF8=22]="UTF8",N[N.ASCII=23]="ASCII",N[N.Big5=24]="Big5",N[N.GB18030=25]="GB18030",N[N.EUC_KR=26]="EUC_KR"})(Je||(Je={}));class Ce{constructor(t,r,a,...s){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,Ce.VALUE_IDENTIFIER_TO_ECI.set(t,this),Ce.NAME_TO_ECI.set(a,this);const u=this.values;for(let f=0,i=u.length;f!==i;f++){const o=u[f];Ce.VALUES_TO_ECI.set(o,this)}for(const f of s)Ce.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new ie("incorect value");const r=Ce.VALUES_TO_ECI.get(t);if(r===void 0)throw new ie("incorect value");return r}static getCharacterSetECIByName(t){const r=Ce.NAME_TO_ECI.get(t);if(r===void 0)throw new ie("incorect value");return r}equals(t){if(!(t instanceof Ce))return!1;const r=t;return this.getName()===r.getName()}}Ce.VALUE_IDENTIFIER_TO_ECI=new Map,Ce.VALUES_TO_ECI=new Map,Ce.NAME_TO_ECI=new Map,Ce.Cp437=new Ce(Je.Cp437,Int32Array.from([0,2]),"Cp437"),Ce.ISO8859_1=new Ce(Je.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Ce.ISO8859_2=new Ce(Je.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Ce.ISO8859_3=new Ce(Je.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Ce.ISO8859_4=new Ce(Je.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Ce.ISO8859_5=new Ce(Je.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Ce.ISO8859_6=new Ce(Je.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Ce.ISO8859_7=new Ce(Je.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Ce.ISO8859_8=new Ce(Je.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Ce.ISO8859_9=new Ce(Je.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Ce.ISO8859_10=new Ce(Je.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Ce.ISO8859_11=new Ce(Je.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Ce.ISO8859_13=new Ce(Je.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Ce.ISO8859_14=new Ce(Je.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Ce.ISO8859_15=new Ce(Je.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Ce.ISO8859_16=new Ce(Je.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Ce.SJIS=new Ce(Je.SJIS,20,"SJIS","Shift_JIS"),Ce.Cp1250=new Ce(Je.Cp1250,21,"Cp1250","windows-1250"),Ce.Cp1251=new Ce(Je.Cp1251,22,"Cp1251","windows-1251"),Ce.Cp1252=new Ce(Je.Cp1252,23,"Cp1252","windows-1252"),Ce.Cp1256=new Ce(Je.Cp1256,24,"Cp1256","windows-1256"),Ce.UnicodeBigUnmarked=new Ce(Je.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Ce.UTF8=new Ce(Je.UTF8,26,"UTF8","UTF-8"),Ce.ASCII=new Ce(Je.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Ce.Big5=new Ce(Je.Big5,28,"Big5"),Ce.GB18030=new Ce(Je.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Ce.EUC_KR=new Ce(Je.EUC_KR,30,"EUC_KR","EUC-KR");class vn extends v{}vn.kind="UnsupportedOperationException";class Zt{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Zt.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof Ce?t:Ce.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(Zt.isDecodeFallbackSupported(a)){let s="";for(let u=0,f=t.length;u<f;u++){let i=t[u].toString(16);i.length<2&&(i="0"+i),s+="%"+i}return decodeURIComponent(s)}if(a.equals(Ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new vn(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(Ce.UTF8)||t.equals(Ce.ISO8859_1)||t.equals(Ce.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let u=0;u<a.length;u++)s.push(a[u].charCodeAt(0));return new Uint8Array(s)}}class je{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return Zt.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(Ye.CHARACTER_SET)!==void 0)return r.get(Ye.CHARACTER_SET).toString();const a=t.length;let s=!0,u=!0,f=!0,i=0,o=0,d=0,y=0,w=0,C=0,S=0,O=0,I=0,k=0,U=0;const z=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let j=0;j<a&&(s||u||f);j++){const F=t[j]&255;f&&(i>0?(F&128)===0?f=!1:i--:(F&128)!==0&&((F&64)===0?f=!1:(i++,(F&32)===0?o++:(i++,(F&16)===0?d++:(i++,(F&8)===0?y++:f=!1))))),s&&(F>127&&F<160?s=!1:F>159&&(F<192||F===215||F===247)&&U++),u&&(w>0?F<64||F===127||F>252?u=!1:w--:F===128||F===160||F>239?u=!1:F>160&&F<224?(C++,O=0,S++,S>I&&(I=S)):F>127?(w++,S=0,O++,O>k&&(k=O)):(S=0,O=0))}return f&&i>0&&(f=!1),u&&w>0&&(u=!1),f&&(z||o+d+y>0)?je.UTF8:u&&(je.ASSUME_SHIFT_JIS||I>=3||k>=3)?je.SHIFT_JIS:s&&u?I===2&&C===2||U*10>=a?je.SHIFT_JIS:je.ISO88591:s?je.ISO88591:u?je.SHIFT_JIS:f?je.UTF8:je.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function s(f,i,o,d,y,w){if(f==="%%")return"%";if(r[++a]===void 0)return;f=d?parseInt(d.substr(1)):void 0;let C=y?parseInt(y.substr(1)):void 0,S;switch(w){case"s":S=r[a];break;case"c":S=r[a][0];break;case"f":S=parseFloat(r[a]).toFixed(f);break;case"p":S=parseFloat(r[a]).toPrecision(f);break;case"e":S=parseFloat(r[a]).toExponential(f);break;case"x":S=parseInt(r[a]).toString(C||16);break;case"d":S=parseFloat(parseInt(r[a],C||10).toPrecision(f)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(C);let O=parseInt(o),I=o&&o[0]+""=="0"?"0":" ";for(;S.length<O;)S=i!==void 0?S+I:I+S;return S}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,s)}static getBytes(t,r){return Zt.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}je.SHIFT_JIS=Ce.SJIS.getName(),je.GB2312="GB2312",je.ISO88591=Ce.ISO8859_1.getName(),je.EUC_JP="EUC_JP",je.UTF8=Ce.UTF8.getName(),je.PLATFORM_DEFAULT_ENCODING=je.UTF8,je.ASSUME_SHIFT_JIS=!1;class lt{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=je.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let s=r;r<r+a;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ot{constructor(t,r,a,s){if(this.width=t,this.height=r,this.rowSize=a,this.bits=s,r==null&&(r=t),this.height=r,t<1||r<1)throw new B("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,s=new Ot(a,r);for(let u=0;u<r;u++){const f=t[u];for(let i=0;i<a;i++)f[i]&&s.set(i,u)}return s}static parseFromString(t,r,a){if(t===null)throw new B("stringRepresentation cannot be null");const s=new Array(t.length);let u=0,f=0,i=-1,o=0,d=0;for(;d<t.length;)if(t.charAt(d)===`
`||t.charAt(d)==="\r"){if(u>f){if(i===-1)i=u-f;else if(u-f!==i)throw new B("row lengths do not match");f=u,o++}d++}else if(t.substring(d,d+r.length)===r)d+=r.length,s[u]=!0,u++;else if(t.substring(d,d+a.length)===a)d+=a.length,s[u]=!1,u++;else throw new B("illegal character encountered: "+t.substring(d));if(u>f){if(i===-1)i=u-f;else if(u-f!==i)throw new B("row lengths do not match");o++}const y=new Ot(i,o);for(let w=0;w<u;w++)s[w]&&y.set(Math.floor(w%i),Math.floor(w/i));return y}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new B("input matrix dimensions do not match");const r=new Ue(Math.floor(this.width/32)+1),a=this.rowSize,s=this.bits;for(let u=0,f=this.height;u<f;u++){const i=u*a,o=t.getRow(u,r).getBitArray();for(let d=0;d<a;d++)s[i+d]^=o[d]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,s){if(r<0||t<0)throw new B("Left and top must be nonnegative");if(s<1||a<1)throw new B("Height and width must be at least 1");const u=t+a,f=r+s;if(f>this.height||u>this.width)throw new B("The region must fit inside the matrix");const i=this.rowSize,o=this.bits;for(let d=r;d<f;d++){const y=d*i;for(let w=t;w<u;w++)o[y+Math.floor(w/32)]|=1<<(w&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new Ue(this.width):r.clear();const a=this.rowSize,s=this.bits,u=t*a;for(let f=0;f<a;f++)r.setBulk(f*32,s[u+f]);return r}setRow(t,r){J.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new Ue(t),s=new Ue(t);for(let u=0,f=Math.floor((r+1)/2);u<f;u++)a=this.getRow(u,a),s=this.getRow(r-1-u,s),a.reverse(),s.reverse(),this.setRow(u,s),this.setRow(r-1-u,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,s=this.bits;let u=t,f=r,i=-1,o=-1;for(let d=0;d<r;d++)for(let y=0;y<a;y++){const w=s[d*a+y];if(w!==0){if(d<f&&(f=d),d>o&&(o=d),y*32<u){let C=0;for(;(w<<31-C&4294967295)===0;)C++;y*32+C<u&&(u=y*32+C)}if(y*32+31>i){let C=31;for(;!(w>>>C);)C--;y*32+C>i&&(i=y*32+C)}}}return i<u||o<f?null:Int32Array.from([u,f,i-u+1,o-f+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const s=a/t;let u=a%t*32;const f=r[a];let i=0;for(;(f<<31-i&4294967295)===0;)i++;return u+=i,Int32Array.from([u,s])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const s=Math.floor(a/t);let u=Math.floor(a%t)*32;const f=r[a];let i=31;for(;!(f>>>i);)i--;return u+=i,Int32Array.from([u,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ot))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ae.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Ae.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let s=new lt;for(let u=0,f=this.height;u<f;u++){for(let i=0,o=this.width;i<o;i++)s.append(this.get(i,u)?t:r);s.append(a)}return s.toString()}clone(){return new Ot(this.width,this.height,this.rowSize,this.bits.slice())}}class ce extends v{static getNotFoundInstance(){return new ce}}ce.kind="NotFoundException";class ee extends ${constructor(t){super(t),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),s=a.getWidth();r==null||r.getSize()<s?r=new Ue(s):r.clear(),this.initArrays(s);const u=a.getRow(t,this.luminances),f=this.buckets;for(let o=0;o<s;o++)f[(u[o]&255)>>ee.LUMINANCE_SHIFT]++;const i=ee.estimateBlackPoint(f);if(s<3)for(let o=0;o<s;o++)(u[o]&255)<i&&r.set(o);else{let o=u[0]&255,d=u[1]&255;for(let y=1;y<s-1;y++){const w=u[y+1]&255;(d*4-o-w)/2<i&&r.set(y),o=d,d=w}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),s=new Ot(r,a);this.initArrays(r);const u=this.buckets;for(let o=1;o<5;o++){const d=Math.floor(a*o/5),y=t.getRow(d,this.luminances),w=Math.floor(r*4/5);for(let C=Math.floor(r/5);C<w;C++){const S=y[C]&255;u[S>>ee.LUMINANCE_SHIFT]++}}const f=ee.estimateBlackPoint(u),i=t.getMatrix();for(let o=0;o<a;o++){const d=o*r;for(let y=0;y<r;y++)(i[d+y]&255)<f&&s.set(y,o)}return s}createBinarizer(t){return new ee(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<ee.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,s=0,u=0;for(let y=0;y<r;y++)t[y]>u&&(s=y,u=t[y]),t[y]>a&&(a=t[y]);let f=0,i=0;for(let y=0;y<r;y++){const w=y-s,C=t[y]*w*w;C>i&&(f=y,i=C)}if(s>f){const y=s;s=f,f=y}if(f-s<=r/16)throw new ce;let o=f-1,d=-1;for(let y=f-1;y>s;y--){const w=y-s,C=w*w*(f-y)*(a-t[y]);C>d&&(o=y,d=C)}return o<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class ye extends ee{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=ye.MINIMUM_DIMENSION&&a>=ye.MINIMUM_DIMENSION){const s=t.getMatrix();let u=r>>ye.BLOCK_SIZE_POWER;(r&ye.BLOCK_SIZE_MASK)!==0&&u++;let f=a>>ye.BLOCK_SIZE_POWER;(a&ye.BLOCK_SIZE_MASK)!==0&&f++;const i=ye.calculateBlackPoints(s,u,f,r,a),o=new Ot(r,a);ye.calculateThresholdForBlock(s,u,f,r,a,i,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ye(t)}static calculateThresholdForBlock(t,r,a,s,u,f,i){const o=u-ye.BLOCK_SIZE,d=s-ye.BLOCK_SIZE;for(let y=0;y<a;y++){let w=y<<ye.BLOCK_SIZE_POWER;w>o&&(w=o);const C=ye.cap(y,2,a-3);for(let S=0;S<r;S++){let O=S<<ye.BLOCK_SIZE_POWER;O>d&&(O=d);const I=ye.cap(S,2,r-3);let k=0;for(let z=-2;z<=2;z++){const j=f[C+z];k+=j[I-2]+j[I-1]+j[I]+j[I+1]+j[I+2]}const U=k/25;ye.thresholdBlock(t,O,w,U,s,i)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,s,u,f){for(let i=0,o=a*u+r;i<ye.BLOCK_SIZE;i++,o+=u)for(let d=0;d<ye.BLOCK_SIZE;d++)(t[o+d]&255)<=s&&f.set(r+d,a+i)}static calculateBlackPoints(t,r,a,s,u){const f=u-ye.BLOCK_SIZE,i=s-ye.BLOCK_SIZE,o=new Array(a);for(let d=0;d<a;d++){o[d]=new Int32Array(r);let y=d<<ye.BLOCK_SIZE_POWER;y>f&&(y=f);for(let w=0;w<r;w++){let C=w<<ye.BLOCK_SIZE_POWER;C>i&&(C=i);let S=0,O=255,I=0;for(let U=0,z=y*s+C;U<ye.BLOCK_SIZE;U++,z+=s){for(let j=0;j<ye.BLOCK_SIZE;j++){const F=t[z+j]&255;S+=F,F<O&&(O=F),F>I&&(I=F)}if(I-O>ye.MIN_DYNAMIC_RANGE)for(U++,z+=s;U<ye.BLOCK_SIZE;U++,z+=s)for(let j=0;j<ye.BLOCK_SIZE;j++)S+=t[z+j]&255}let k=S>>ye.BLOCK_SIZE_POWER*2;if(I-O<=ye.MIN_DYNAMIC_RANGE&&(k=O/2,d>0&&w>0)){const U=(o[d-1][w]+2*o[d][w-1]+o[d-1][w-1])/4;O<U&&(k=U)}o[d][w]=k}}return o}}ye.BLOCK_SIZE_POWER=3,ye.BLOCK_SIZE=1<<ye.BLOCK_SIZE_POWER,ye.BLOCK_SIZE_MASK=ye.BLOCK_SIZE-1,ye.MINIMUM_DIMENSION=ye.BLOCK_SIZE*5,ye.MIN_DYNAMIC_RANGE=24;class He{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,s){throw new vn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new vn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new vn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new lt;for(let a=0;a<this.height;a++){const s=this.getRow(a,t);for(let u=0;u<this.width;u++){const f=s[u]&255;let i;f<64?i="#":f<128?i="+":f<192?i=".":i=" ",r.append(i)}r.append(`
`)}return r.toString()}}class ft extends He{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),s=this.getWidth();for(let u=0;u<s;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let s=0;s<r;s++)a[s]=255-(t[s]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,s){return new ft(this.delegate.crop(t,r,a,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ft(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ft(this.delegate.rotateCounterClockwise45())}}class ot extends He{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ot.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return ot.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const s=new Uint8ClampedArray(r*a);for(let u=0,f=0,i=t.length;u<i;u+=4,f++){let o;if(t[u+3]===0)o=255;else{const y=t[u],w=t[u+1],C=t[u+2];o=306*y+601*w+117*C+512>>10}s[f]=o}return s}getRow(t,r){if(t<0||t>=this.getHeight())throw new B("Requested row is outside the image: "+t);const a=this.getWidth(),s=t*a;return r===null?r=this.buffer.slice(s,s+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(s,s+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,s){return super.crop(t,r,a,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),s=t*ot.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,i=Math.ceil(Math.abs(Math.cos(s))*u+Math.abs(Math.sin(s))*f),o=Math.ceil(Math.abs(Math.sin(s))*u+Math.abs(Math.cos(s))*f);return r.width=i,r.height=o,a.translate(i/2,o/2),a.rotate(s),a.drawImage(this.canvas,u/-2,f/-2),this.buffer=ot.makeBufferFromCanvasImageData(r),this}invert(){return new ft(this)}}ot.DEGREE_TO_RADIANS=Math.PI/180;class G{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||mo||self||window||void 0)&&(globalThis||mo||self||window||void 0).__awaiter||function(N,t,r,a){function s(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function i(y){try{d(a.next(y))}catch(w){f(w)}}function o(y){try{d(a.throw(y))}catch(w){f(w)}}function d(y){y.done?u(y.value):s(y.value).then(i,o)}d((a=a.apply(N,t||[])).next())})};class De{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const s=a.kind==="video"?"videoinput":a.kind;if(s!=="videoinput")continue;const u=a.deviceId||a.id,f=a.label||`Video device ${r.length+1}`,i=a.groupId,o={deviceId:u,label:f,kind:s,groupId:i};r.push(o)}return r})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new G(r.deviceId,r.label))})}findDeviceById(t){return ue(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ue(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const s={video:a};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(t,r){return ue(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return ue(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return ue(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const u={video:s};return yield this.decodeFromConstraints(u,r,a)})}decodeFromConstraints(t,r,a){return ue(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,r,a)})}decodeFromStream(t,r,a){return ue(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(s,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ue(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new M(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new M(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new M("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new M("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new M("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new M("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new M("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new M("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new M("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new M("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(a,r);return a.src=t,s}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const s=(u,f)=>{if(this._stopAsyncDecode){f(new ce("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const i=this.decode(t);u(i)}catch(i){const o=r&&i instanceof ce,y=(i instanceof me||i instanceof ie)&&a;if(o||y)return setTimeout(s,this._timeBetweenDecodingAttempts,u,f);f(i)}};return new Promise((u,f)=>s(u,f))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);r(s,null),setTimeout(a,this.timeBetweenScansMillis)}catch(s){r(null,s);const u=s instanceof me||s instanceof ie,f=s instanceof ce;(u||f)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new ot(r),s=new ye(a);return new ae(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=s+"px",r.width=a,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(t,r,a=r==null?0:8*r.length,s,u,f=J.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=s,this.format=u,this.timestamp=f,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=s,this.format=u,this.resultMetadata=null,f==null?this.timestamp=J.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);J.arraycopy(r,0,a,0,r.length),J.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var rt;(function(N){N[N.AZTEC=0]="AZTEC",N[N.CODABAR=1]="CODABAR",N[N.CODE_39=2]="CODE_39",N[N.CODE_93=3]="CODE_93",N[N.CODE_128=4]="CODE_128",N[N.DATA_MATRIX=5]="DATA_MATRIX",N[N.EAN_8=6]="EAN_8",N[N.EAN_13=7]="EAN_13",N[N.ITF=8]="ITF",N[N.MAXICODE=9]="MAXICODE",N[N.PDF_417=10]="PDF_417",N[N.QR_CODE=11]="QR_CODE",N[N.RSS_14=12]="RSS_14",N[N.RSS_EXPANDED=13]="RSS_EXPANDED",N[N.UPC_A=14]="UPC_A",N[N.UPC_E=15]="UPC_E",N[N.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(rt||(rt={}));var Ne=rt,bt;(function(N){N[N.OTHER=0]="OTHER",N[N.ORIENTATION=1]="ORIENTATION",N[N.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",N[N.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",N[N.ISSUE_NUMBER=4]="ISSUE_NUMBER",N[N.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",N[N.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",N[N.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",N[N.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",N[N.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",N[N.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(bt||(bt={}));var Nt=bt;class rn{constructor(t,r,a,s,u=-1,f=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=s,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class qe{exp(t){return this.expTable[t]}log(t){if(t===0)throw new B;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Ln{constructor(t,r){if(r.length===0)throw new B;this.field=t;const a=r.length;if(a>1&&r[0]===0){let s=1;for(;s<a&&r[s]===0;)s++;s===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-s),J.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let f=0,i=r.length;f!==i;f++){const o=r[f];a=qe.addOrSubtract(a,o)}return a}a=r[0];const s=r.length,u=this.field;for(let f=1;f<s;f++)a=qe.addOrSubtract(u.multiply(t,a),r[f]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new B("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const f=r;r=a,a=f}let s=new Int32Array(a.length);const u=a.length-r.length;J.arraycopy(a,0,s,0,u);for(let f=u;f<a.length;f++)s[f]=qe.addOrSubtract(r[f-u],a[f]);return new Ln(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new B("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,s=t.coefficients,u=s.length,f=new Int32Array(a+u-1),i=this.field;for(let o=0;o<a;o++){const d=r[o];for(let y=0;y<u;y++)f[o+y]=qe.addOrSubtract(f[o+y],i.multiply(d,s[y]))}return new Ln(i,f)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,s=new Int32Array(r),u=this.coefficients;for(let f=0;f<r;f++)s[f]=a.multiply(u[f],t);return new Ln(a,s)}multiplyByMonomial(t,r){if(t<0)throw new B;if(r===0)return this.field.getZero();const a=this.coefficients,s=a.length,u=new Int32Array(s+t),f=this.field;for(let i=0;i<s;i++)u[i]=f.multiply(a[i],r);return new Ln(f,u)}divide(t){if(!this.field.equals(t.field))throw new B("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new B("Divide by 0");const r=this.field;let a=r.getZero(),s=this;const u=t.getCoefficient(t.getDegree()),f=r.inverse(u);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const i=s.getDegree()-t.getDegree(),o=r.multiply(s.getCoefficient(s.getDegree()),f),d=t.multiplyByMonomial(i,o),y=r.buildMonomial(i,o);a=a.addOrSubtract(y),s=s.addOrSubtract(d)}return[a,s]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const s=this.field.log(a);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Rt extends v{}Rt.kind="ArithmeticException";class At extends qe{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const s=new Int32Array(r);let u=1;for(let i=0;i<r;i++)s[i]=u,u*=2,u>=r&&(u^=t,u&=r-1);this.expTable=s;const f=new Int32Array(r);for(let i=0;i<r-1;i++)f[s[i]]=i;this.logTable=f,this.zero=new Ln(this,Int32Array.from([0])),this.one=new Ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new B;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new Ln(this,a)}inverse(t){if(t===0)throw new Rt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+pe.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}At.AZTEC_DATA_12=new At(4201,4096,1),At.AZTEC_DATA_10=new At(1033,1024,1),At.AZTEC_DATA_6=new At(67,64,1),At.AZTEC_PARAM=new At(19,16,1),At.QR_CODE_FIELD_256=new At(285,256,0),At.DATA_MATRIX_FIELD_256=new At(301,256,1),At.AZTEC_DATA_8=At.DATA_MATRIX_FIELD_256,At.MAXICODE_FIELD_64=At.AZTEC_DATA_6;class Cr extends v{}Cr.kind="ReedSolomonException";class Un extends v{}Un.kind="IllegalStateException";class Bi{constructor(t){this.field=t}decode(t,r){const a=this.field,s=new Ln(a,t),u=new Int32Array(r);let f=!0;for(let S=0;S<r;S++){const O=s.evaluateAt(a.exp(S+a.getGeneratorBase()));u[u.length-1-S]=O,O!==0&&(f=!1)}if(f)return;const i=new Ln(a,u),o=this.runEuclideanAlgorithm(a.buildMonomial(r,1),i,r),d=o[0],y=o[1],w=this.findErrorLocations(d),C=this.findErrorMagnitudes(y,w);for(let S=0;S<w.length;S++){const O=t.length-1-a.log(w[S]);if(O<0)throw new Cr("Bad error location");t[O]=At.addOrSubtract(t[O],C[S])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const S=t;t=r,r=S}const s=this.field;let u=t,f=r,i=s.getZero(),o=s.getOne();for(;f.getDegree()>=(a/2|0);){let S=u,O=i;if(u=f,i=o,u.isZero())throw new Cr("r_{i-1} was zero");f=S;let I=s.getZero();const k=u.getCoefficient(u.getDegree()),U=s.inverse(k);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const z=f.getDegree()-u.getDegree(),j=s.multiply(f.getCoefficient(f.getDegree()),U);I=I.addOrSubtract(s.buildMonomial(z,j)),f=f.addOrSubtract(u.multiplyByMonomial(z,j))}if(o=I.multiply(i).addOrSubtract(O),f.getDegree()>=u.getDegree())throw new Un("Division algorithm failed to reduce polynomial?")}const d=o.getCoefficient(0);if(d===0)throw new Cr("sigmaTilde(0) was zero");const y=s.inverse(d),w=o.multiplyScalar(y),C=f.multiplyScalar(y);return[w,C]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let s=0;const u=this.field;for(let f=1;f<u.getSize()&&s<r;f++)t.evaluateAt(f)===0&&(a[s]=u.inverse(f),s++);if(s!==r)throw new Cr("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,s=new Int32Array(a),u=this.field;for(let f=0;f<a;f++){const i=u.inverse(r[f]);let o=1;for(let d=0;d<a;d++)if(f!==d){const y=u.multiply(r[d],i),w=(y&1)===0?y|1:y&-2;o=u.multiply(o,w)}s[f]=u.multiply(t.evaluateAt(i),u.inverse(o)),u.getGeneratorBase()!==0&&(s[f]=u.multiply(s[f],i))}return s}}var Vn;(function(N){N[N.UPPER=0]="UPPER",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.DIGIT=3]="DIGIT",N[N.PUNCT=4]="PUNCT",N[N.BINARY=5]="BINARY"})(Vn||(Vn={}));class Qt{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),s=this.correctBits(a),u=Qt.convertBoolArrayToByteArray(s),f=Qt.getEncodedData(s),i=new rn(u,f,null,null);return i.setNumBits(s.length),i}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=Vn.UPPER,s=Vn.UPPER,u="",f=0;for(;f<r;)if(s===Vn.BINARY){if(r-f<5)break;let i=Qt.readCode(t,f,5);if(f+=5,i===0){if(r-f<11)break;i=Qt.readCode(t,f,11)+31,f+=11}for(let o=0;o<i;o++){if(r-f<8){f=r;break}const d=Qt.readCode(t,f,8);u+=je.castAsNonUtf8Char(d),f+=8}s=a}else{let i=s===Vn.DIGIT?4:5;if(r-f<i)break;let o=Qt.readCode(t,f,i);f+=i;let d=Qt.getCharacter(s,o);d.startsWith("CTRL_")?(a=s,s=Qt.getTable(d.charAt(5)),d.charAt(6)==="L"&&(a=s)):(u+=d,s=a)}return u}static getTable(t){switch(t){case"L":return Vn.LOWER;case"P":return Vn.PUNCT;case"M":return Vn.MIXED;case"D":return Vn.DIGIT;case"B":return Vn.BINARY;default:return Vn.UPPER}}static getCharacter(t,r){switch(t){case Vn.UPPER:return Qt.UPPER_TABLE[r];case Vn.LOWER:return Qt.LOWER_TABLE[r];case Vn.MIXED:return Qt.MIXED_TABLE[r];case Vn.PUNCT:return Qt.PUNCT_TABLE[r];case Vn.DIGIT:return Qt.DIGIT_TABLE[r];default:throw new Un("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=At.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=At.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=At.AZTEC_DATA_10):(a=12,r=At.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),u=t.length/a;if(u<s)throw new ie;let f=t.length%a,i=new Int32Array(u);for(let C=0;C<u;C++,f+=a)i[C]=Qt.readCode(t,f,a);try{new Bi(r).decode(i,u-s)}catch(C){throw new ie(C)}let o=(1<<a)-1,d=0;for(let C=0;C<s;C++){let S=i[C];if(S===0||S===o)throw new ie;(S===1||S===o-1)&&d++}let y=new Array(s*a-d),w=0;for(let C=0;C<s;C++){let S=i[C];if(S===1||S===o-1)y.fill(S>1,w,w+a-1),w+=a-1;else for(let O=a-1;O>=0;--O)y[w++]=(S&1<<O)!==0}return y}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),s=(r?11:14)+a*4,u=new Int32Array(s),f=new Array(this.totalBitsInLayer(a,r));if(r)for(let i=0;i<u.length;i++)u[i]=i;else{let i=s+1+2*pe.truncDivision(pe.truncDivision(s,2)-1,15),o=s/2,d=pe.truncDivision(i,2);for(let y=0;y<o;y++){let w=y+pe.truncDivision(y,15);u[o-y-1]=d-w-1,u[o+y]=d+w+1}}for(let i=0,o=0;i<a;i++){let d=(a-i)*4+(r?9:12),y=i*2,w=s-1-y;for(let C=0;C<d;C++){let S=C*2;for(let O=0;O<2;O++)f[o+S+O]=t.get(u[y+O],u[y+C]),f[o+2*d+S+O]=t.get(u[y+C],u[w-O]),f[o+4*d+S+O]=t.get(u[w-O],u[w-C]),f[o+6*d+S+O]=t.get(u[w-C],u[y+O])}o+=d*8}return f}static readCode(t,r,a){let s=0;for(let u=r;u<r+a;u++)s<<=1,t[u]&&(s|=1);return s}static readByte(t,r){let a=t.length-r;return a>=8?Qt.readCode(t,r,8):Qt.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=Qt.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Qt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Qt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Qt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Qt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Qt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class St{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,s){const u=t-a,f=r-s;return Math.sqrt(u*u+f*f)}static sum(t){let r=0;for(let a=0,s=t.length;a!==s;a++){const u=t[a];r+=u}return r}}class Ai{static floatToIntBits(t){return t}}Ai.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ze{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ze){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Ai.floatToIntBits(this.x)+Ai.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let u,f,i;if(a>=r&&a>=s?(f=t[0],u=t[1],i=t[2]):s>=a&&s>=r?(f=t[1],u=t[0],i=t[2]):(f=t[2],u=t[0],i=t[1]),this.crossProductZ(u,f,i)<0){const o=u;u=i,i=o}t[0]=u,t[1]=f,t[2]=i}static distance(t,r){return St.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const s=r.x,u=r.y;return(a.x-s)*(t.y-u)-(a.y-u)*(t.x-s)}}class fa{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Zi extends fa{constructor(t,r,a,s,u){super(t,r),this.compact=a,this.nbDatablocks=s,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class En{constructor(t,r,a,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=En.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const u=r/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=s-u,this.downInit=s+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ce}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,s=this.downInit,u=!1,f=!0,i=!1,o=!1,d=!1,y=!1,w=!1;const C=this.width,S=this.height;for(;f;){f=!1;let O=!0;for(;(O||!o)&&r<C;)O=this.containsBlackPoint(a,s,r,!1),O?(r++,f=!0,o=!0):o||r++;if(r>=C){u=!0;break}let I=!0;for(;(I||!d)&&s<S;)I=this.containsBlackPoint(t,r,s,!0),I?(s++,f=!0,d=!0):d||s++;if(s>=S){u=!0;break}let k=!0;for(;(k||!y)&&t>=0;)k=this.containsBlackPoint(a,s,t,!1),k?(t--,f=!0,y=!0):y||t--;if(t<0){u=!0;break}let U=!0;for(;(U||!w)&&a>=0;)U=this.containsBlackPoint(t,r,a,!0),U?(a--,f=!0,w=!0):w||a--;if(a<0){u=!0;break}f&&(i=!0)}if(!u&&i){const O=r-t;let I=null;for(let j=1;I===null&&j<O;j++)I=this.getBlackPointOnSegment(t,s-j,t+j,s);if(I==null)throw new ce;let k=null;for(let j=1;k===null&&j<O;j++)k=this.getBlackPointOnSegment(t,a+j,t+j,a);if(k==null)throw new ce;let U=null;for(let j=1;U===null&&j<O;j++)U=this.getBlackPointOnSegment(r,a+j,r-j,a);if(U==null)throw new ce;let z=null;for(let j=1;z===null&&j<O;j++)z=this.getBlackPointOnSegment(r,s-j,r-j,s);if(z==null)throw new ce;return this.centerEdges(z,I,U,k)}else throw new ce}getBlackPointOnSegment(t,r,a,s){const u=St.round(St.distance(t,r,a,s)),f=(a-t)/u,i=(s-r)/u,o=this.image;for(let d=0;d<u;d++){const y=St.round(t+d*f),w=St.round(r+d*i);if(o.get(y,w))return new ze(y,w)}return null}centerEdges(t,r,a,s){const u=t.getX(),f=t.getY(),i=r.getX(),o=r.getY(),d=a.getX(),y=a.getY(),w=s.getX(),C=s.getY(),S=En.CORR;return u<this.width/2?[new ze(w-S,C+S),new ze(i+S,o+S),new ze(d-S,y-S),new ze(u+S,f-S)]:[new ze(w+S,C+S),new ze(i+S,o-S),new ze(d-S,y+S),new ze(u-S,f-S)]}containsBlackPoint(t,r,a,s){const u=this.image;if(s){for(let f=t;f<=r;f++)if(u.get(f,a))return!0}else for(let f=t;f<=r;f++)if(u.get(a,f))return!0;return!1}}En.INIT_SIZE=10,En.CORR=1;class Li{static checkAndNudgePoints(t,r){const a=t.getWidth(),s=t.getHeight();let u=!0;for(let f=0;f<r.length&&u;f+=2){const i=Math.floor(r[f]),o=Math.floor(r[f+1]);if(i<-1||i>a||o<-1||o>s)throw new ce;u=!1,i===-1?(r[f]=0,u=!0):i===a&&(r[f]=a-1,u=!0),o===-1?(r[f+1]=0,u=!0):o===s&&(r[f+1]=s-1,u=!0)}u=!0;for(let f=r.length-2;f>=0&&u;f-=2){const i=Math.floor(r[f]),o=Math.floor(r[f+1]);if(i<-1||i>a||o<-1||o>s)throw new ce;u=!1,i===-1?(r[f]=0,u=!0):i===a&&(r[f]=a-1,u=!0),o===-1?(r[f+1]=0,u=!0):o===s&&(r[f+1]=s-1,u=!0)}}}class cn{constructor(t,r,a,s,u,f,i,o,d){this.a11=t,this.a21=r,this.a31=a,this.a12=s,this.a22=u,this.a32=f,this.a13=i,this.a23=o,this.a33=d}static quadrilateralToQuadrilateral(t,r,a,s,u,f,i,o,d,y,w,C,S,O,I,k){const U=cn.quadrilateralToSquare(t,r,a,s,u,f,i,o);return cn.squareToQuadrilateral(d,y,w,C,S,O,I,k).times(U)}transformPoints(t){const r=t.length,a=this.a11,s=this.a12,u=this.a13,f=this.a21,i=this.a22,o=this.a23,d=this.a31,y=this.a32,w=this.a33;for(let C=0;C<r;C+=2){const S=t[C],O=t[C+1],I=u*S+o*O+w;t[C]=(a*S+f*O+d)/I,t[C+1]=(s*S+i*O+y)/I}}transformPointsWithValues(t,r){const a=this.a11,s=this.a12,u=this.a13,f=this.a21,i=this.a22,o=this.a23,d=this.a31,y=this.a32,w=this.a33,C=t.length;for(let S=0;S<C;S++){const O=t[S],I=r[S],k=u*O+o*I+w;t[S]=(a*O+f*I+d)/k,r[S]=(s*O+i*I+y)/k}}static squareToQuadrilateral(t,r,a,s,u,f,i,o){const d=t-a+u-i,y=r-s+f-o;if(d===0&&y===0)return new cn(a-t,u-a,t,s-r,f-s,r,0,0,1);{const w=a-u,C=i-u,S=s-f,O=o-f,I=w*O-C*S,k=(d*O-C*y)/I,U=(w*y-d*S)/I;return new cn(a-t+k*a,i-t+U*i,t,s-r+k*s,o-r+U*o,r,k,U,1)}}static quadrilateralToSquare(t,r,a,s,u,f,i,o){return cn.squareToQuadrilateral(t,r,a,s,u,f,i,o).buildAdjoint()}buildAdjoint(){return new cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new cn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class ri extends Li{sampleGrid(t,r,a,s,u,f,i,o,d,y,w,C,S,O,I,k,U,z,j){const F=cn.quadrilateralToQuadrilateral(s,u,f,i,o,d,y,w,C,S,O,I,k,U,z,j);return this.sampleGridWithTransform(t,r,a,F)}sampleGridWithTransform(t,r,a,s){if(r<=0||a<=0)throw new ce;const u=new Ot(r,a),f=new Float32Array(2*r);for(let i=0;i<a;i++){const o=f.length,d=i+.5;for(let y=0;y<o;y+=2)f[y]=y/2+.5,f[y+1]=d;s.transformPoints(f),Li.checkAndNudgePoints(t,f);try{for(let y=0;y<o;y+=2)t.get(Math.floor(f[y]),Math.floor(f[y+1]))&&u.set(y/2,i)}catch{throw new ce}}return u}}class cr{static setGridSampler(t){cr.gridSampler=t}static getInstance(){return cr.gridSampler}}cr.gridSampler=new ri;class Mn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ha{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let f=a[0];a[0]=a[2],a[2]=f}this.extractParameters(a);let s=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new Zi(s,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new ce;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let s=0;for(let f=0;f<4;f++){let i=a[(this.shift+f)%4];this.compact?(s<<=7,s+=i>>1&127):(s<<=10,s+=(i>>2&992)+(i>>1&31))}let u=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(t,r){let a=0;t.forEach((s,u,f)=>{let i=(s>>r-2<<1)+(s&1);a=(a<<3)+i}),a=((a&1)<<11)+(a>>1);for(let s=0;s<4;s++)if(pe.bitCount(a^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new ce}getCorrectedParameterData(t,r){let a,s;r?(a=7,s=2):(a=10,s=4);let u=a-s,f=new Int32Array(a);for(let o=a-1;o>=0;--o)f[o]=t&15,t>>=4;try{new Bi(At.AZTEC_PARAM).decode(f,u)}catch{throw new ce}let i=0;for(let o=0;o<s;o++)i=(i<<4)+f[o];return i}getBullsEyeCorners(t){let r=t,a=t,s=t,u=t,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let w=this.getFirstDifferent(r,f,1,-1),C=this.getFirstDifferent(a,f,1,1),S=this.getFirstDifferent(s,f,-1,1),O=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let I=this.distancePoint(O,w)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(I<.75||I>1.25||!this.isWhiteOrBlackRectangle(w,C,S,O))break}r=w,a=C,s=S,u=O,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ce;this.compact=this.nbCenterLayers===5;let i=new ze(r.getX()+.5,r.getY()-.5),o=new ze(a.getX()+.5,a.getY()+.5),d=new ze(s.getX()-.5,s.getY()+.5),y=new ze(u.getX()-.5,u.getY()-.5);return this.expandSquare([i,o,d,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,s;try{let i=new En(this.image).detect();t=i[0],r=i[1],a=i[2],s=i[3]}catch{let o=this.image.getWidth()/2,d=this.image.getHeight()/2;t=this.getFirstDifferent(new Mn(o+7,d-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Mn(o+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Mn(o-7,d+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Mn(o-7,d-7),!1,-1,-1).toResultPoint()}let u=St.round((t.getX()+s.getX()+r.getX()+a.getX())/4),f=St.round((t.getY()+s.getY()+r.getY()+a.getY())/4);try{let i=new En(this.image,15,u,f).detect();t=i[0],r=i[1],a=i[2],s=i[3]}catch{t=this.getFirstDifferent(new Mn(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Mn(u+7,f+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Mn(u-7,f+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new Mn(u-7,f-7),!1,-1,-1).toResultPoint()}return u=St.round((t.getX()+s.getX()+r.getX()+a.getX())/4),f=St.round((t.getY()+s.getY()+r.getY()+a.getY())/4),new Mn(u,f)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,s,u){let f=cr.getInstance(),i=this.getDimension(),o=i/2-this.nbCenterLayers,d=i/2+this.nbCenterLayers;return f.sampleGrid(t,i,i,o,o,d,o,d,d,o,d,r.getX(),r.getY(),a.getX(),a.getY(),s.getX(),s.getY(),u.getX(),u.getY())}sampleLine(t,r,a){let s=0,u=this.distanceResultPoint(t,r),f=u/a,i=t.getX(),o=t.getY(),d=f*(r.getX()-t.getX())/u,y=f*(r.getY()-t.getY())/u;for(let w=0;w<a;w++)this.image.get(St.round(i+w*d),St.round(o+w*y))&&(s|=1<<a-w-1);return s}isWhiteOrBlackRectangle(t,r,a,s){let u=3;t=new Mn(t.getX()-u,t.getY()+u),r=new Mn(r.getX()-u,r.getY()-u),a=new Mn(a.getX()+u,a.getY()-u),s=new Mn(s.getX()+u,s.getY()+u);let f=this.getColor(s,t);if(f===0)return!1;let i=this.getColor(t,r);return i!==f||(i=this.getColor(r,a),i!==f)?!1:(i=this.getColor(a,s),i===f)}getColor(t,r){let a=this.distancePoint(t,r),s=(r.getX()-t.getX())/a,u=(r.getY()-t.getY())/a,f=0,i=t.getX(),o=t.getY(),d=this.image.get(t.getX(),t.getY()),y=Math.ceil(a);for(let C=0;C<y;C++)i+=s,o+=u,this.image.get(St.round(i),St.round(o))!==d&&f++;let w=f/a;return w>.1&&w<.9?0:w<=.1===d?1:-1}getFirstDifferent(t,r,a,s){let u=t.getX()+a,f=t.getY()+s;for(;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=a,f+=s;for(u-=a,f-=s;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=a;for(u-=a;this.isValid(u,f)&&this.image.get(u,f)===r;)f+=s;return f-=s,new Mn(u,f)}expandSquare(t,r,a){let s=a/(2*r),u=t[0].getX()-t[2].getX(),f=t[0].getY()-t[2].getY(),i=(t[0].getX()+t[2].getX())/2,o=(t[0].getY()+t[2].getY())/2,d=new ze(i+s*u,o+s*f),y=new ze(i-s*u,o-s*f);u=t[1].getX()-t[3].getX(),f=t[1].getY()-t[3].getY(),i=(t[1].getX()+t[3].getX())/2,o=(t[1].getY()+t[3].getY())/2;let w=new ze(i+s*u,o+s*f),C=new ze(i-s*u,o-s*f);return[d,w,y,C]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=St.round(t.getX()),a=St.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return St.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return St.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(pe.truncDivision(this.nbLayers-4,8)+1)+15}}class Ui{decode(t,r=null){let a=null,s=new ha(t.getBlackMatrix()),u=null,f=null;try{let y=s.detectMirror(!1);u=y.getPoints(),this.reportFoundResultPoints(r,u),f=new Qt().decode(y)}catch(y){a=y}if(f==null)try{let y=s.detectMirror(!0);u=y.getPoints(),this.reportFoundResultPoints(r,u),f=new Qt().decode(y)}catch(y){throw a??y}let i=new Me(f.getText(),f.getRawBytes(),f.getNumBits(),u,Ne.AZTEC,J.currentTimeMillis()),o=f.getByteSegments();o!=null&&i.putMetadata(Nt.BYTE_SEGMENTS,o);let d=f.getECLevel();return d!=null&&i.putMetadata(Nt.ERROR_CORRECTION_LEVEL,d),i}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(Ye.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((s,u,f)=>{a.foundPossibleResultPoint(s)})}}reset(){}}class ki extends De{constructor(t=500){super(new Ui,t)}}class Wt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Ye.TRY_HARDER)===!0&&t.isRotateSupported()){const u=t.rotateCounterClockwise(),f=this.doDecode(u,r),i=f.getResultMetadata();let o=270;i!==null&&i.get(Nt.ORIENTATION)===!0&&(o=o+i.get(Nt.ORIENTATION)%360),f.putMetadata(Nt.ORIENTATION,o);const d=f.getResultPoints();if(d!==null){const y=u.getHeight();for(let w=0;w<d.length;w++)d[w]=new ze(y-d[w].getY()-1,d[w].getX())}return f}else throw new ce}}reset(){}doDecode(t,r){const a=t.getWidth(),s=t.getHeight();let u=new Ue(a);const f=r&&r.get(Ye.TRY_HARDER)===!0,i=Math.max(1,s>>(f?8:5));let o;f?o=s:o=15;const d=Math.trunc(s/2);for(let y=0;y<o;y++){const w=Math.trunc((y+1)/2),C=(y&1)===0,S=d+i*(C?w:-w);if(S<0||S>=s)break;try{u=t.getBlackRow(S,u)}catch{continue}for(let O=0;O<2;O++){if(O===1&&(u.reverse(),r&&r.get(Ye.NEED_RESULT_POINT_CALLBACK)===!0)){const I=new Map;r.forEach((k,U)=>I.set(U,k)),I.delete(Ye.NEED_RESULT_POINT_CALLBACK),r=I}try{const I=this.decodeRow(S,u,r);if(O===1){I.putMetadata(Nt.ORIENTATION,180);const k=I.getResultPoints();k!==null&&(k[0]=new ze(a-k[0].getX()-1,k[0].getY()),k[1]=new ze(a-k[1].getX()-1,k[1].getY()))}return I}catch{}}}throw new ce}static recordPattern(t,r,a){const s=a.length;for(let d=0;d<s;d++)a[d]=0;const u=t.getSize();if(r>=u)throw new ce;let f=!t.get(r),i=0,o=r;for(;o<u;){if(t.get(o)!==f)a[i]++;else{if(++i===s)break;a[i]=1,f=!f}o++}if(!(i===s||i===s-1&&o===u))throw new ce}static recordPatternInReverse(t,r,a){let s=a.length,u=t.get(r);for(;r>0&&s>=0;)t.get(--r)!==u&&(s--,u=!u);if(s>=0)throw new ce;Wt.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const s=t.length;let u=0,f=0;for(let d=0;d<s;d++)u+=t[d],f+=r[d];if(u<f)return Number.POSITIVE_INFINITY;const i=u/f;a*=i;let o=0;for(let d=0;d<s;d++){const y=t[d],w=r[d]*i,C=y>w?y-w:w-y;if(C>a)return Number.POSITIVE_INFINITY;o+=C}return o/u}}class _e extends Wt{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let s=0,u=Int32Array.from([0,0,0,0,0,0]),f=a,i=!1;const o=6;for(let d=a;d<r;d++)if(t.get(d)!==i)u[s]++;else{if(s===o-1){let y=_e.MAX_AVG_VARIANCE,w=-1;for(let C=_e.CODE_START_A;C<=_e.CODE_START_C;C++){const S=Wt.patternMatchVariance(u,_e.CODE_PATTERNS[C],_e.MAX_INDIVIDUAL_VARIANCE);S<y&&(y=S,w=C)}if(w>=0&&t.isRange(Math.max(0,f-(d-f)/2),f,!1))return Int32Array.from([f,d,w]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[s-1]=0,u[s]=0,s--}else s++;u[s]=1,i=!i}throw new ce}static decodeCode(t,r,a){Wt.recordPattern(t,a,r);let s=_e.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<_e.CODE_PATTERNS.length;f++){const i=_e.CODE_PATTERNS[f],o=this.patternMatchVariance(r,i,_e.MAX_INDIVIDUAL_VARIANCE);o<s&&(s=o,u=f)}if(u>=0)return u;throw new ce}decodeRow(t,r,a){const s=a&&a.get(Ye.ASSUME_GS1)===!0,u=_e.findStartPattern(r),f=u[2];let i=0;const o=new Uint8Array(20);o[i++]=f;let d;switch(f){case _e.CODE_START_A:d=_e.CODE_CODE_A;break;case _e.CODE_START_B:d=_e.CODE_CODE_B;break;case _e.CODE_START_C:d=_e.CODE_CODE_C;break;default:throw new ie}let y=!1,w=!1,C="",S=u[0],O=u[1];const I=Int32Array.from([0,0,0,0,0,0]);let k=0,U=0,z=f,j=0,F=!0,V=!1,H=!1;for(;!y;){const ve=w;switch(w=!1,k=U,U=_e.decodeCode(r,I,O),o[i++]=U,U!==_e.CODE_STOP&&(F=!0),U!==_e.CODE_STOP&&(j++,z+=j*U),S=O,O+=I.reduce((Pe,ke)=>Pe+ke,0),U){case _e.CODE_START_A:case _e.CODE_START_B:case _e.CODE_START_C:throw new ie}switch(d){case _e.CODE_CODE_A:if(U<64)H===V?C+=String.fromCharCode(32+U):C+=String.fromCharCode(32+U+128),H=!1;else if(U<96)H===V?C+=String.fromCharCode(U-64):C+=String.fromCharCode(U+64),H=!1;else switch(U!==_e.CODE_STOP&&(F=!1),U){case _e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_A:!V&&H?(V=!0,H=!1):V&&H?(V=!1,H=!1):H=!0;break;case _e.CODE_SHIFT:w=!0,d=_e.CODE_CODE_B;break;case _e.CODE_CODE_B:d=_e.CODE_CODE_B;break;case _e.CODE_CODE_C:d=_e.CODE_CODE_C;break;case _e.CODE_STOP:y=!0;break}break;case _e.CODE_CODE_B:if(U<96)H===V?C+=String.fromCharCode(32+U):C+=String.fromCharCode(32+U+128),H=!1;else switch(U!==_e.CODE_STOP&&(F=!1),U){case _e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_B:!V&&H?(V=!0,H=!1):V&&H?(V=!1,H=!1):H=!0;break;case _e.CODE_SHIFT:w=!0,d=_e.CODE_CODE_A;break;case _e.CODE_CODE_A:d=_e.CODE_CODE_A;break;case _e.CODE_CODE_C:d=_e.CODE_CODE_C;break;case _e.CODE_STOP:y=!0;break}break;case _e.CODE_CODE_C:if(U<100)U<10&&(C+="0"),C+=U;else switch(U!==_e.CODE_STOP&&(F=!1),U){case _e.CODE_FNC_1:s&&(C.length===0?C+="]C1":C+="");break;case _e.CODE_CODE_A:d=_e.CODE_CODE_A;break;case _e.CODE_CODE_B:d=_e.CODE_CODE_B;break;case _e.CODE_STOP:y=!0;break}break}ve&&(d=d===_e.CODE_CODE_A?_e.CODE_CODE_B:_e.CODE_CODE_A)}const K=O-S;if(O=r.getNextUnset(O),!r.isRange(O,Math.min(r.getSize(),O+(O-S)/2),!1))throw new ce;if(z-=j*k,z%103!==k)throw new me;const W=C.length;if(W===0)throw new ce;W>0&&F&&(d===_e.CODE_CODE_C?C=C.substring(0,W-2):C=C.substring(0,W-1));const q=(u[1]+u[0])/2,re=S+K/2,xe=o.length,Oe=new Uint8Array(xe);for(let ve=0;ve<xe;ve++)Oe[ve]=o[ve];const Ie=[new ze(q,t),new ze(re,t)];return new Me(C,Oe,0,Ie,Ne.CODE_128,new Date().getTime())}}_e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],_e.MAX_AVG_VARIANCE=.25,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.CODE_SHIFT=98,_e.CODE_CODE_C=99,_e.CODE_CODE_B=100,_e.CODE_CODE_A=101,_e.CODE_FNC_1=102,_e.CODE_FNC_2=97,_e.CODE_FNC_3=96,_e.CODE_FNC_4_A=101,_e.CODE_FNC_4_B=100,_e.CODE_START_A=103,_e.CODE_START_B=104,_e.CODE_START_C=105,_e.CODE_STOP=106;class It extends Wt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let s=this.counters;s.fill(0),this.decodeRowResult="";let u=It.findAsteriskPattern(r,s),f=r.getNextSet(u[1]),i=r.getSize(),o,d;do{It.recordPattern(r,f,s);let I=It.toNarrowWidePattern(s);if(I<0)throw new ce;o=It.patternToChar(I),this.decodeRowResult+=o,d=f;for(let k of s)f+=k;f=r.getNextSet(f)}while(o!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let I of s)y+=I;let w=f-d-y;if(f!==i&&w*2<y)throw new ce;if(this.usingCheckDigit){let I=this.decodeRowResult.length-1,k=0;for(let U=0;U<I;U++)k+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(U));if(this.decodeRowResult.charAt(I)!==It.ALPHABET_STRING.charAt(k%43))throw new me;this.decodeRowResult=this.decodeRowResult.substring(0,I)}if(this.decodeRowResult.length===0)throw new ce;let C;this.extendedMode?C=It.decodeExtended(this.decodeRowResult):C=this.decodeRowResult;let S=(u[1]+u[0])/2,O=d+y/2;return new Me(C,null,0,[new ze(S,t),new ze(O,t)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),s=t.getNextSet(0),u=0,f=s,i=!1,o=r.length;for(let d=s;d<a;d++)if(t.get(d)!==i)r[u]++;else{if(u===o-1){if(this.toNarrowWidePattern(r)===It.ASTERISK_ENCODING&&t.isRange(Math.max(0,f-Math.floor((d-f)/2)),f,!1))return[f,d];f+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,i=!i}throw new ce}static toNarrowWidePattern(t){let r=t.length,a=0,s;do{let u=2147483647;for(let o of t)o<u&&o>a&&(u=o);a=u,s=0;let f=0,i=0;for(let o=0;o<r;o++){let d=t[o];d>a&&(i|=1<<r-1-o,s++,f+=d)}if(s===3){for(let o=0;o<r&&s>0;o++){let d=t[o];if(d>a&&(s--,d*2>=f))return-1}return i}}while(s>3);return-1}static patternToChar(t){for(let r=0;r<It.CHARACTER_ENCODINGS.length;r++)if(It.CHARACTER_ENCODINGS[r]===t)return It.ALPHABET_STRING.charAt(r);if(t===It.ASTERISK_ENCODING)return"*";throw new ce}static decodeExtended(t){let r=t.length,a="";for(let s=0;s<r;s++){let u=t.charAt(s);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=t.charAt(s+1),i="\0";switch(u){case"+":if(f>="A"&&f<="Z")i=String.fromCharCode(f.charCodeAt(0)+32);else throw new ie;break;case"$":if(f>="A"&&f<="Z")i=String.fromCharCode(f.charCodeAt(0)-64);else throw new ie;break;case"%":if(f>="A"&&f<="E")i=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")i=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")i=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")i=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")i="\0";else if(f==="V")i="@";else if(f==="W")i="`";else if(f==="X"||f==="Y"||f==="Z")i="";else throw new ie;break;case"/":if(f>="A"&&f<="O")i=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")i=":";else throw new ie;break}a+=i,s++}else a+=u}return a}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class Se extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let s=this.decodeStart(r),u=this.decodeEnd(r),f=new lt;Se.decodeMiddle(r,s[1],u[0],f);let i=f.toString(),o=null;a!=null&&(o=a.get(Ye.ALLOWED_LENGTHS)),o==null&&(o=Se.DEFAULT_ALLOWED_LENGTHS);let d=i.length,y=!1,w=0;for(let O of o){if(d===O){y=!0;break}O>w&&(w=O)}if(!y&&d>w&&(y=!0),!y)throw new ie;const C=[new ze(s[1],t),new ze(u[0],t)];return new Me(i,null,0,C,Ne.ITF,new Date().getTime())}static decodeMiddle(t,r,a,s){let u=new Int32Array(10),f=new Int32Array(5),i=new Int32Array(5);for(u.fill(0),f.fill(0),i.fill(0);r<a;){Wt.recordPattern(t,r,u);for(let d=0;d<5;d++){let y=2*d;f[d]=u[y],i[d]=u[y+1]}let o=Se.decodeDigit(f);s.append(o.toString()),o=this.decodeDigit(i),s.append(o.toString()),u.forEach(function(d){r+=d})}}decodeStart(t){let r=Se.skipWhiteSpace(t),a=Se.findGuardPattern(t,r,Se.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let s=r-1;a>0&&s>=0&&!t.get(s);s--)a--;if(a!==0)throw new ce}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new ce;return a}decodeEnd(t){t.reverse();try{let r=Se.skipWhiteSpace(t),a;try{a=Se.findGuardPattern(t,r,Se.END_PATTERN_REVERSED[0])}catch(u){u instanceof ce&&(a=Se.findGuardPattern(t,r,Se.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let s=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-s,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let s=a.length,u=new Int32Array(s),f=t.getSize(),i=!1,o=0,d=r;u.fill(0);for(let y=r;y<f;y++)if(t.get(y)!==i)u[o]++;else{if(o===s-1){if(Wt.patternMatchVariance(u,a,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return[d,y];d+=u[0]+u[1],J.arraycopy(u,2,u,0,o-1),u[o-1]=0,u[o]=0,o--}else o++;u[o]=1,i=!i}throw new ce}static decodeDigit(t){let r=Se.MAX_AVG_VARIANCE,a=-1,s=Se.PATTERNS.length;for(let u=0;u<s;u++){let f=Se.PATTERNS[u],i=Wt.patternMatchVariance(t,f,Se.MAX_INDIVIDUAL_VARIANCE);i<r?(r=i,a=u):i===r&&(a=-1)}if(a>=0)return a%10;throw new ce}}Se.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Se.MAX_AVG_VARIANCE=.38,Se.MAX_INDIVIDUAL_VARIANCE=.5,Se.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Se.START_PATTERN=Int32Array.from([1,1,1,1]),Se.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class en extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,s=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),a=en.findGuardPattern(t,s,!1,this.START_END_PATTERN,u);let f=a[0];s=a[1];let i=f-(s-f);i>=0&&(r=t.isRange(i,f,!1))}return a}static checkChecksum(t){return en.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return en.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let s=r-1;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ie;a+=u}a*=3;for(let s=r-2;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ie;a+=u}return(1e3-a)%10}static decodeEnd(t,r){return en.findGuardPattern(t,r,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,s){return this.findGuardPattern(t,r,a,s,new Int32Array(s.length))}static findGuardPattern(t,r,a,s,u){let f=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let i=0,o=r,d=s.length,y=a;for(let w=r;w<f;w++)if(t.get(w)!==y)u[i]++;else{if(i===d-1){if(Wt.patternMatchVariance(u,s,en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return Int32Array.from([o,w]);o+=u[0]+u[1];let C=u.slice(2,u.length-1);for(let S=0;S<i-1;S++)u[S]=C[S];u[i-1]=0,u[i]=0,i--}else i++;u[i]=1,y=!y}throw new ce}static decodeDigit(t,r,a,s){this.recordPattern(t,a,r);let u=this.MAX_AVG_VARIANCE,f=-1,i=s.length;for(let o=0;o<i;o++){let d=s[o],y=Wt.patternMatchVariance(r,d,en.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,f=o)}if(f>=0)return f;throw new ce}}en.MAX_AVG_VARIANCE=.48,en.MAX_INDIVIDUAL_VARIANCE=.7,en.START_END_PATTERN=Int32Array.from([1,1,1]),en.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),en.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),en.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Br{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,s),f=s.toString(),i=Br.parseExtensionString(f),o=[new ze((a[0]+a[1])/2,t),new ze(u,t)],d=new Me(f,null,0,o,Ne.UPC_EAN_EXTENSION,new Date().getTime());return i!=null&&d.putAllMetadata(i),d}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=r[1],i=0;for(let d=0;d<5&&f<u;d++){let y=en.decodeDigit(t,s,f,en.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let w of s)f+=w;y>=10&&(i|=1<<4-d),d!==4&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(a.length!==5)throw new ce;let o=this.determineCheckDigit(i);if(Br.extensionChecksum(a.toString())!==o)throw new ce;return f}static extensionChecksum(t){let r=t.length,a=0;for(let s=r-2;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;a*=3;for(let s=r-1;s>=0;s-=2)a+=t.charAt(s).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new ce}static parseExtensionString(t){if(t.length!==5)return null;let r=Br.parseExtension5String(t);return r==null?null:new Map([[Nt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),s=(a/100).toString(),u=a%100,f=u<10?"0"+u:u.toString();return r+s+"."+f}}class Qi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let s=this.decodeRowStringBuffer,u=this.decodeMiddle(r,a,s),f=s.toString(),i=Qi.parseExtensionString(f),o=[new ze((a[0]+a[1])/2,t),new ze(u,t)],d=new Me(f,null,0,o,Ne.UPC_EAN_EXTENSION,new Date().getTime());return i!=null&&d.putAllMetadata(i),d}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=r[1],i=0;for(let o=0;o<2&&f<u;o++){let d=en.decodeDigit(t,s,f,en.L_AND_G_PATTERNS);a+=String.fromCharCode(48+d%10);for(let y of s)f+=y;d>=10&&(i|=1<<1-o),o!==1&&(f=t.getNextSet(f),f=t.getNextUnset(f))}if(a.length!==2)throw new ce;if(parseInt(a.toString())%4!==i)throw new ce;return f}static parseExtensionString(t){return t.length!==2?null:new Map([[Nt.ISSUE_NUMBER,parseInt(t)]])}}class Be{static decodeRow(t,r,a){let s=en.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Br().decodeRow(t,r,s)}catch{return new Qi().decodeRow(t,r,s)}}}Be.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ct extends en{constructor(){super(),this.decodeRowStringBuffer="",Ct.L_AND_G_PATTERNS=Ct.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Ct.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let s=0;s<r.length;s++)a[s]=r[r.length-s-1];Ct.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let s=Ct.findStartGuardPattern(r),u=a==null?null:a.get(Ye.NEED_RESULT_POINT_CALLBACK);if(u!=null){const F=new ze((s[0]+s[1])/2,t);u.foundPossibleResultPoint(F)}let f=this.decodeMiddle(r,s,this.decodeRowStringBuffer),i=f.rowOffset,o=f.resultString;if(u!=null){const F=new ze(i,t);u.foundPossibleResultPoint(F)}let d=this.decodeEnd(r,i);if(u!=null){const F=new ze((d[0]+d[1])/2,t);u.foundPossibleResultPoint(F)}let y=d[1],w=y+(y-d[0]);if(w>=r.getSize()||!r.isRange(y,w,!1))throw new ce;let C=o.toString();if(C.length<8)throw new ie;if(!Ct.checkChecksum(C))throw new me;let S=(s[1]+s[0])/2,O=(d[1]+d[0])/2,I=this.getBarcodeFormat(),k=[new ze(S,t),new ze(O,t)],U=new Me(C,null,0,k,I,new Date().getTime()),z=0;try{let F=Be.decodeRow(t,r,d[1]);U.putMetadata(Nt.UPC_EAN_EXTENSION,F.getText()),U.putAllMetadata(F.getResultMetadata()),U.addResultPoints(F.getResultPoints()),z=F.getText().length}catch{}let j=a==null?null:a.get(Ye.ALLOWED_EAN_EXTENSIONS);if(j!=null){let F=!1;for(let V in j)if(z.toString()===V){F=!0;break}if(!F)throw new ce}return U}decodeEnd(t,r){return Ct.findGuardPattern(t,r,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Ct.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return Ct.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let s=r-1;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ie;a+=u}a*=3;for(let s=r-2;s>=0;s-=2){let u=t.charAt(s).charCodeAt(0)-48;if(u<0||u>9)throw new ie;a+=u}return(1e3-a)%10}}class Lr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=r[1],i=0;for(let d=0;d<6&&f<u;d++){let y=Ct.decodeDigit(t,s,f,Ct.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let w of s)f+=w;y>=10&&(i|=1<<5-d)}a=Lr.determineFirstDigit(a,i),f=Ct.findGuardPattern(t,f,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<6&&f<u;d++){let y=Ct.decodeDigit(t,s,f,Ct.L_PATTERNS);a+=String.fromCharCode(48+y);for(let w of s)f+=w}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new ce}}Lr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Hr extends Ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f=r[1];for(let o=0;o<4&&f<u;o++){let d=Ct.decodeDigit(t,s,f,Ct.L_PATTERNS);a+=String.fromCharCode(48+d);for(let y of s)f+=y}f=Ct.findGuardPattern(t,f,!0,Ct.MIDDLE_PATTERN,new Int32Array(Ct.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<4&&f<u;o++){let d=Ct.decodeDigit(t,s,f,Ct.L_PATTERNS);a+=String.fromCharCode(48+d);for(let y of s)f+=y}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return Ne.EAN_8}}class Wi extends Ct{constructor(){super(...arguments),this.ean13Reader=new Lr}getBarcodeFormat(){return Ne.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new Me(r.substring(1),null,null,t.getResultPoints(),Ne.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new ce}reset(){this.ean13Reader.reset()}}class Yn extends Ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const s=this.decodeMiddleCounters.map(d=>d);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const u=t.getSize();let f=r[1],i=0;for(let d=0;d<6&&f<u;d++){const y=Yn.decodeDigit(t,s,f,Yn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let w of s)f+=w;y>=10&&(i|=1<<5-d)}let o=Yn.determineNumSysAndCheckDigit(a,i);return{rowOffset:f,resultString:o}}decodeEnd(t,r){return Yn.findGuardPatternWithoutCounters(t,r,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(t){return Ct.checkChecksum(Yn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][s]){let u=String.fromCharCode(48+a),f=String.fromCharCode(48+s);return u+t+f}throw ce.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new lt;a.append(t.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(s),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(s);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Cl extends Wt{constructor(t){super();let r=t==null?null:t.get(Ye.POSSIBLE_FORMATS),a=[];p(r)?(a.push(new Lr),a.push(new Wi),a.push(new Hr),a.push(new Yn)):(r.indexOf(Ne.EAN_13)>-1&&a.push(new Lr),r.indexOf(Ne.UPC_A)>-1&&a.push(new Wi),r.indexOf(Ne.EAN_8)>-1&&a.push(new Hr),r.indexOf(Ne.UPC_E)>-1&&a.push(new Yn)),this.readers=a}decodeRow(t,r,a){for(let s of this.readers)try{const u=s.decodeRow(t,r,a),f=u.getBarcodeFormat()===Ne.EAN_13&&u.getText().charAt(0)==="0",i=a==null?null:a.get(Ye.POSSIBLE_FORMATS),o=i==null||i.includes(Ne.UPC_A);if(f&&o){const d=u.getRawBytes(),y=new Me(u.getText().substring(1),d,d?d.length:null,u.getResultPoints(),Ne.UPC_A);return y.putAllMetadata(u.getResultMetadata()),y}return u}catch{}throw new ce}reset(){for(let t of this.readers)t.reset()}}class Gn extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(Wt.patternMatchVariance(t,r[a],Gn.MAX_INDIVIDUAL_VARIANCE)<Gn.MAX_AVG_VARIANCE)return a;throw new ce}static count(t){return St.sum(new Int32Array(t))}static increment(t,r){let a=0,s=r[0];for(let u=1;u<t.length;u++)r[u]>s&&(s=r[u],a=u);t[a]++}static decrement(t,r){let a=0,s=r[0];for(let u=1;u<t.length;u++)r[u]<s&&(s=r[u],a=u);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],s=r/a;if(s>=Gn.MIN_FINDER_PATTERN_RATIO&&s<=Gn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let i of t)i>f&&(f=i),i<u&&(u=i);return f<10*u}return!1}}Gn.MAX_AVG_VARIANCE=.2,Gn.MAX_INDIVIDUAL_VARIANCE=.45,Gn.MIN_FINDER_PATTERN_RATIO=9.5/12,Gn.MAX_FINDER_PATTERN_RATIO=12.5/14;class fr{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof fr))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class hr{constructor(t,r,a,s,u){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ze(a,u)),this.resultPoints.push(new ze(s,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof hr))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class vr{constructor(){}static getRSSvalue(t,r,a){let s=0;for(let o of t)s+=o;let u=0,f=0,i=t.length;for(let o=0;o<i-1;o++){let d;for(d=1,f|=1<<o;d<t[o];d++,f&=~(1<<o)){let y=vr.combins(s-d-1,i-o-2);if(a&&f===0&&s-d-(i-o-1)>=i-o-1&&(y-=vr.combins(s-d-(i-o),i-o-2)),i-o-1>1){let w=0;for(let C=s-d-(i-o-2);C>r;C--)w+=vr.combins(s-d-C-1,i-o-3);y-=w*(i-1-o)}else s-d>r&&y--;u+=y}s-=d}return u}static combins(t,r){let a,s;t-r>r?(s=r,a=t-r):(s=t-r,a=r);let u=1,f=1;for(let i=t;i>a;i--)u*=i,f<=s&&(u/=f,f++);for(;f<=s;)u/=f,f++;return u}}class da{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,s=new Ue(a),u=0,i=t[0].getRightChar().getValue();for(let o=11;o>=0;--o)(i&1<<o)!=0&&s.set(u),u++;for(let o=1;o<t.length;++o){let d=t[o],y=d.getLeftChar().getValue();for(let w=11;w>=0;--w)(y&1<<w)!=0&&s.set(u),u++;if(d.getRightChar()!=null){let w=d.getRightChar().getValue();for(let C=11;C>=0;--C)(w&1<<C)!=0&&s.set(u),u++}}return s}}class Pt{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sn{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Jn extends Sn{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Jn.FNC1}}Jn.FNC1="$";class Sr extends Sn{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $n extends Sn{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new ie;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$n.FNC1}isSecondDigitFNC1(){return this.secondDigit===$n.FNC1}isAnyFNC1(){return this.firstDigit===$n.FNC1||this.secondDigit===$n.FNC1}}$n.FNC1=10;class Fe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new ce;let r=t.substring(0,2);for(let u of Fe.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(2,u[2],t):Fe.processFixedAI(2,u[1],t);if(t.length<3)throw new ce;let a=t.substring(0,3);for(let u of Fe.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(3,u[2],t):Fe.processFixedAI(3,u[1],t);for(let u of Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,u[2],t):Fe.processFixedAI(4,u[1],t);if(t.length<4)throw new ce;let s=t.substring(0,4);for(let u of Fe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Fe.VARIABLE_LENGTH?Fe.processVariableAI(4,u[2],t):Fe.processFixedAI(4,u[1],t);throw new ce}static processFixedAI(t,r,a){if(a.length<t)throw new ce;let s=a.substring(0,t);if(a.length<t+r)throw new ce;let u=a.substring(t,t+r),f=a.substring(t+r),i="("+s+")"+u,o=Fe.parseFieldsInGeneralPurpose(f);return o==null?i:i+o}static processVariableAI(t,r,a){let s=a.substring(0,t),u;a.length<t+r?u=a.length:u=t+r;let f=a.substring(t,u),i=a.substring(u),o="("+s+")"+f,d=Fe.parseFieldsInGeneralPurpose(i);return d==null?o:o+d}}Fe.VARIABLE_LENGTH=[],Fe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Fe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Fe.VARIABLE_LENGTH,20],["22",Fe.VARIABLE_LENGTH,29],["30",Fe.VARIABLE_LENGTH,8],["37",Fe.VARIABLE_LENGTH,8],["90",Fe.VARIABLE_LENGTH,30],["91",Fe.VARIABLE_LENGTH,30],["92",Fe.VARIABLE_LENGTH,30],["93",Fe.VARIABLE_LENGTH,30],["94",Fe.VARIABLE_LENGTH,30],["95",Fe.VARIABLE_LENGTH,30],["96",Fe.VARIABLE_LENGTH,30],["97",Fe.VARIABLE_LENGTH,3],["98",Fe.VARIABLE_LENGTH,30],["99",Fe.VARIABLE_LENGTH,30]],Fe.THREE_DIGIT_DATA_LENGTH=[["240",Fe.VARIABLE_LENGTH,30],["241",Fe.VARIABLE_LENGTH,30],["242",Fe.VARIABLE_LENGTH,6],["250",Fe.VARIABLE_LENGTH,30],["251",Fe.VARIABLE_LENGTH,30],["253",Fe.VARIABLE_LENGTH,17],["254",Fe.VARIABLE_LENGTH,20],["400",Fe.VARIABLE_LENGTH,30],["401",Fe.VARIABLE_LENGTH,30],["402",17],["403",Fe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Fe.VARIABLE_LENGTH,20],["421",Fe.VARIABLE_LENGTH,15],["422",3],["423",Fe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Fe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Fe.VARIABLE_LENGTH,15],["391",Fe.VARIABLE_LENGTH,18],["392",Fe.VARIABLE_LENGTH,15],["393",Fe.VARIABLE_LENGTH,18],["703",Fe.VARIABLE_LENGTH,30]],Fe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Fe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Fe.VARIABLE_LENGTH,20],["8003",Fe.VARIABLE_LENGTH,30],["8004",Fe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Fe.VARIABLE_LENGTH,30],["8008",Fe.VARIABLE_LENGTH,12],["8018",18],["8020",Fe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Fe.VARIABLE_LENGTH,70],["8200",Fe.VARIABLE_LENGTH,70]];class dr{constructor(t){this.buffer=new lt,this.information=t}decodeAllCodes(t,r){let a=r,s=null;do{let u=this.decodeGeneralPurposeField(a,s),f=Fe.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&t.append(f),u.isRemaining()?s=""+u.getRemainingValue():s=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(t,4);return u===0?new $n(this.information.getSize(),$n.FNC1,$n.FNC1):new $n(this.information.getSize(),u-1,$n.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,s=(r-8)%11;return new $n(t+7,a,s)}extractNumericValueFromBitArray(t,r){return dr.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let s=0;for(let u=0;u<a;++u)t.get(r+u)&&(s|=1<<a-u-1);return s}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Sr(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Sr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Sr(this.current.getPosition(),this.buffer.toString()):r=new Sr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Pt(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Pt(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Pt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Sr(this.current.getPosition(),this.buffer.toString());return new Pt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Jn(t+5,Jn.FNC1);if(r>=5&&r<15)return new Jn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Jn(t+7,""+(a+1));if(a>=90&&a<116)return new Jn(t+7,""+(a+7));let s=this.extractNumericValueFromBitArray(t,8),u;switch(s){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new ie}return new Jn(t+8,u)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Jn(t+5,Jn.FNC1);if(r>=5&&r<15)return new Jn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Jn(t+6,""+(a+33));let s;switch(a){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Un("Decoding invalid alphanumeric value: "+a)}return new Jn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class tn{constructor(t){this.information=t,this.generalDecoder=new dr(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Lt extends tn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let s=0;s<4;++s){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);u/100===0&&t.append("0"),u/10===0&&t.append("0"),t.append(u)}Lt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let s=0;s<13;s++){let u=t.charAt(s+r).charCodeAt(0)-48;a+=(s&1)===0?3*u:u}a=10-a%10,a===10&&(a=0),t.append(a)}}Lt.GTIN_SIZE=40;class kn extends Lt{constructor(t){super(t)}parseInformation(){let t=new lt;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(kn.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,kn.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,kn.HEADER_SIZE+44)}}kn.HEADER_SIZE=4;class ii extends tn{constructor(t){super(t)}parseInformation(){let t=new lt;return this.getGeneralDecoder().decodeAllCodes(t,ii.HEADER_SIZE)}}ii.HEADER_SIZE=5;class Pa extends Lt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,s);let u=this.checkWeight(s),f=1e5;for(let i=0;i<5;++i)u/f===0&&t.append("0"),f/=10;t.append(u)}}class Xn extends Pa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+Pa.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new ce;let t=new lt;return this.encodeCompressedGtin(t,Xn.HEADER_SIZE),this.encodeCompressedWeight(t,Xn.HEADER_SIZE+Pa.GTIN_SIZE,Xn.WEIGHT_SIZE),t.toString()}}Xn.HEADER_SIZE=5,Xn.WEIGHT_SIZE=15;class vl extends Xn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Ur extends Xn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class gr extends Lt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<gr.HEADER_SIZE+Lt.GTIN_SIZE)throw new ce;let t=new lt;this.encodeCompressedGtin(t,gr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE+Lt.GTIN_SIZE,gr.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(gr.HEADER_SIZE+Lt.GTIN_SIZE+gr.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}gr.HEADER_SIZE=8,gr.LAST_DIGIT_SIZE=2;class An extends Lt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Lt.GTIN_SIZE)throw new ce;let t=new lt;this.encodeCompressedGtin(t,An.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Lt.GTIN_SIZE,An.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Lt.GTIN_SIZE+An.LAST_DIGIT_SIZE,An.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let s=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Lt.GTIN_SIZE+An.LAST_DIGIT_SIZE+An.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2,An.FIRST_THREE_DIGITS_SIZE=10;class nt extends Pa{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE+nt.DATE_SIZE)throw new ce;let t=new lt;return this.encodeCompressedGtin(t,nt.HEADER_SIZE),this.encodeCompressedWeight(t,nt.HEADER_SIZE+nt.GTIN_SIZE,nt.WEIGHT_SIZE),this.encodeCompressedDate(t,nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,nt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=a%32;a/=32;let u=a%12+1;a/=12;let f=a;f/10==0&&t.append("0"),t.append(f),u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}nt.HEADER_SIZE=8,nt.WEIGHT_SIZE=20,nt.DATE_SIZE=16;function Tr(N){try{if(N.get(1))return new kn(N);if(!N.get(2))return new ii(N);switch(dr.extractNumericValueFromBitArray(N,1,4)){case 4:return new vl(N);case 5:return new Ur(N)}switch(dr.extractNumericValueFromBitArray(N,1,5)){case 12:return new gr(N);case 13:return new An(N)}switch(dr.extractNumericValueFromBitArray(N,1,7)){case 56:return new nt(N,"310","11");case 57:return new nt(N,"320","11");case 58:return new nt(N,"310","13");case 59:return new nt(N,"320","13");case 60:return new nt(N,"310","15");case 61:return new nt(N,"320","15");case 62:return new nt(N,"310","17");case 63:return new nt(N,"320","17")}}catch(t){throw console.log(t),new Un("unknown decoder: "+N)}}class Tn{constructor(t,r,a,s){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Tn?Tn.equalsOrNull(t.leftchar,r.leftchar)&&Tn.equalsOrNull(t.rightchar,r.rightchar)&&Tn.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Tn.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class _n{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof _n?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((s,u)=>{r.forEach(f=>{s.getLeftChar().getValue()===f.getLeftChar().getValue()&&s.getRightChar().getValue()===f.getRightChar().getValue()&&s.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(a=!0)})}),a}}class be extends Gn{constructor(t){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(t,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ce){if(!this.pairs.length)throw new ce;a=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new ce}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let s=this.rows[a];this.pairs.length=0;for(let f of t)this.pairs.push(f.getPairs());if(this.pairs.push(s.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(t);u.push(s);try{return this.checkRows(u,a+1)}catch(f){this.verbose&&console.log(f)}}throw new ce}static isValidSequence(t){for(let r of be.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=r[s]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,s=!1,u=!1;for(;a<this.rows.length;){let f=this.rows[a];if(f.getRowNumber()>t){u=f.isEquivalent(this.pairs);break}s=f.isEquivalent(this.pairs),a++}u||s||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new _n(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let s of a.getPairs())for(let u of t)if(Tn.equals(s,u))break}}static isPartialRow(t,r){for(let a of r){let s=!0;for(let u of t){let f=!1;for(let i of a.getPairs())if(u.equals(i)){f=!0;break}if(!f){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=da.buildBitArray(t),s=Tr(r).parseInformation(),u=t[0].getFinderPattern().getResultPoints(),f=t[t.length-1].getFinderPattern().getResultPoints(),i=[u[0],u[1],f[0],f[1]];return new Me(s,null,null,i,Ne.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let s=a.getChecksumPortion(),u=2;for(let i=1;i<this.pairs.size();++i){let o=this.pairs.get(i);s+=o.getLeftChar().getChecksumPortion(),u++;let d=o.getRightChar();d!=null&&(s+=d.getChecksumPortion(),u++)}return s%=211,211*(u-4)+s==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let s=r.length%2==0;this.startFromEven&&(s=!s);let u,f=!0,i=-1;do this.findNextPair(t,r,i),u=this.parseFoundFinderPattern(t,a,s),u==null?i=be.getNextSecondBar(t,this.startEnd[0]):f=!1;while(f);let o=this.decodeDataCharacter(t,u,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ce;let d;try{d=this.decodeDataCharacter(t,u,s,!1)}catch(y){d=null,this.verbose&&console.log(y)}return new Tn(o,d,u,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let u=t.getSize(),f;a>=0?f=a:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let i=r.length%2!=0;this.startFromEven&&(i=!i);let o=!1;for(;f<u&&(o=!t.get(f),!!o);)f++;let d=0,y=f;for(let w=f;w<u;w++)if(t.get(w)!=o)s[d]++;else{if(d==3){if(i&&be.reverseCounters(s),be.isFinderPattern(s)){this.startEnd[0]=y,this.startEnd[1]=w;return}i&&be.reverseCounters(s),y+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,d--}else d++;s[d]=1,o=!o}throw new ce}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let s=t[a];t[a]=t[r-a-1],t[r-a-1]=s}}parseFoundFinderPattern(t,r,a){let s,u,f;if(a){let d=this.startEnd[0]-1;for(;d>=0&&!t.get(d);)d--;d++,s=this.startEnd[0]-d,u=d,f=this.startEnd[1]}else u=this.startEnd[0],f=t.getNextUnset(this.startEnd[1]+1),s=f-this.startEnd[1];let i=this.getDecodeFinderCounters();J.arraycopy(i,0,i,1,i.length-1),i[0]=s;let o;try{o=this.parseFinderValue(i,be.FINDER_PATTERNS)}catch{return null}return new hr(o,[u,f],u,f,r)}decodeDataCharacter(t,r,a,s){let u=this.getDataCharacterCounters();for(let re=0;re<u.length;re++)u[re]=0;if(s)be.recordPatternInReverse(t,r.getStartEnd()[0],u);else{be.recordPattern(t,r.getStartEnd()[1],u);for(let re=0,xe=u.length-1;re<xe;re++,xe--){let Oe=u[re];u[re]=u[xe],u[xe]=Oe}}let f=17,i=St.sum(new Int32Array(u))/f,o=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(i-o)/o>.3)throw new ce;let d=this.getOddCounts(),y=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let re=0;re<u.length;re++){let xe=1*u[re]/i,Oe=xe+.5;if(Oe<1){if(xe<.3)throw new ce;Oe=1}else if(Oe>8){if(xe>8.7)throw new ce;Oe=8}let Ie=re/2;(re&1)==0?(d[Ie]=Oe,w[Ie]=xe-Oe):(y[Ie]=Oe,C[Ie]=xe-Oe)}this.adjustOddEvenCounts(f);let S=4*r.getValue()+(a?0:2)+(s?0:1)-1,O=0,I=0;for(let re=d.length-1;re>=0;re--){if(be.isNotA1left(r,a,s)){let xe=be.WEIGHTS[S][2*re];I+=d[re]*xe}O+=d[re]}let k=0;for(let re=y.length-1;re>=0;re--)if(be.isNotA1left(r,a,s)){let xe=be.WEIGHTS[S][2*re+1];k+=y[re]*xe}let U=I+k;if((O&1)!=0||O>13||O<4)throw new ce;let z=(13-O)/2,j=be.SYMBOL_WIDEST[z],F=9-j,V=vr.getRSSvalue(d,j,!0),H=vr.getRSSvalue(y,F,!1),K=be.EVEN_TOTAL_SUBSET[z],W=be.GSUM[z],q=V*K+H+W;return new fr(q,U)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=St.sum(new Int32Array(this.getOddCounts())),a=St.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1;r>13?u=!0:r<4&&(s=!0);let f=!1,i=!1;a>13?i=!0:a<4&&(f=!0);let o=r+a-t,d=(r&1)==1,y=(a&1)==0;if(o==1)if(d){if(y)throw new ce;u=!0}else{if(!y)throw new ce;i=!0}else if(o==-1)if(d){if(y)throw new ce;s=!0}else{if(!y)throw new ce;f=!0}else if(o==0){if(d){if(!y)throw new ce;r<a?(s=!0,i=!0):(u=!0,f=!0)}else if(y)throw new ce}else throw new ce;if(s){if(u)throw new ce;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(i)throw new ce;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}i&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class ga extends fr{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Yt extends Gn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const s=this.decodePair(r,!1,t,a);Yt.addOrTally(this.possibleLeftPairs,s),r.reverse();let u=this.decodePair(r,!0,t,a);Yt.addOrTally(this.possibleRightPairs,u),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let i of this.possibleRightPairs)if(i.getCount()>1&&Yt.checkChecksum(f,i))return Yt.constructResult(f,i)}throw new ce}static addOrTally(t,r){if(r==null)return;let a=!1;for(let s of t)if(s.getValue()===r.getValue()){s.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),s=new String(a).toString(),u=new lt;for(let d=13-s.length;d>0;d--)u.append("0");u.append(s);let f=0;for(let d=0;d<13;d++){let y=u.charAt(d).charCodeAt(0)-48;f+=(d&1)===0?3*y:y}f=10-f%10,f===10&&(f=0),u.append(f.toString());let i=t.getFinderPattern().getResultPoints(),o=r.getFinderPattern().getResultPoints();return new Me(u.toString(),null,0,[i[0],i[1],o[0],o[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,a===s}decodePair(t,r,a,s){try{let u=this.findFinderPattern(t,r),f=this.parseFoundFinderPattern(t,a,r,u),i=s==null?null:s.get(Ye.NEED_RESULT_POINT_CALLBACK);if(i!=null){let y=(u[0]+u[1])/2;r&&(y=t.getSize()-1-y),i.foundPossibleResultPoint(new ze(y,a))}let o=this.decodeDataCharacter(t,f,!0),d=this.decodeDataCharacter(t,f,!1);return new ga(1597*o.getValue()+d.getValue(),o.getChecksumPortion()+4*d.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(t,r,a){let s=this.getDataCharacterCounters();for(let k=0;k<s.length;k++)s[k]=0;if(a)Wt.recordPatternInReverse(t,r.getStartEnd()[0],s);else{Wt.recordPattern(t,r.getStartEnd()[1]+1,s);for(let k=0,U=s.length-1;k<U;k++,U--){let z=s[k];s[k]=s[U],s[U]=z}}let u=a?16:15,f=St.sum(new Int32Array(s))/u,i=this.getOddCounts(),o=this.getEvenCounts(),d=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let k=0;k<s.length;k++){let U=s[k]/f,z=Math.floor(U+.5);z<1?z=1:z>8&&(z=8);let j=Math.floor(k/2);(k&1)===0?(i[j]=z,d[j]=U-z):(o[j]=z,y[j]=U-z)}this.adjustOddEvenCounts(a,u);let w=0,C=0;for(let k=i.length-1;k>=0;k--)C*=9,C+=i[k],w+=i[k];let S=0,O=0;for(let k=o.length-1;k>=0;k--)S*=9,S+=o[k],O+=o[k];let I=C+3*S;if(a){if((w&1)!==0||w>12||w<4)throw new ce;let k=(12-w)/2,U=Yt.OUTSIDE_ODD_WIDEST[k],z=9-U,j=vr.getRSSvalue(i,U,!1),F=vr.getRSSvalue(o,z,!0),V=Yt.OUTSIDE_EVEN_TOTAL_SUBSET[k],H=Yt.OUTSIDE_GSUM[k];return new fr(j*V+F+H,I)}else{if((O&1)!==0||O>10||O<4)throw new ce;let k=(10-O)/2,U=Yt.INSIDE_ODD_WIDEST[k],z=9-U,j=vr.getRSSvalue(i,U,!0),F=vr.getRSSvalue(o,z,!1),V=Yt.INSIDE_ODD_TOTAL_SUBSET[k],H=Yt.INSIDE_GSUM[k];return new fr(F*V+j+H,I)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let s=t.getSize(),u=!1,f=0;for(;f<s&&(u=!t.get(f),r!==u);)f++;let i=0,o=f;for(let d=f;d<s;d++)if(t.get(d)!==u)a[i]++;else{if(i===3){if(Gn.isFinderPattern(a))return[o,d];o+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,i--}else i++;a[i]=1,u=!u}throw new ce}parseFoundFinderPattern(t,r,a,s){let u=t.get(s[0]),f=s[0]-1;for(;f>=0&&u!==t.get(f);)f--;f++;const i=s[0]-f,o=this.getDecodeFinderCounters(),d=new Int32Array(o.length);J.arraycopy(o,0,d,1,o.length-1),d[0]=i;const y=this.parseFinderValue(d,Yt.FINDER_PATTERNS);let w=f,C=s[1];return a&&(w=t.getSize()-1-w,C=t.getSize()-1-C),new hr(y,[f,s[1]],w,C,r)}adjustOddEvenCounts(t,r){let a=St.sum(new Int32Array(this.getOddCounts())),s=St.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,i=!1,o=!1;t?(a>12?f=!0:a<4&&(u=!0),s>12?o=!0:s<4&&(i=!0)):(a>11?f=!0:a<5&&(u=!0),s>10?o=!0:s<4&&(i=!0));let d=a+s-r,y=(a&1)===(t?1:0),w=(s&1)===1;if(d===1)if(y){if(w)throw new ce;f=!0}else{if(!w)throw new ce;o=!0}else if(d===-1)if(y){if(w)throw new ce;u=!0}else{if(!w)throw new ce;i=!0}else if(d===0){if(y){if(!w)throw new ce;a<s?(u=!0,o=!0):(f=!0,i=!0)}else if(w)throw new ce}else throw new ce;if(u){if(f)throw new ce;Gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(o)throw new ce;Gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Yt.OUTSIDE_GSUM=[0,161,961,2015,2715],Yt.INSIDE_GSUM=[0,336,1036,1516],Yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Yt.INSIDE_ODD_WIDEST=[2,4,6,8],Yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class mr extends Wt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(Ye.POSSIBLE_FORMATS):null,s=t&&t.get(Ye.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Ne.EAN_13)||a.includes(Ne.UPC_A)||a.includes(Ne.EAN_8)||a.includes(Ne.UPC_E))&&this.readers.push(new Cl(t)),a.includes(Ne.CODE_39)&&this.readers.push(new It(s)),a.includes(Ne.CODE_128)&&this.readers.push(new _e),a.includes(Ne.ITF)&&this.readers.push(new Se),a.includes(Ne.RSS_14)&&this.readers.push(new Yt),a.includes(Ne.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new Cl(t)),this.readers.push(new It),this.readers.push(new Cl(t)),this.readers.push(new _e),this.readers.push(new Se),this.readers.push(new Yt),this.readers.push(new be(this.verbose)))}decodeRow(t,r,a){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,a)}catch{}throw new ce}reset(){this.readers.forEach(t=>t.reset())}}class zi extends De{constructor(t=500,r){super(new mr(r),t,r)}}class Ut{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Tt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(t,r,a,s,u,f){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=u,this.ecBlocks=f;let i=0;const o=f.getECCodewords(),d=f.getECBlocks();for(let y of d)i+=y.getCount()*(y.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new ie;for(let a of vt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new ie}toString(){return""+this.versionNumber}static buildVersions(){return[new vt(1,10,10,8,8,new Ut(5,new Tt(1,3))),new vt(2,12,12,10,10,new Ut(7,new Tt(1,5))),new vt(3,14,14,12,12,new Ut(10,new Tt(1,8))),new vt(4,16,16,14,14,new Ut(12,new Tt(1,12))),new vt(5,18,18,16,16,new Ut(14,new Tt(1,18))),new vt(6,20,20,18,18,new Ut(18,new Tt(1,22))),new vt(7,22,22,20,20,new Ut(20,new Tt(1,30))),new vt(8,24,24,22,22,new Ut(24,new Tt(1,36))),new vt(9,26,26,24,24,new Ut(28,new Tt(1,44))),new vt(10,32,32,14,14,new Ut(36,new Tt(1,62))),new vt(11,36,36,16,16,new Ut(42,new Tt(1,86))),new vt(12,40,40,18,18,new Ut(48,new Tt(1,114))),new vt(13,44,44,20,20,new Ut(56,new Tt(1,144))),new vt(14,48,48,22,22,new Ut(68,new Tt(1,174))),new vt(15,52,52,24,24,new Ut(42,new Tt(2,102))),new vt(16,64,64,14,14,new Ut(56,new Tt(2,140))),new vt(17,72,72,16,16,new Ut(36,new Tt(4,92))),new vt(18,80,80,18,18,new Ut(48,new Tt(4,114))),new vt(19,88,88,20,20,new Ut(56,new Tt(4,144))),new vt(20,96,96,22,22,new Ut(68,new Tt(4,174))),new vt(21,104,104,24,24,new Ut(56,new Tt(6,136))),new vt(22,120,120,18,18,new Ut(68,new Tt(6,175))),new vt(23,132,132,20,20,new Ut(62,new Tt(8,163))),new vt(24,144,144,22,22,new Ut(62,new Tt(8,156),new Tt(2,155))),new vt(25,8,18,6,16,new Ut(7,new Tt(1,5))),new vt(26,8,32,6,14,new Ut(11,new Tt(1,10))),new vt(27,12,26,10,24,new Ut(14,new Tt(1,16))),new vt(28,12,36,10,16,new Ut(18,new Tt(1,22))),new vt(29,16,36,14,16,new Ut(24,new Tt(1,32))),new vt(30,16,48,14,22,new Ut(28,new Tt(1,49)))]}}vt.VERSIONS=vt.buildVersions();class gt{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new ie;this.version=gt.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ot(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return vt.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,s=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let i=!1,o=!1,d=!1,y=!1;do if(a===u&&s===0&&!i)t[r++]=this.readCorner1(u,f)&255,a-=2,s+=2,i=!0;else if(a===u-2&&s===0&&(f&3)!==0&&!o)t[r++]=this.readCorner2(u,f)&255,a-=2,s+=2,o=!0;else if(a===u+4&&s===2&&(f&7)===0&&!d)t[r++]=this.readCorner3(u,f)&255,a-=2,s+=2,d=!0;else if(a===u-2&&s===0&&(f&7)===4&&!y)t[r++]=this.readCorner4(u,f)&255,a-=2,s+=2,y=!0;else{do a<u&&s>=0&&!this.readMappingMatrix.get(s,a)&&(t[r++]=this.readUtah(a,s,u,f)&255),a-=2,s+=2;while(a>=0&&s<f);a+=1,s+=3;do a>=0&&s<f&&!this.readMappingMatrix.get(s,a)&&(t[r++]=this.readUtah(a,s,u,f)&255),a+=2,s-=2;while(a<u&&s>=0);a+=3,s+=1}while(a<u||s<f);if(r!==this.version.getTotalCodewords())throw new ie;return t}readModule(t,r,a,s){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,s){let u=0;return this.readModule(t-2,r-2,a,s)&&(u|=1),u<<=1,this.readModule(t-2,r-1,a,s)&&(u|=1),u<<=1,this.readModule(t-1,r-2,a,s)&&(u|=1),u<<=1,this.readModule(t-1,r-1,a,s)&&(u|=1),u<<=1,this.readModule(t-1,r,a,s)&&(u|=1),u<<=1,this.readModule(t,r-2,a,s)&&(u|=1),u<<=1,this.readModule(t,r-1,a,s)&&(u|=1),u<<=1,this.readModule(t,r,a,s)&&(u|=1),u}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new B("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=r/s|0,i=a/u|0,o=f*s,d=i*u,y=new Ot(d,o);for(let w=0;w<f;++w){const C=w*s;for(let S=0;S<i;++S){const O=S*u;for(let I=0;I<s;++I){const k=w*(s+2)+1+I,U=C+I;for(let z=0;z<u;++z){const j=S*(u+2)+1+z;if(t.get(j,k)){const F=O+z;y.set(F,U)}}}}}return y}}class Fi{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let s=0;const u=a.getECBlocks();for(let I of u)s+=I.getCount();const f=new Array(s);let i=0;for(let I of u)for(let k=0;k<I.getCount();k++){const U=I.getDataCodewords(),z=a.getECCodewords()+U;f[i++]=new Fi(U,new Uint8Array(z))}const d=f[0].codewords.length-a.getECCodewords(),y=d-1;let w=0;for(let I=0;I<y;I++)for(let k=0;k<i;k++)f[k].codewords[I]=t[w++];const C=r.getVersionNumber()===24,S=C?8:i;for(let I=0;I<S;I++)f[I].codewords[d-1]=t[w++];const O=f[0].codewords.length;for(let I=d;I<O;I++)for(let k=0;k<i;k++){const U=C?(k+8)%i:k,z=C&&U>7?I-1:I;f[U].codewords[z]=t[w++]}if(w!==t.length)throw new B;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _r{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new B(""+t);let r=0,a=this.bitOffset,s=this.byteOffset;const u=this.bytes;if(a>0){const f=8-a,i=t<f?t:f,o=f-i,d=255>>8-i<<o;r=(u[s]&d)>>o,t-=i,a+=i,a===8&&(a=0,s++)}if(t>0){for(;t>=8;)r=r<<8|u[s]&255,s++,t-=8;if(t>0){const f=8-t,i=255>>f<<f;r=r<<t|(u[s]&i)>>f,a+=t}}return this.bitOffset=a,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Mt;(function(N){N[N.PAD_ENCODE=0]="PAD_ENCODE",N[N.ASCII_ENCODE=1]="ASCII_ENCODE",N[N.C40_ENCODE=2]="C40_ENCODE",N[N.TEXT_ENCODE=3]="TEXT_ENCODE",N[N.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",N[N.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",N[N.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mt||(Mt={}));class pr{static decode(t){const r=new _r(t),a=new lt,s=new lt,u=new Array;let f=Mt.ASCII_ENCODE;do if(f===Mt.ASCII_ENCODE)f=this.decodeAsciiSegment(r,a,s);else{switch(f){case Mt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Mt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Mt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Mt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Mt.BASE256_ENCODE:this.decodeBase256Segment(r,a,u);break;default:throw new ie}f=Mt.ASCII_ENCODE}while(f!==Mt.PAD_ENCODE&&r.available()>0);return s.length()>0&&a.append(s.toString()),new rn(t,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(t,r,a){let s=!1;do{let u=t.readBits(8);if(u===0)throw new ie;if(u<=128)return s&&(u+=128),r.append(String.fromCharCode(u-1)),Mt.ASCII_ENCODE;if(u===129)return Mt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&r.append("0"),r.append(""+f)}else switch(u){case 230:return Mt.C40_ENCODE;case 231:return Mt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Mt.ANSIX12_ENCODE;case 239:return Mt.TEXT_ENCODE;case 240:return Mt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||t.available()!==0)throw new ie;break}}while(t.available()>0);return Mt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const s=[];let u=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let i=0;i<3;i++){const o=s[i];switch(u){case 0:if(o<3)u=o+1;else if(o<this.C40_BASIC_SET_CHARS.length){const d=this.C40_BASIC_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else throw new ie;break;case 1:a?(r.append(String.fromCharCode(o+128)),a=!1):r.append(String.fromCharCode(o)),u=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const d=this.C40_SHIFT2_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else switch(o){case 27:r.append("");break;case 30:a=!0;break;default:throw new ie}u=0;break;case 3:a?(r.append(String.fromCharCode(o+224)),a=!1):r.append(String.fromCharCode(o+96)),u=0;break;default:throw new ie}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,s=[],u=0;do{if(t.available()===8)return;const f=t.readBits(8);if(f===254)return;this.parseTwoBytes(f,t.readBits(8),s);for(let i=0;i<3;i++){const o=s[i];switch(u){case 0:if(o<3)u=o+1;else if(o<this.TEXT_BASIC_SET_CHARS.length){const d=this.TEXT_BASIC_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else throw new ie;break;case 1:a?(r.append(String.fromCharCode(o+128)),a=!1):r.append(String.fromCharCode(o)),u=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const d=this.TEXT_SHIFT2_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d)}else switch(o){case 27:r.append("");break;case 30:a=!0;break;default:throw new ie}u=0;break;case 3:if(o<this.TEXT_SHIFT3_SET_CHARS.length){const d=this.TEXT_SHIFT3_SET_CHARS[o];a?(r.append(String.fromCharCode(d.charCodeAt(0)+128)),a=!1):r.append(d),u=0}else throw new ie;break;default:throw new ie}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),a);for(let u=0;u<3;u++){const f=a[u];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new ie;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let s=(t<<8)+r-1,u=Math.floor(s/1600);a[0]=u,s-=u*1600,u=Math.floor(s/40),a[1]=u,a[2]=s-u*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let s=t.readBits(6);if(s===31){const u=8-t.getBitOffset();u!==8&&t.readBits(u);return}(s&32)===0&&(s|=64),r.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let s=1+t.getByteOffset();const u=this.unrandomize255State(t.readBits(8),s++);let f;if(u===0?f=t.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(t.readBits(8),s++),f<0)throw new ie;const i=new Uint8Array(f);for(let o=0;o<f;o++){if(t.available()<8)throw new ie;i[o]=this.unrandomize255State(t.readBits(8),s++)}a.push(i);try{r.append(Zt.decode(i,je.ISO88591))}catch(o){throw new Un("Platform does not support required encoding: "+o.message)}}static unrandomize255State(t,r){const a=149*r%255+1,s=t-a;return s>=0?s:s+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Zl{constructor(){this.rsDecoder=new Bi(At.DATA_MATRIX_FIELD_256)}decode(t){const r=new gt(t),a=r.getVersion(),s=r.readCodewords(),u=Fi.getDataBlocks(s,a);let f=0;for(let d of u)f+=d.getNumDataCodewords();const i=new Uint8Array(f),o=u.length;for(let d=0;d<o;d++){const y=u[d],w=y.getCodewords(),C=y.getNumDataCodewords();this.correctErrors(w,C);for(let S=0;S<C;S++)i[S*o+d]=w[S]}return pr.decode(i)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new me}for(let s=0;s<r;s++)t[s]=a[s]}}class fn{constructor(t){this.image=t,this.rectangleDetector=new En(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new ce;r=this.shiftToModuleCenter(r);const a=r[0],s=r[1],u=r[2],f=r[3];let i=this.transitionsBetween(a,f)+1,o=this.transitionsBetween(u,f)+1;(i&1)===1&&(i+=1),(o&1)===1&&(o+=1),4*i<7*o&&4*o<7*i&&(i=o=Math.max(i,o));let d=fn.sampleGrid(this.image,a,s,u,f,i,o);return new fa(d,[a,s,u,f])}static shiftPoint(t,r,a){let s=(r.getX()-t.getX())/(a+1),u=(r.getY()-t.getY())/(a+1);return new ze(t.getX()+s,t.getY()+u)}static moveAway(t,r,a){let s=t.getX(),u=t.getY();return s<r?s-=1:s+=1,u<a?u-=1:u+=1,new ze(s,u)}detectSolid1(t){let r=t[0],a=t[1],s=t[3],u=t[2],f=this.transitionsBetween(r,a),i=this.transitionsBetween(a,s),o=this.transitionsBetween(s,u),d=this.transitionsBetween(u,r),y=f,w=[u,r,a,s];return y>i&&(y=i,w[0]=r,w[1]=a,w[2]=s,w[3]=u),y>o&&(y=o,w[0]=a,w[1]=s,w[2]=u,w[3]=r),y>d&&(w[0]=s,w[1]=u,w[2]=r,w[3]=a),w}detectSolid2(t){let r=t[0],a=t[1],s=t[2],u=t[3],f=this.transitionsBetween(r,u),i=fn.shiftPoint(a,s,(f+1)*4),o=fn.shiftPoint(s,a,(f+1)*4),d=this.transitionsBetween(i,r),y=this.transitionsBetween(o,u);return d<y?(t[0]=r,t[1]=a,t[2]=s,t[3]=u):(t[0]=a,t[1]=s,t[2]=u,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],s=t[2],u=t[3],f=this.transitionsBetween(r,u),i=this.transitionsBetween(a,u),o=fn.shiftPoint(r,a,(i+1)*4),d=fn.shiftPoint(s,a,(f+1)*4);f=this.transitionsBetween(o,u),i=this.transitionsBetween(d,u);let y=new ze(u.getX()+(s.getX()-a.getX())/(f+1),u.getY()+(s.getY()-a.getY())/(f+1)),w=new ze(u.getX()+(r.getX()-a.getX())/(i+1),u.getY()+(r.getY()-a.getY())/(i+1));if(!this.isValid(y))return this.isValid(w)?w:null;if(!this.isValid(w))return y;let C=this.transitionsBetween(o,y)+this.transitionsBetween(d,y),S=this.transitionsBetween(o,w)+this.transitionsBetween(d,w);return C>S?y:w}shiftToModuleCenter(t){let r=t[0],a=t[1],s=t[2],u=t[3],f=this.transitionsBetween(r,u)+1,i=this.transitionsBetween(s,u)+1,o=fn.shiftPoint(r,a,i*4),d=fn.shiftPoint(s,a,f*4);f=this.transitionsBetween(o,u)+1,i=this.transitionsBetween(d,u)+1,(f&1)===1&&(f+=1),(i&1)===1&&(i+=1);let y=(r.getX()+a.getX()+s.getX()+u.getX())/4,w=(r.getY()+a.getY()+s.getY()+u.getY())/4;r=fn.moveAway(r,y,w),a=fn.moveAway(a,y,w),s=fn.moveAway(s,y,w),u=fn.moveAway(u,y,w);let C,S;return o=fn.shiftPoint(r,a,i*4),o=fn.shiftPoint(o,u,f*4),C=fn.shiftPoint(a,r,i*4),C=fn.shiftPoint(C,s,f*4),d=fn.shiftPoint(s,u,i*4),d=fn.shiftPoint(d,a,f*4),S=fn.shiftPoint(u,s,i*4),S=fn.shiftPoint(S,r,f*4),[o,C,d,S]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,s,u,f,i){return cr.getInstance().sampleGrid(t,f,i,.5,.5,f-.5,.5,f-.5,i-.5,.5,i-.5,r.getX(),r.getY(),u.getX(),u.getY(),s.getX(),s.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.trunc(r.getX()),f=Math.trunc(r.getY()),i=Math.abs(f-s)>Math.abs(u-a);if(i){let I=a;a=s,s=I,I=u,u=f,f=I}let o=Math.abs(u-a),d=Math.abs(f-s),y=-o/2,w=s<f?1:-1,C=a<u?1:-1,S=0,O=this.image.get(i?s:a,i?a:s);for(let I=a,k=s;I!==u;I+=C){let U=this.image.get(i?k:I,i?I:k);if(U!==O&&(S++,O=U),y+=d,y>0){if(k===f)break;k+=w,y-=o}}return S}}class Vr{constructor(){this.decoder=new Zl}decode(t,r=null){let a,s;if(r!=null&&r.has(Ye.PURE_BARCODE)){const d=Vr.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(d),s=Vr.NO_POINTS}else{const d=new fn(t.getBlackMatrix()).detect();a=this.decoder.decode(d.getBits()),s=d.getPoints()}const u=a.getRawBytes(),f=new Me(a.getText(),u,8*u.length,s,Ne.DATA_MATRIX,J.currentTimeMillis()),i=a.getByteSegments();i!=null&&f.putMetadata(Nt.BYTE_SEGMENTS,i);const o=a.getECLevel();return o!=null&&f.putMetadata(Nt.ERROR_CORRECTION_LEVEL,o),f}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new ce;const s=this.moduleSize(r,t);let u=r[1];const f=a[1];let i=r[0];const d=(a[0]-i+1)/s,y=(f-u+1)/s;if(d<=0||y<=0)throw new ce;const w=s/2;u+=w,i+=w;const C=new Ot(d,y);for(let S=0;S<y;S++){const O=u+S*s;for(let I=0;I<d;I++)t.get(i+I*s,O)&&C.set(I,S)}return C}static moduleSize(t,r){const a=r.getWidth();let s=t[0];const u=t[1];for(;s<a&&r.get(s,u);)s++;if(s===a)throw new ce;const f=s-t[0];if(f===0)throw new ce;return f}}Vr.NO_POINTS=[];class Gt extends De{constructor(t=500){super(new Vr,t)}}var Yr;(function(N){N[N.L=0]="L",N[N.M=1]="M",N[N.Q=2]="Q",N[N.H=3]="H"})(Yr||(Yr={}));class dt{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,dt.FOR_BITS.set(a,this),dt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return dt.L;case"M":return dt.M;case"Q":return dt.Q;case"H":return dt.H;default:throw new M(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof dt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=dt.FOR_BITS.size)throw new B;return dt.FOR_BITS.get(t)}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.L=new dt(Yr.L,"L",1),dt.M=new dt(Yr.M,"M",0),dt.Q=new dt(Yr.Q,"Q",3),dt.H=new dt(Yr.H,"H",2);class yn{constructor(t){this.errorCorrectionLevel=dt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return pe.bitCount(t^r)}static decodeFormatInformation(t,r){const a=yn.doDecodeFormatInformation(t,r);return a!==null?a:yn.doDecodeFormatInformation(t^yn.FORMAT_INFO_MASK_QR,r^yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,s=0;for(const u of yn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===t||f===r)return new yn(u[1]);let i=yn.numBitsDiffering(t,f);i<a&&(s=u[1],a=i),t!==r&&(i=yn.numBitsDiffering(r,f),i<a&&(s=u[1],a=i))}return a<=3?new yn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof yn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}yn.FORMAT_INFO_MASK_QR=21522,yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class P{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let s=0;const u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();for(const i of f)s+=i.getCount()*(i.getDataCodewords()+u);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new ie;try{return this.getVersionForNumber((t-17)/4)}catch{throw new ie}}static getVersionForNumber(t){if(t<1||t>40)throw new B;return Ge.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let s=0;s<Ge.VERSION_DECODE_INFO.length;s++){const u=Ge.VERSION_DECODE_INFO[s];if(u===t)return Ge.getVersionForNumber(s+7);const f=yn.numBitsDiffering(t,u);f<r&&(a=s+7,r=f)}return r<=3?Ge.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ot(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let s=0;s<a;s++){const u=this.alignmentPatternCenters[s]-2;for(let f=0;f<a;f++)s===0&&(f===0||f===a-1)||s===a-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new Q(7,new P(1,19)),new Q(10,new P(1,16)),new Q(13,new P(1,13)),new Q(17,new P(1,9))),new Ge(2,Int32Array.from([6,18]),new Q(10,new P(1,34)),new Q(16,new P(1,28)),new Q(22,new P(1,22)),new Q(28,new P(1,16))),new Ge(3,Int32Array.from([6,22]),new Q(15,new P(1,55)),new Q(26,new P(1,44)),new Q(18,new P(2,17)),new Q(22,new P(2,13))),new Ge(4,Int32Array.from([6,26]),new Q(20,new P(1,80)),new Q(18,new P(2,32)),new Q(26,new P(2,24)),new Q(16,new P(4,9))),new Ge(5,Int32Array.from([6,30]),new Q(26,new P(1,108)),new Q(24,new P(2,43)),new Q(18,new P(2,15),new P(2,16)),new Q(22,new P(2,11),new P(2,12))),new Ge(6,Int32Array.from([6,34]),new Q(18,new P(2,68)),new Q(16,new P(4,27)),new Q(24,new P(4,19)),new Q(28,new P(4,15))),new Ge(7,Int32Array.from([6,22,38]),new Q(20,new P(2,78)),new Q(18,new P(4,31)),new Q(18,new P(2,14),new P(4,15)),new Q(26,new P(4,13),new P(1,14))),new Ge(8,Int32Array.from([6,24,42]),new Q(24,new P(2,97)),new Q(22,new P(2,38),new P(2,39)),new Q(22,new P(4,18),new P(2,19)),new Q(26,new P(4,14),new P(2,15))),new Ge(9,Int32Array.from([6,26,46]),new Q(30,new P(2,116)),new Q(22,new P(3,36),new P(2,37)),new Q(20,new P(4,16),new P(4,17)),new Q(24,new P(4,12),new P(4,13))),new Ge(10,Int32Array.from([6,28,50]),new Q(18,new P(2,68),new P(2,69)),new Q(26,new P(4,43),new P(1,44)),new Q(24,new P(6,19),new P(2,20)),new Q(28,new P(6,15),new P(2,16))),new Ge(11,Int32Array.from([6,30,54]),new Q(20,new P(4,81)),new Q(30,new P(1,50),new P(4,51)),new Q(28,new P(4,22),new P(4,23)),new Q(24,new P(3,12),new P(8,13))),new Ge(12,Int32Array.from([6,32,58]),new Q(24,new P(2,92),new P(2,93)),new Q(22,new P(6,36),new P(2,37)),new Q(26,new P(4,20),new P(6,21)),new Q(28,new P(7,14),new P(4,15))),new Ge(13,Int32Array.from([6,34,62]),new Q(26,new P(4,107)),new Q(22,new P(8,37),new P(1,38)),new Q(24,new P(8,20),new P(4,21)),new Q(22,new P(12,11),new P(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new Q(30,new P(3,115),new P(1,116)),new Q(24,new P(4,40),new P(5,41)),new Q(20,new P(11,16),new P(5,17)),new Q(24,new P(11,12),new P(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new Q(22,new P(5,87),new P(1,88)),new Q(24,new P(5,41),new P(5,42)),new Q(30,new P(5,24),new P(7,25)),new Q(24,new P(11,12),new P(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new Q(24,new P(5,98),new P(1,99)),new Q(28,new P(7,45),new P(3,46)),new Q(24,new P(15,19),new P(2,20)),new Q(30,new P(3,15),new P(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new Q(28,new P(1,107),new P(5,108)),new Q(28,new P(10,46),new P(1,47)),new Q(28,new P(1,22),new P(15,23)),new Q(28,new P(2,14),new P(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new Q(30,new P(5,120),new P(1,121)),new Q(26,new P(9,43),new P(4,44)),new Q(28,new P(17,22),new P(1,23)),new Q(28,new P(2,14),new P(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new Q(28,new P(3,113),new P(4,114)),new Q(26,new P(3,44),new P(11,45)),new Q(26,new P(17,21),new P(4,22)),new Q(26,new P(9,13),new P(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new Q(28,new P(3,107),new P(5,108)),new Q(26,new P(3,41),new P(13,42)),new Q(30,new P(15,24),new P(5,25)),new Q(28,new P(15,15),new P(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new Q(28,new P(4,116),new P(4,117)),new Q(26,new P(17,42)),new Q(28,new P(17,22),new P(6,23)),new Q(30,new P(19,16),new P(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new Q(28,new P(2,111),new P(7,112)),new Q(28,new P(17,46)),new Q(30,new P(7,24),new P(16,25)),new Q(24,new P(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new Q(30,new P(4,121),new P(5,122)),new Q(28,new P(4,47),new P(14,48)),new Q(30,new P(11,24),new P(14,25)),new Q(30,new P(16,15),new P(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new Q(30,new P(6,117),new P(4,118)),new Q(28,new P(6,45),new P(14,46)),new Q(30,new P(11,24),new P(16,25)),new Q(30,new P(30,16),new P(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new Q(26,new P(8,106),new P(4,107)),new Q(28,new P(8,47),new P(13,48)),new Q(30,new P(7,24),new P(22,25)),new Q(30,new P(22,15),new P(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new Q(28,new P(10,114),new P(2,115)),new Q(28,new P(19,46),new P(4,47)),new Q(28,new P(28,22),new P(6,23)),new Q(30,new P(33,16),new P(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new Q(30,new P(8,122),new P(4,123)),new Q(28,new P(22,45),new P(3,46)),new Q(30,new P(8,23),new P(26,24)),new Q(30,new P(12,15),new P(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new P(3,117),new P(10,118)),new Q(28,new P(3,45),new P(23,46)),new Q(30,new P(4,24),new P(31,25)),new Q(30,new P(11,15),new P(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new P(7,116),new P(7,117)),new Q(28,new P(21,45),new P(7,46)),new Q(30,new P(1,23),new P(37,24)),new Q(30,new P(19,15),new P(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new P(5,115),new P(10,116)),new Q(28,new P(19,47),new P(10,48)),new Q(30,new P(15,24),new P(25,25)),new Q(30,new P(23,15),new P(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new P(13,115),new P(3,116)),new Q(28,new P(2,46),new P(29,47)),new Q(30,new P(42,24),new P(1,25)),new Q(30,new P(23,15),new P(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new P(17,115)),new Q(28,new P(10,46),new P(23,47)),new Q(30,new P(10,24),new P(35,25)),new Q(30,new P(19,15),new P(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new P(17,115),new P(1,116)),new Q(28,new P(14,46),new P(21,47)),new Q(30,new P(29,24),new P(19,25)),new Q(30,new P(11,15),new P(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new P(13,115),new P(6,116)),new Q(28,new P(14,46),new P(23,47)),new Q(30,new P(44,24),new P(7,25)),new Q(30,new P(59,16),new P(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new P(12,121),new P(7,122)),new Q(28,new P(12,47),new P(26,48)),new Q(30,new P(39,24),new P(14,25)),new Q(30,new P(22,15),new P(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new P(6,121),new P(14,122)),new Q(28,new P(6,47),new P(34,48)),new Q(30,new P(46,24),new P(10,25)),new Q(30,new P(2,15),new P(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new P(17,122),new P(4,123)),new Q(28,new P(29,46),new P(14,47)),new Q(30,new P(49,24),new P(10,25)),new Q(30,new P(24,15),new P(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new P(4,122),new P(18,123)),new Q(28,new P(13,46),new P(32,47)),new Q(30,new P(48,24),new P(14,25)),new Q(30,new P(42,15),new P(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new P(20,117),new P(4,118)),new Q(28,new P(40,47),new P(7,48)),new Q(30,new P(43,24),new P(22,25)),new Q(30,new P(10,15),new P(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new P(19,118),new P(6,119)),new Q(28,new P(18,47),new P(31,48)),new Q(30,new P(34,24),new P(34,25)),new Q(30,new P(20,15),new P(61,16)))];var Rn;(function(N){N[N.DATA_MASK_000=0]="DATA_MASK_000",N[N.DATA_MASK_001=1]="DATA_MASK_001",N[N.DATA_MASK_010=2]="DATA_MASK_010",N[N.DATA_MASK_011=3]="DATA_MASK_011",N[N.DATA_MASK_100=4]="DATA_MASK_100",N[N.DATA_MASK_101=5]="DATA_MASK_101",N[N.DATA_MASK_110=6]="DATA_MASK_110",N[N.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class er{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let s=0;s<r;s++)this.isMasked(a,s)&&t.flip(s,a)}}er.values=new Map([[Rn.DATA_MASK_000,new er(Rn.DATA_MASK_000,(N,t)=>(N+t&1)===0)],[Rn.DATA_MASK_001,new er(Rn.DATA_MASK_001,(N,t)=>(N&1)===0)],[Rn.DATA_MASK_010,new er(Rn.DATA_MASK_010,(N,t)=>t%3===0)],[Rn.DATA_MASK_011,new er(Rn.DATA_MASK_011,(N,t)=>(N+t)%3===0)],[Rn.DATA_MASK_100,new er(Rn.DATA_MASK_100,(N,t)=>(Math.floor(N/2)+Math.floor(t/3)&1)===0)],[Rn.DATA_MASK_101,new er(Rn.DATA_MASK_101,(N,t)=>N*t%6===0)],[Rn.DATA_MASK_110,new er(Rn.DATA_MASK_110,(N,t)=>N*t%6<3)],[Rn.DATA_MASK_111,new er(Rn.DATA_MASK_111,(N,t)=>(N+t+N*t%3&1)===0)]]);class Pi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new ie;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let u=0;u<6;u++)t=this.copyBit(u,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let u=5;u>=0;u--)t=this.copyBit(8,u,t);const r=this.bitMatrix.getHeight();let a=0;const s=r-7;for(let u=r-1;u>=s;u--)a=this.copyBit(8,u,a);for(let u=r-8;u<r;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=yn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ie}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Ge.getVersionForNumber(r);let a=0;const s=t-11;for(let f=5;f>=0;f--)for(let i=t-9;i>=s;i--)a=this.copyBit(i,f,a);let u=Ge.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;a=0;for(let f=5;f>=0;f--)for(let i=t-9;i>=s;i--)a=this.copyBit(f,i,a);if(u=Ge.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===t)return this.parsedVersion=u,u;throw new ie}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=er.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s);const u=r.buildFunctionPattern();let f=!0;const i=new Uint8Array(r.getTotalCodewords());let o=0,d=0,y=0;for(let w=s-1;w>0;w-=2){w===6&&w--;for(let C=0;C<s;C++){const S=f?s-1-C:C;for(let O=0;O<2;O++)u.get(w-O,S)||(y++,d<<=1,this.bitMatrix.get(w-O,S)&&(d|=1),y===8&&(i[o++]=d,y=0,d=0))}f=!f}if(o!==r.getTotalCodewords())throw new ie;return i}remask(){if(this.parsedFormatInfo===null)return;const t=er.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let s=r+1,u=t.getHeight();s<u;s++)t.get(r,s)!==t.get(s,r)&&(t.flip(s,r),t.flip(r,s))}}class Sl{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new B;const s=r.getECBlocksForLevel(a);let u=0;const f=s.getECBlocks();for(const O of f)u+=O.getCount();const i=new Array(u);let o=0;for(const O of f)for(let I=0;I<O.getCount();I++){const k=O.getDataCodewords(),U=s.getECCodewordsPerBlock()+k;i[o++]=new Sl(k,new Uint8Array(U))}const d=i[0].codewords.length;let y=i.length-1;for(;y>=0&&i[y].codewords.length!==d;)y--;y++;const w=d-s.getECCodewordsPerBlock();let C=0;for(let O=0;O<w;O++)for(let I=0;I<o;I++)i[I].codewords[O]=t[C++];for(let O=y;O<o;O++)i[O].codewords[w]=t[C++];const S=i[0].codewords.length;for(let O=w;O<S;O++)for(let I=0;I<o;I++){const k=I<y?O:O+1;i[I].codewords[k]=t[C++]}return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ut;(function(N){N[N.TERMINATOR=0]="TERMINATOR",N[N.NUMERIC=1]="NUMERIC",N[N.ALPHANUMERIC=2]="ALPHANUMERIC",N[N.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",N[N.BYTE=4]="BYTE",N[N.ECI=5]="ECI",N[N.KANJI=6]="KANJI",N[N.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",N[N.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",N[N.HANZI=9]="HANZI"})(ut||(ut={}));class Qe{constructor(t,r,a,s){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=s,Qe.FOR_BITS.set(s,this),Qe.FOR_VALUE.set(t,this)}static forBits(t){const r=Qe.FOR_BITS.get(t);if(r===void 0)throw new B;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Qe))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(ut.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(ut.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(ut.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(ut.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(ut.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(ut.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(ut.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(ut.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(ut.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(ut.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(t,r,a,s){const u=new _r(t);let f=new lt;const i=new Array;let o=-1,d=-1;try{let y=null,w=!1,C;do{if(u.available()<4)C=Qe.TERMINATOR;else{const S=u.readBits(4);C=Qe.forBits(S)}switch(C){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:w=!0;break;case Qe.STRUCTURED_APPEND:if(u.available()<16)throw new ie;o=u.readBits(8),d=u.readBits(8);break;case Qe.ECI:const S=an.parseECIValue(u);if(y=Ce.getCharacterSetECIByValue(S),y===null)throw new ie;break;case Qe.HANZI:const O=u.readBits(4),I=u.readBits(C.getCharacterCountBits(r));O===an.GB2312_SUBSET&&an.decodeHanziSegment(u,f,I);break;default:const k=u.readBits(C.getCharacterCountBits(r));switch(C){case Qe.NUMERIC:an.decodeNumericSegment(u,f,k);break;case Qe.ALPHANUMERIC:an.decodeAlphanumericSegment(u,f,k,w);break;case Qe.BYTE:an.decodeByteSegment(u,f,k,y,i,s);break;case Qe.KANJI:an.decodeKanjiSegment(u,f,k);break;default:throw new ie}break}}while(C!==Qe.TERMINATOR)}catch{throw new ie}return new rn(t,f.toString(),i.length===0?null:i,a===null?null:a.toString(),o,d)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new ie;const s=new Uint8Array(2*a);let u=0;for(;a>0;){const f=t.readBits(13);let i=f/96<<8&4294967295|f%96;i<959?i+=41377:i+=42657,s[u]=i>>8&255,s[u+1]=i&255,u+=2,a--}try{r.append(Zt.decode(s,je.GB2312))}catch(f){throw new ie(f)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new ie;const s=new Uint8Array(2*a);let u=0;for(;a>0;){const f=t.readBits(13);let i=f/192<<8&4294967295|f%192;i<7936?i+=33088:i+=49472,s[u]=i>>8,s[u+1]=i,u+=2,a--}try{r.append(Zt.decode(s,je.SHIFT_JIS))}catch(f){throw new ie(f)}}static decodeByteSegment(t,r,a,s,u,f){if(8*a>t.available())throw new ie;const i=new Uint8Array(a);for(let d=0;d<a;d++)i[d]=t.readBits(8);let o;s===null?o=je.guessEncoding(i,f):o=s.getName();try{r.append(Zt.decode(i,o))}catch(d){throw new ie(d)}u.push(i)}static toAlphaNumericChar(t){if(t>=an.ALPHANUMERIC_CHARS.length)throw new ie;return an.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,s){const u=r.length();for(;a>1;){if(t.available()<11)throw new ie;const f=t.readBits(11);r.append(an.toAlphaNumericChar(Math.floor(f/45))),r.append(an.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(t.available()<6)throw new ie;r.append(an.toAlphaNumericChar(t.readBits(6)))}if(s)for(let f=u;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new ie;const s=t.readBits(10);if(s>=1e3)throw new ie;r.append(an.toAlphaNumericChar(Math.floor(s/100))),r.append(an.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(an.toAlphaNumericChar(s%10)),a-=3}if(a===2){if(t.available()<7)throw new ie;const s=t.readBits(7);if(s>=100)throw new ie;r.append(an.toAlphaNumericChar(Math.floor(s/10))),r.append(an.toAlphaNumericChar(s%10))}else if(a===1){if(t.available()<4)throw new ie;const s=t.readBits(4);if(s>=10)throw new ie;r.append(an.toAlphaNumericChar(s))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new ie}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class Ql{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class yr{constructor(){this.rsDecoder=new Bi(At.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ot.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new Pi(t);let s=null;try{return this.decodeBitMatrixParser(a,r)}catch(u){s=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,r);return u.setOther(new Ql(!0)),u}catch(u){throw s!==null?s:u}}decodeBitMatrixParser(t,r){const a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),f=Sl.getDataBlocks(u,a,s);let i=0;for(const y of f)i+=y.getNumDataCodewords();const o=new Uint8Array(i);let d=0;for(const y of f){const w=y.getCodewords(),C=y.getNumDataCodewords();this.correctErrors(w,C);for(let S=0;S<C;S++)o[d++]=w[S]}return an.decode(o,a,s,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new me}for(let s=0;s<r;s++)t[s]=a[s]}}class kr extends ze{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const s=(this.getX()+r)/2,u=(this.getY()+t)/2,f=(this.estimatedModuleSize+a)/2;return new kr(s,u,f)}}class lr{constructor(t,r,a,s,u,f,i){this.image=t,this.startX=r,this.startY=a,this.width=s,this.height=u,this.moduleSize=f,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,s=t+a,u=this.startY+r/2,f=new Int32Array(3),i=this.image;for(let o=0;o<r;o++){const d=u+((o&1)===0?Math.floor((o+1)/2):-Math.floor((o+1)/2));f[0]=0,f[1]=0,f[2]=0;let y=t;for(;y<s&&!i.get(y,d);)y++;let w=0;for(;y<s;){if(i.get(y,d))if(w===1)f[1]++;else if(w===2){if(this.foundPatternCross(f)){const C=this.handlePossibleCenter(f,d,y);if(C!==null)return C}f[0]=f[2],f[1]=1,f[2]=0,w=1}else f[++w]++;else w===1&&w++,f[w]++;y++}if(this.foundPatternCross(f)){const C=this.handlePossibleCenter(f,d,s);if(C!==null)return C}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ce}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let s=0;s<3;s++)if(Math.abs(r-t[s])>=a)return!1;return!0}crossCheckVertical(t,r,a,s){const u=this.image,f=u.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;let o=t;for(;o>=0&&u.get(r,o)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&!u.get(r,o)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&u.get(r,o)&&i[1]<=a;)i[1]++,o++;if(o===f||i[1]>a)return NaN;for(;o<f&&!u.get(r,o)&&i[2]<=a;)i[2]++,o++;if(i[2]>a)return NaN;const d=i[0]+i[1]+i[2];return 5*Math.abs(d-s)>=2*s?NaN:this.foundPatternCross(i)?lr.centerFromEnd(i,o):NaN}handlePossibleCenter(t,r,a){const s=t[0]+t[1]+t[2],u=lr.centerFromEnd(t,a),f=this.crossCheckVertical(r,u,2*t[1],s);if(!isNaN(f)){const i=(t[0]+t[1]+t[2])/3;for(const d of this.possibleCenters)if(d.aboutEquals(i,f,u))return d.combineEstimate(f,u,i);const o=new kr(u,f,i);this.possibleCenters.push(o),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(o)}return null}}class Or extends ze{constructor(t,r,a,s){super(t,r),this.estimatedModuleSize=a,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const s=this.count+1,u=(this.count*this.getX()+r)/s,f=(this.count*this.getY()+t)/s,i=(this.count*this.estimatedModuleSize+a)/s;return new Or(u,f,i,s)}}class ja{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class hn{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Ye.TRY_HARDER)!==void 0,a=t!=null&&t.get(Ye.PURE_BARCODE)!==void 0,s=this.image,u=s.getHeight(),f=s.getWidth();let i=Math.floor(3*u/(4*hn.MAX_MODULES));(i<hn.MIN_SKIP||r)&&(i=hn.MIN_SKIP);let o=!1;const d=new Int32Array(5);for(let w=i-1;w<u&&!o;w+=i){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;let C=0;for(let S=0;S<f;S++)if(s.get(S,w))(C&1)===1&&C++,d[C]++;else if((C&1)===0)if(C===4)if(hn.foundPatternCross(d)){if(this.handlePossibleCenter(d,w,S,a)===!0)if(i=2,this.hasSkipped===!0)o=this.haveMultiplyConfirmedCenters();else{const I=this.findRowSkip();I>d[2]&&(w+=I-d[2]-i,S=f-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,C=3;continue}C=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,C=3;else d[++C]++;else d[C]++;hn.foundPatternCross(d)&&this.handlePossibleCenter(d,w,f,a)===!0&&(i=d[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return ze.orderBestPatterns(y),new ja(y)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let u=0;u<5;u++){const f=t[u];if(f===0)return!1;r+=f}if(r<7)return!1;const a=r/7,s=a/2;return Math.abs(a-t[0])<s&&Math.abs(a-t[1])<s&&Math.abs(3*a-t[2])<3*s&&Math.abs(a-t[3])<s&&Math.abs(a-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,s){const u=this.getCrossCheckStateCount();let f=0;const i=this.image;for(;t>=f&&r>=f&&i.get(r-f,t-f);)u[2]++,f++;if(t<f||r<f)return!1;for(;t>=f&&r>=f&&!i.get(r-f,t-f)&&u[1]<=a;)u[1]++,f++;if(t<f||r<f||u[1]>a)return!1;for(;t>=f&&r>=f&&i.get(r-f,t-f)&&u[0]<=a;)u[0]++,f++;if(u[0]>a)return!1;const o=i.getHeight(),d=i.getWidth();for(f=1;t+f<o&&r+f<d&&i.get(r+f,t+f);)u[2]++,f++;if(t+f>=o||r+f>=d)return!1;for(;t+f<o&&r+f<d&&!i.get(r+f,t+f)&&u[3]<a;)u[3]++,f++;if(t+f>=o||r+f>=d||u[3]>=a)return!1;for(;t+f<o&&r+f<d&&i.get(r+f,t+f)&&u[4]<a;)u[4]++,f++;if(u[4]>=a)return!1;const y=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(y-s)<2*s&&hn.foundPatternCross(u)}crossCheckVertical(t,r,a,s){const u=this.image,f=u.getHeight(),i=this.getCrossCheckStateCount();let o=t;for(;o>=0&&u.get(r,o);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!u.get(r,o)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&u.get(r,o)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&u.get(r,o);)i[2]++,o++;if(o===f)return NaN;for(;o<f&&!u.get(r,o)&&i[3]<a;)i[3]++,o++;if(o===f||i[3]>=a)return NaN;for(;o<f&&u.get(r,o)&&i[4]<a;)i[4]++,o++;if(i[4]>=a)return NaN;const d=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(d-s)>=2*s?NaN:hn.foundPatternCross(i)?hn.centerFromEnd(i,o):NaN}crossCheckHorizontal(t,r,a,s){const u=this.image,f=u.getWidth(),i=this.getCrossCheckStateCount();let o=t;for(;o>=0&&u.get(o,r);)i[2]++,o--;if(o<0)return NaN;for(;o>=0&&!u.get(o,r)&&i[1]<=a;)i[1]++,o--;if(o<0||i[1]>a)return NaN;for(;o>=0&&u.get(o,r)&&i[0]<=a;)i[0]++,o--;if(i[0]>a)return NaN;for(o=t+1;o<f&&u.get(o,r);)i[2]++,o++;if(o===f)return NaN;for(;o<f&&!u.get(o,r)&&i[3]<a;)i[3]++,o++;if(o===f||i[3]>=a)return NaN;for(;o<f&&u.get(o,r)&&i[4]<a;)i[4]++,o++;if(i[4]>=a)return NaN;const d=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(d-s)>=s?NaN:hn.foundPatternCross(i)?hn.centerFromEnd(i,o):NaN}handlePossibleCenter(t,r,a,s){const u=t[0]+t[1]+t[2]+t[3]+t[4];let f=hn.centerFromEnd(t,a),i=this.crossCheckVertical(r,Math.floor(f),t[2],u);if(!isNaN(i)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(i),t[2],u),!isNaN(f)&&(!s||this.crossCheckDiagonal(Math.floor(i),Math.floor(f),t[2],u)))){const o=u/7;let d=!1;const y=this.possibleCenters;for(let w=0,C=y.length;w<C;w++){const S=y[w];if(S.aboutEquals(o,i,f)){y[w]=S.combineEstimate(i,f,o),d=!0;break}}if(!d){const w=new Or(f,i,o);y.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=hn.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=hn.CENTER_QUORUM&&(t++,r+=f.getEstimatedModuleSize());if(t<3)return!1;const s=r/a;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-s);return u<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new ce;const r=this.possibleCenters;let a;if(t>3){let s=0,u=0;for(const o of this.possibleCenters){const d=o.getEstimatedModuleSize();s+=d,u+=d*d}a=s/t;let f=Math.sqrt(u/t-a*a);r.sort((o,d)=>{const y=Math.abs(d.getEstimatedModuleSize()-a),w=Math.abs(o.getEstimatedModuleSize()-a);return y<w?-1:y>w?1:0});const i=Math.max(.2*a,f);for(let o=0;o<r.length&&r.length>3;o++){const d=r[o];Math.abs(d.getEstimatedModuleSize()-a)>i&&(r.splice(o,1),o--)}}if(r.length>3){let s=0;for(const u of r)s+=u.getEstimatedModuleSize();a=s/r.length,r.sort((u,f)=>{if(f.getCount()===u.getCount()){const i=Math.abs(f.getEstimatedModuleSize()-a),o=Math.abs(u.getEstimatedModuleSize()-a);return i<o?1:i>o?-1:0}else return f.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}hn.CENTER_QUORUM=2,hn.MIN_SKIP=3,hn.MAX_MODULES=57;class Jt{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ye.NEED_RESULT_POINT_CALLBACK);const a=new hn(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),s=t.getBottomLeft(),u=this.calculateModuleSize(r,a,s);if(u<1)throw new ce("No pattern found in proccess finder.");const f=Jt.computeDimension(r,a,s,u),i=Ge.getProvisionalVersionForDimension(f),o=i.getDimensionForVersion()-7;let d=null;if(i.getAlignmentPatternCenters().length>0){const S=a.getX()-r.getX()+s.getX(),O=a.getY()-r.getY()+s.getY(),I=1-3/o,k=Math.floor(r.getX()+I*(S-r.getX())),U=Math.floor(r.getY()+I*(O-r.getY()));for(let z=4;z<=16;z<<=1)try{d=this.findAlignmentInRegion(u,k,U,z);break}catch(j){if(!(j instanceof ce))throw j}}const y=Jt.createTransform(r,a,s,d,f),w=Jt.sampleGrid(this.image,y,f);let C;return d===null?C=[s,r,a]:C=[s,r,a,d],new fa(w,C)}static createTransform(t,r,a,s,u){const f=u-3.5;let i,o,d,y;return s!==null?(i=s.getX(),o=s.getY(),d=f-3,y=d):(i=r.getX()-t.getX()+a.getX(),o=r.getY()-t.getY()+a.getY(),d=f,y=f),cn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,d,y,3.5,f,t.getX(),t.getY(),r.getX(),r.getY(),i,o,a.getX(),a.getY())}static sampleGrid(t,r,a){return cr.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,s){const u=St.round(ze.distance(t,r)/s),f=St.round(ze.distance(t,a)/s);let i=Math.floor((u+f)/2)+7;switch(i&3){case 0:i++;break;case 2:i--;break;case 3:throw new ce("Dimensions could be not found.")}return i}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?s/7:isNaN(s)?a/7:(a+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,s){let u=this.sizeOfBlackWhiteBlackRun(t,r,a,s),f=1,i=t-(a-t);i<0?(f=t/(t-i),i=0):i>=this.image.getWidth()&&(f=(this.image.getWidth()-1-t)/(i-t),i=this.image.getWidth()-1);let o=Math.floor(r-(s-r)*f);return f=1,o<0?(f=r/(r-o),o=0):o>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(o-r),o=this.image.getHeight()-1),i=Math.floor(t+(i-t)*f),u+=this.sizeOfBlackWhiteBlackRun(t,r,i,o),u-1}sizeOfBlackWhiteBlackRun(t,r,a,s){const u=Math.abs(s-r)>Math.abs(a-t);if(u){let S=t;t=r,r=S,S=a,a=s,s=S}const f=Math.abs(a-t),i=Math.abs(s-r);let o=-f/2;const d=t<a?1:-1,y=r<s?1:-1;let w=0;const C=a+d;for(let S=t,O=r;S!==C;S+=d){const I=u?O:S,k=u?S:O;if(w===1===this.image.get(I,k)){if(w===2)return St.distance(S,O,t,r);w++}if(o+=i,o>0){if(O===s)break;O+=y,o-=f}}return w===2?St.distance(a+d,s,t,r):NaN}findAlignmentInRegion(t,r,a,s){const u=Math.floor(s*t),f=Math.max(0,r-u),i=Math.min(this.image.getWidth()-1,r+u);if(i-f<t*3)throw new ce("Alignment top exceeds estimated module size.");const o=Math.max(0,a-u),d=Math.min(this.image.getHeight()-1,a+u);if(d-o<t*3)throw new ce("Alignment bottom exceeds estimated module size.");return new lr(this.image,f,o,i-f,d-o,t,this.resultPointCallback).find()}}class zn{constructor(){this.decoder=new yr}getDecoder(){return this.decoder}decode(t,r){let a,s;if(r!=null&&r.get(Ye.PURE_BARCODE)!==void 0){const o=zn.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(o,r),s=zn.NO_POINTS}else{const o=new Jt(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(o.getBits(),r),s=o.getPoints()}a.getOther()instanceof Ql&&a.getOther().applyMirroredCorrection(s);const u=new Me(a.getText(),a.getRawBytes(),void 0,s,Ne.QR_CODE,void 0),f=a.getByteSegments();f!==null&&u.putMetadata(Nt.BYTE_SEGMENTS,f);const i=a.getECLevel();return i!==null&&u.putMetadata(Nt.ERROR_CORRECTION_LEVEL,i),a.hasStructuredAppend()&&(u.putMetadata(Nt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(Nt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new ce;const s=this.moduleSize(r,t);let u=r[1],f=a[1],i=r[0],o=a[0];if(i>=o||u>=f)throw new ce;if(f-u!==o-i&&(o=i+(f-u),o>=t.getWidth()))throw new ce;const d=Math.round((o-i+1)/s),y=Math.round((f-u+1)/s);if(d<=0||y<=0)throw new ce;if(y!==d)throw new ce;const w=Math.floor(s/2);u+=w,i+=w;const C=i+Math.floor((d-1)*s)-o;if(C>0){if(C>w)throw new ce;i-=C}const S=u+Math.floor((y-1)*s)-f;if(S>0){if(S>w)throw new ce;u-=S}const O=new Ot(d,y);for(let I=0;I<y;I++){const k=u+Math.floor(I*s);for(let U=0;U<d;U++)t.get(i+Math.floor(U*s),k)&&O.set(U,I)}return O}static moduleSize(t,r){const a=r.getHeight(),s=r.getWidth();let u=t[0],f=t[1],i=!0,o=0;for(;u<s&&f<a;){if(i!==r.get(u,f)){if(++o===5)break;i=!i}u++,f++}if(u===s||f===a)throw new ce;return(u-t[0])/7}}zn.NO_POINTS=new Array;class We{PDF417Common(){}static getBitCountSum(t){return St.sum(t)}static toIntArray(t){if(t==null||!t.length)return We.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const s of t)r[a++]=s;return r}static getCodeword(t){const r=Ae.binarySearch(We.SYMBOL_TABLE,t&262143);return r<0?-1:(We.CODEWORD_TABLE[r]-1)%We.NUMBER_OF_CODEWORDS}}We.NUMBER_OF_CODEWORDS=929,We.MAX_CODEWORDS_IN_BARCODE=We.NUMBER_OF_CODEWORDS-1,We.MIN_ROWS_IN_BARCODE=3,We.MAX_ROWS_IN_BARCODE=90,We.MODULES_IN_CODEWORD=17,We.MODULES_IN_STOP_PATTERN=18,We.BARS_IN_MODULE=8,We.EMPTY_INT_ARRAY=new Int32Array([]),We.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),We.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ji{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class st{static detectMultiple(t,r,a){let s=t.getBlackMatrix(),u=st.detect(a,s);return u.length||(s=s.clone(),s.rotate180(),u=st.detect(a,s)),new Ji(s,u)}static detect(t,r){const a=new Array;let s=0,u=0,f=!1;for(;s<r.getHeight();){const i=st.findVertices(r,s,u);if(i[0]==null&&i[3]==null){if(!f)break;f=!1,u=0;for(const o of a)o[1]!=null&&(s=Math.trunc(Math.max(s,o[1].getY()))),o[3]!=null&&(s=Math.max(s,Math.trunc(o[3].getY())));s+=st.ROW_STEP;continue}if(f=!0,a.push(i),!t)break;i[2]!=null?(u=Math.trunc(i[2].getX()),s=Math.trunc(i[2].getY())):(u=Math.trunc(i[4].getX()),s=Math.trunc(i[4].getY()))}return a}static findVertices(t,r,a){const s=t.getHeight(),u=t.getWidth(),f=new Array(8);return st.copyToResult(f,st.findRowsWithPattern(t,s,u,r,a,st.START_PATTERN),st.INDEXES_START_PATTERN),f[4]!=null&&(a=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),st.copyToResult(f,st.findRowsWithPattern(t,s,u,r,a,st.STOP_PATTERN),st.INDEXES_STOP_PATTERN),f}static copyToResult(t,r,a){for(let s=0;s<a.length;s++)t[a[s]]=r[s]}static findRowsWithPattern(t,r,a,s,u,f){const i=new Array(4);let o=!1;const d=new Int32Array(f.length);for(;s<r;s+=st.ROW_STEP){let w=st.findGuardPattern(t,u,s,a,!1,f,d);if(w!=null){for(;s>0;){const C=st.findGuardPattern(t,u,--s,a,!1,f,d);if(C!=null)w=C;else{s++;break}}i[0]=new ze(w[0],s),i[1]=new ze(w[1],s),o=!0;break}}let y=s+1;if(o){let w=0,C=Int32Array.from([Math.trunc(i[0].getX()),Math.trunc(i[1].getX())]);for(;y<r;y++){const S=st.findGuardPattern(t,C[0],y,a,!1,f,d);if(S!=null&&Math.abs(C[0]-S[0])<st.MAX_PATTERN_DRIFT&&Math.abs(C[1]-S[1])<st.MAX_PATTERN_DRIFT)C=S,w=0;else{if(w>st.SKIPPED_ROW_COUNT_MAX)break;w++}}y-=w+1,i[2]=new ze(C[0],y),i[3]=new ze(C[1],y)}return y-s<st.BARCODE_MIN_HEIGHT&&Ae.fill(i,null),i}static findGuardPattern(t,r,a,s,u,f,i){Ae.fillWithin(i,0,i.length,0);let o=r,d=0;for(;t.get(o,a)&&o>0&&d++<st.MAX_PIXEL_DRIFT;)o--;let y=o,w=0,C=f.length;for(let S=u;y<s;y++)if(t.get(y,a)!==S)i[w]++;else{if(w===C-1){if(st.patternMatchVariance(i,f,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return new Int32Array([o,y]);o+=i[0]+i[1],J.arraycopy(i,2,i,0,w-1),i[w-1]=0,i[w]=0,w--}else w++;i[w]=1,S=!S}return w===C-1&&st.patternMatchVariance(i,f,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE?new Int32Array([o,y-1]):null}static patternMatchVariance(t,r,a){let s=t.length,u=0,f=0;for(let d=0;d<s;d++)u+=t[d],f+=r[d];if(u<f)return 1/0;let i=u/f;a*=i;let o=0;for(let d=0;d<s;d++){let y=t[d],w=r[d]*i,C=y>w?y-w:w-y;if(C>a)return 1/0;o+=C}return o/u}}st.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),st.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),st.MAX_AVG_VARIANCE=.42,st.MAX_INDIVIDUAL_VARIANCE=.8,st.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),st.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),st.MAX_PIXEL_DRIFT=3,st.MAX_PATTERN_DRIFT=5,st.SKIPPED_ROW_COUNT_MAX=25,st.ROW_STEP=5,st.BARCODE_MIN_HEIGHT=10;class kt{constructor(t,r){if(r.length===0)throw new B;this.field=t;let a=r.length;if(a>1&&r[0]===0){let s=1;for(;s<a&&r[s]===0;)s++;s===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-s),J.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let u of this.coefficients)s=this.field.add(s,u);return s}let r=this.coefficients[0],a=this.coefficients.length;for(let s=1;s<a;s++)r=this.field.add(this.field.multiply(t,r),this.coefficients[s]);return r}add(t){if(!this.field.equals(t.field))throw new B("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let f=r;r=a,a=f}let s=new Int32Array(a.length),u=a.length-r.length;J.arraycopy(a,0,s,0,u);for(let f=u;f<a.length;f++)s[f]=this.field.add(r[f-u],a[f]);return new kt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new B("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof kt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new B("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new kt(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,s=t.coefficients,u=s.length,f=new Int32Array(a+u-1);for(let i=0;i<a;i++){let o=r[i];for(let d=0;d<u;d++)f[i+d]=this.field.add(f[i+d],this.field.multiply(o,s[d]))}return new kt(this.field,f)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new kt(this.field,r)}multiplyScalar(t){if(t===0)return new kt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let s=0;s<r;s++)a[s]=this.field.multiply(this.coefficients[s],t);return new kt(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new B;if(r===0)return new kt(this.field,new Int32Array([0]));let a=this.coefficients.length,s=new Int32Array(a+t);for(let u=0;u<a;u++)s[u]=this.field.multiply(this.coefficients[u],r);return new kt(this.field,s)}toString(){let t=new lt;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Tl{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new B;return this.logTable[t]}inverse(t){if(t===0)throw new Rt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class tr extends Tl{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let s=0;s<t;s++)this.expTable[s]=a,a=a*r%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new kt(this,new Int32Array([0])),this.one=new kt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new B;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new kt(this,a)}}tr.PDF417_GF=new tr(We.NUMBER_OF_CODEWORDS,3);class zr{constructor(){this.field=tr.PDF417_GF}decode(t,r,a){let s=new kt(this.field,t),u=new Int32Array(r),f=!1;for(let O=r;O>0;O--){let I=s.evaluateAt(this.field.exp(O));u[r-O]=I,I!==0&&(f=!0)}if(!f)return 0;let i=this.field.getOne();if(a!=null)for(const O of a){let I=this.field.exp(t.length-1-O),k=new kt(this.field,new Int32Array([this.field.subtract(0,I),1]));i=i.multiply(k)}let o=new kt(this.field,u),d=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),o,r),y=d[0],w=d[1],C=this.findErrorLocations(y),S=this.findErrorMagnitudes(w,y,C);for(let O=0;O<C.length;O++){let I=t.length-1-this.field.log(C[O]);if(I<0)throw me.getChecksumInstance();t[I]=this.field.subtract(t[I],S[O])}return C.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let C=t;t=r,r=C}let s=t,u=r,f=this.field.getZero(),i=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let C=s,S=f;if(s=u,f=i,s.isZero())throw me.getChecksumInstance();u=C;let O=this.field.getZero(),I=s.getCoefficient(s.getDegree()),k=this.field.inverse(I);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){let U=u.getDegree()-s.getDegree(),z=this.field.multiply(u.getCoefficient(u.getDegree()),k);O=O.add(this.field.buildMonomial(U,z)),u=u.subtract(s.multiplyByMonomial(U,z))}i=O.multiply(f).subtract(S).negative()}let o=i.getCoefficient(0);if(o===0)throw me.getChecksumInstance();let d=this.field.inverse(o),y=i.multiply(d),w=u.multiply(d);return[y,w]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),s=0;for(let u=1;u<this.field.getSize()&&s<r;u++)t.evaluateAt(u)===0&&(a[s]=this.field.inverse(u),s++);if(s!==r)throw me.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let s=r.getDegree(),u=new Int32Array(s);for(let d=1;d<=s;d++)u[s-d]=this.field.multiply(d,r.getCoefficient(d));let f=new kt(this.field,u),i=a.length,o=new Int32Array(i);for(let d=0;d<i;d++){let y=this.field.inverse(a[d]),w=this.field.subtract(0,t.evaluateAt(y)),C=this.field.inverse(f.evaluateAt(y));o[d]=this.field.multiply(w,C)}return o}}class Gr{constructor(t,r,a,s,u){t instanceof Gr?this.constructor_2(t):this.constructor_1(t,r,a,s,u)}constructor_1(t,r,a,s,u){const f=r==null||a==null,i=s==null||u==null;if(f&&i)throw new ce;f?(r=new ze(0,s.getY()),a=new ze(0,u.getY())):i&&(s=new ze(t.getWidth()-1,r.getY()),u=new ze(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=s,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(s.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Gr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let s=this.topLeft,u=this.bottomLeft,f=this.topRight,i=this.bottomRight;if(t>0){let o=a?this.topLeft:this.topRight,d=Math.trunc(o.getY()-t);d<0&&(d=0);let y=new ze(o.getX(),d);a?s=y:f=y}if(r>0){let o=a?this.bottomLeft:this.bottomRight,d=Math.trunc(o.getY()+r);d>=this.image.getHeight()&&(d=this.image.getHeight()-1);let y=new ze(o.getX(),d);a?u=y:i=y}return new Gr(this.image,s,u,f,i)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class $i{constructor(t,r,a,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xr{constructor(){this.buffer=""}static form(t,r){let a=-1;function s(f,i,o,d,y,w){if(f==="%%")return"%";if(r[++a]===void 0)return;f=d?parseInt(d.substr(1)):void 0;let C=y?parseInt(y.substr(1)):void 0,S;switch(w){case"s":S=r[a];break;case"c":S=r[a][0];break;case"f":S=parseFloat(r[a]).toFixed(f);break;case"p":S=parseFloat(r[a]).toPrecision(f);break;case"e":S=parseFloat(r[a]).toExponential(f);break;case"x":S=parseInt(r[a]).toString(C||16);break;case"d":S=parseFloat(parseInt(r[a],C||10).toPrecision(f)).toFixed(0);break}S=typeof S=="object"?JSON.stringify(S):(+S).toString(C);let O=parseInt(o),I=o&&o[0]+""=="0"?"0":" ";for(;S.length<O;)S=i!==void 0?S+I:I+S;return S}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(u,s)}format(t,...r){this.buffer+=Xr.form(t,r)}toString(){return this.buffer}}class qr{constructor(t){this.boundingBox=new Gr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<qr.MAX_NEARBY_DISTANCE;a++){let s=this.imageRowToCodewordIndex(t)-a;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(t)+a,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Xr;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}qr.MAX_NEARBY_DISTANCE=5;class ai{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,s]of this.values.entries()){const u={getKey:()=>a,getValue:()=>s};u.getValue()>t?(t=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===t&&r.push(u.getKey())}return We.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class _l extends qr{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),s=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),i=this.imageRowToCodewordIndex(Math.trunc(u.getY())),o=-1,d=1,y=0;for(let w=f;w<i;w++){if(r[w]==null)continue;let C=r[w],S=C.getRowNumber()-o;if(S===0)y++;else if(S===1)d=Math.max(d,y),y=1,o=C.getRowNumber();else if(S<0||C.getRowNumber()>=t.getRowCount()||S>w)r[w]=null;else{let O;d>2?O=(d-2)*S:O=S;let I=O>=w;for(let k=1;k<=O&&!I;k++)I=r[w-k]!=null;I?r[w]=null:(o=C.getRowNumber(),y=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let s=a.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),i=this.getCodewords(),o=-1;for(let d=u;d<f;d++){if(i[d]==null)continue;let y=i[d];y.setRowNumberAsRowIndicatorColumn();let w=y.getRowNumber()-o;w===0||(w===1?o=y.getRowNumber():y.getRowNumber()>=t.getRowCount()?i[d]=null:o=y.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new ai,a=new ai,s=new ai,u=new ai;for(let i of t){if(i==null)continue;i.setRowNumberAsRowIndicatorColumn();let o=i.getValue()%30,d=i.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:a.setValue(o*3+1);break;case 1:u.setValue(o/3),s.setValue(o%3);break;case 2:r.setValue(o+1);break}}if(r.getValue().length===0||a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<We.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;let f=new $i(r.getValue()[0],a.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(t,f),f}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let s=t[a];if(t[a]==null)continue;let u=s.getValue()%30,f=s.getRowNumber();if(f>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:u+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Cn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=We.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let s=0;s<a.length;s++)a[s]!=null&&(a[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let u=this.detectionResultColumns[s].getCodewords()[a];u!=null&&(u.setRowNumber(t[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let s=r[a].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let i=this.detectionResultColumns[f].getCodewords()[a];i!=null&&(u=Cn.adjustRowNumberIfValid(s,u,i),i.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let s=r[a].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let i=this.detectionResultColumns[f].getCodewords()[a];i!=null&&(u=Cn.adjustRowNumberIfValid(s,u,i),i.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let s=a[r],u=this.detectionResultColumns[t-1].getCodewords(),f=u;this.detectionResultColumns[t+1]!=null&&(f=this.detectionResultColumns[t+1].getCodewords());let i=new Array(14);i[2]=u[r],i[3]=f[r],r>0&&(i[0]=a[r-1],i[4]=u[r-1],i[5]=f[r-1]),r>1&&(i[8]=a[r-2],i[10]=u[r-2],i[11]=f[r-2]),r<a.length-1&&(i[1]=a[r+1],i[6]=u[r+1],i[7]=f[r+1]),r<a.length-2&&(i[9]=a[r+2],i[12]=u[r+2],i[13]=f[r+2]);for(let o of i)if(Cn.adjustRowNumber(s,o))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Xr;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[s].getCodewords()[a];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class Fr{constructor(t,r,a,s){this.rowNumber=Fr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Fr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Fr.BARCODE_ROW_UNKNOWN=-1;class qn{static initialize(){for(let t=0;t<We.SYMBOL_TABLE.length;t++){let r=We.SYMBOL_TABLE[t],a=r&1;for(let s=0;s<We.BARS_IN_MODULE;s++){let u=0;for(;(r&1)===a;)u+=1,r>>=1;a=r&1,qn.RATIOS_TABLE[t]||(qn.RATIOS_TABLE[t]=new Array(We.BARS_IN_MODULE)),qn.RATIOS_TABLE[t][We.BARS_IN_MODULE-s-1]=Math.fround(u/We.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=qn.getDecodedCodewordValue(qn.sampleBitCounts(t));return r!==-1?r:qn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=St.sum(t),a=new Int32Array(We.BARS_IN_MODULE),s=0,u=0;for(let f=0;f<We.MODULES_IN_CODEWORD;f++){let i=r/(2*We.MODULES_IN_CODEWORD)+f*r/We.MODULES_IN_CODEWORD;u+t[s]<=i&&(u+=t[s],s++),a[s]++}return a}static getDecodedCodewordValue(t){let r=qn.getBitValue(t);return We.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let s=0;s<t[a];s++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=St.sum(t),a=new Array(We.BARS_IN_MODULE);if(r>1)for(let f=0;f<a.length;f++)a[f]=Math.fround(t[f]/r);let s=Ai.MAX_VALUE,u=-1;this.bSymbolTableReady||qn.initialize();for(let f=0;f<qn.RATIOS_TABLE.length;f++){let i=0,o=qn.RATIOS_TABLE[f];for(let d=0;d<We.BARS_IN_MODULE;d++){let y=Math.fround(o[d]-a[d]);if(i+=Math.fround(y*y),i>=s)break}i<s&&(s=i,u=We.SYMBOL_TABLE[f])}return u}}qn.bSymbolTableReady=!1,qn.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(N=>new Array(We.BARS_IN_MODULE));class li{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class ma{static parseLong(t,r=void 0){return parseInt(t,r)}}class ea extends v{}ea.kind="NullPointerException";class Ol{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new ea;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new le;if(a===0)return;for(let s=0;s<a;s++)this.write(t[r+s])}flush(){}close(){}}class pa extends v{}class Ha extends Ol{constructor(t=32){if(super(),this.count=0,t<0)throw new B("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new pa;a=pe.MAX_VALUE}this.buf=Ae.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new le;this.ensureCapacity(this.count+a),J.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ae.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var jt;(function(N){N[N.ALPHA=0]="ALPHA",N[N.LOWER=1]="LOWER",N[N.MIXED=2]="MIXED",N[N.PUNCT=3]="PUNCT",N[N.ALPHA_SHIFT=4]="ALPHA_SHIFT",N[N.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function Va(){if(typeof window<"u")return window.BigInt||null;if(typeof mo<"u")return mo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ya;function Pr(N){if(typeof ya>"u"&&(ya=Va()),ya===null)throw new Error("BigInt is not supported!");return ya(N)}function ta(){let N=[];N[0]=Pr(1);let t=Pr(900);N[1]=t;for(let r=2;r<16;r++)N[r]=N[r-1]*t;return N}class oe{static decode(t,r){let a=new lt(""),s=Ce.ISO8859_1;a.enableDecoding(s);let u=1,f=t[u++],i=new li;for(;u<t[0];){switch(f){case oe.TEXT_COMPACTION_MODE_LATCH:u=oe.textCompaction(t,u,a);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:u=oe.byteCompaction(f,t,s,u,a);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[u++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:u=oe.numericCompaction(t,u,a);break;case oe.ECI_CHARSET:Ce.getCharacterSetECIByValue(t[u++]);break;case oe.ECI_GENERAL_PURPOSE:u+=2;break;case oe.ECI_USER_DEFINED:u++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=oe.decodeMacroBlock(t,u,i);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new ie;default:u--,u=oe.textCompaction(t,u,a);break}if(u<t.length)f=t[u++];else throw ie.getFormatInstance()}if(a.length()===0)throw ie.getFormatInstance();let o=new rn(null,a.toString(),null,r);return o.setOther(i),o}static decodeMacroBlock(t,r,a){if(r+oe.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw ie.getFormatInstance();let s=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let i=0;i<oe.NUMBER_OF_SEQUENCE_CODEWORDS;i++,r++)s[i]=t[r];a.setSegmentIndex(pe.parseInt(oe.decodeBase900toBase10(s,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new lt;r=oe.textCompaction(t,r,u),a.setFileId(u.toString());let f=-1;for(t[r]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<t[0];)switch(t[r]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let i=new lt;r=oe.textCompaction(t,r+1,i),a.setFileName(i.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let o=new lt;r=oe.textCompaction(t,r+1,o),a.setSender(o.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let d=new lt;r=oe.textCompaction(t,r+1,d),a.setAddressee(d.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new lt;r=oe.numericCompaction(t,r+1,y),a.setSegmentCount(pe.parseInt(y.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let w=new lt;r=oe.numericCompaction(t,r+1,w),a.setTimestamp(ma.parseLong(w.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let C=new lt;r=oe.numericCompaction(t,r+1,C),a.setChecksum(pe.parseInt(C.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new lt;r=oe.numericCompaction(t,r+1,S),a.setFileSize(ma.parseLong(S.toString()));break;default:throw ie.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw ie.getFormatInstance()}if(f!==-1){let i=r-f;a.isLastSegment()&&i--,a.setOptionalData(Ae.copyOfRange(t,f,f+i))}return r}static textCompaction(t,r,a){let s=new Int32Array((t[0]-r)*2),u=new Int32Array((t[0]-r)*2),f=0,i=!1;for(;r<t[0]&&!i;){let o=t[r++];if(o<oe.TEXT_COMPACTION_MODE_LATCH)s[f]=o/30,s[f+1]=o%30,f+=2;else switch(o){case oe.TEXT_COMPACTION_MODE_LATCH:s[f++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:r--,i=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[f]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,o=t[r++],u[f]=o,f++;break}}return oe.decodeTextCompaction(s,u,f,a),r}static decodeTextCompaction(t,r,a,s){let u=jt.ALPHA,f=jt.ALPHA,i=0;for(;i<a;){let o=t[i],d="";switch(u){case jt.ALPHA:if(o<26)d=String.fromCharCode(65+o);else switch(o){case 26:d=" ";break;case oe.LL:u=jt.LOWER;break;case oe.ML:u=jt.MIXED;break;case oe.PS:f=u,u=jt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.LOWER:if(o<26)d=String.fromCharCode(97+o);else switch(o){case 26:d=" ";break;case oe.AS:f=u,u=jt.ALPHA_SHIFT;break;case oe.ML:u=jt.MIXED;break;case oe.PS:f=u,u=jt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.MIXED:if(o<oe.PL)d=oe.MIXED_CHARS[o];else switch(o){case oe.PL:u=jt.PUNCT;break;case 26:d=" ";break;case oe.LL:u=jt.LOWER;break;case oe.AL:u=jt.ALPHA;break;case oe.PS:f=u,u=jt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.PUNCT:if(o<oe.PAL)d=oe.PUNCT_CHARS[o];else switch(o){case oe.PAL:u=jt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(u=f,o<26)d=String.fromCharCode(65+o);else switch(o){case 26:d=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(u=f,o<oe.PAL)d=oe.PUNCT_CHARS[o];else switch(o){case oe.PAL:u=jt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[i]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=jt.ALPHA;break}break}d!==""&&s.append(d),i++}}static byteCompaction(t,r,a,s,u){let f=new Ha,i=0,o=0,d=!1;switch(t){case oe.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),w=r[s++];for(;s<r[0]&&!d;)switch(y[i++]=w,o=900*o+w,w=r[s++],w){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:s--,d=!0;break;default:if(i%5===0&&i>0){for(let C=0;C<6;++C)f.write(Number(Pr(o)>>Pr(8*(5-C))));o=0,i=0}break}s===r[0]&&w<oe.TEXT_COMPACTION_MODE_LATCH&&(y[i++]=w);for(let C=0;C<i;C++)f.write(y[C]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!d;){let C=r[s++];if(C<oe.TEXT_COMPACTION_MODE_LATCH)i++,o=900*o+C;else switch(C){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:s--,d=!0;break}if(i%5===0&&i>0){for(let S=0;S<6;++S)f.write(Number(Pr(o)>>Pr(8*(5-S))));o=0,i=0}}break}return u.append(Zt.decode(f.toByteArray(),a)),s}static numericCompaction(t,r,a){let s=0,u=!1,f=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!u;){let i=t[r++];if(r===t[0]&&(u=!0),i<oe.TEXT_COMPACTION_MODE_LATCH)f[s]=i,s++;else switch(i){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(s%oe.MAX_NUMERIC_CODEWORDS===0||i===oe.NUMERIC_COMPACTION_MODE_LATCH||u)&&s>0&&(a.append(oe.decodeBase900toBase10(f,s)),s=0)}return r}static decodeBase900toBase10(t,r){let a=Pr(0);for(let u=0;u<r;u++)a+=oe.EXP900[r-u-1]*Pr(t[u]);let s=a.toString();if(s.charAt(0)!=="1")throw new ie;return s.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=Va()?ta():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mt{constructor(){}static decode(t,r,a,s,u,f,i){let o=new Gr(t,r,a,s,u),d=null,y=null,w;for(let O=!0;;O=!1){if(r!=null&&(d=mt.getRowIndicatorColumn(t,o,r,!0,f,i)),s!=null&&(y=mt.getRowIndicatorColumn(t,o,s,!1,f,i)),w=mt.merge(d,y),w==null)throw ce.getNotFoundInstance();let I=w.getBoundingBox();if(O&&I!=null&&(I.getMinY()<o.getMinY()||I.getMaxY()>o.getMaxY()))o=I;else break}w.setBoundingBox(o);let C=w.getBarcodeColumnCount()+1;w.setDetectionResultColumn(0,d),w.setDetectionResultColumn(C,y);let S=d!=null;for(let O=1;O<=C;O++){let I=S?O:C-O;if(w.getDetectionResultColumn(I)!==void 0)continue;let k;I===0||I===C?k=new _l(o,I===0):k=new qr(o),w.setDetectionResultColumn(I,k);let U=-1,z=U;for(let j=o.getMinY();j<=o.getMaxY();j++){if(U=mt.getStartColumn(w,I,j,S),U<0||U>o.getMaxX()){if(z===-1)continue;U=z}let F=mt.detectCodeword(t,o.getMinX(),o.getMaxX(),S,U,j,f,i);F!=null&&(k.setCodeword(j,F),z=U,f=Math.min(f,F.getWidth()),i=Math.max(i,F.getWidth()))}}return mt.createDecoderResult(w)}static merge(t,r){if(t==null&&r==null)return null;let a=mt.getBarcodeMetadata(t,r);if(a==null)return null;let s=Gr.merge(mt.adjustBoundingBox(t),mt.adjustBoundingBox(r));return new Cn(a,s)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=mt.getMax(r),s=0;for(let i of r)if(s+=a-i,i>0)break;let u=t.getCodewords();for(let i=0;s>0&&u[i]==null;i++)s--;let f=0;for(let i=r.length-1;i>=0&&(f+=a-r[i],!(r[i]>0));i--);for(let i=u.length-1;f>0&&u[i]==null;i--)f--;return t.getBoundingBox().addMissingRows(s,f,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==s.getColumnCount()&&a.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&a.getRowCount()!==s.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,s,u,f){let i=new _l(r,s);for(let o=0;o<2;o++){let d=o===0?1:-1,y=Math.trunc(Math.trunc(a.getX()));for(let w=Math.trunc(Math.trunc(a.getY()));w<=r.getMaxY()&&w>=r.getMinY();w+=d){let C=mt.detectCodeword(t,0,t.getWidth(),s,y,w,u,f);C!=null&&(i.setCodeword(w,C),s?y=C.getStartX():y=C.getEndX())}}return i}static adjustCodewordCount(t,r){let a=r[0][1],s=a.getValue(),u=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-mt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(u<1||u>We.MAX_CODEWORDS_IN_BARCODE)throw ce.getNotFoundInstance();a.setValue(u)}else s[0]!==u&&a.setValue(u)}static createDecoderResult(t){let r=mt.createBarcodeMatrix(t);mt.adjustCodewordCount(t,r);let a=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),u=[],f=new Array;for(let o=0;o<t.getBarcodeRowCount();o++)for(let d=0;d<t.getBarcodeColumnCount();d++){let y=r[o][d+1].getValue(),w=o*t.getBarcodeColumnCount()+d;y.length===0?a.push(w):y.length===1?s[w]=y[0]:(f.push(w),u.push(y))}let i=new Array(u.length);for(let o=0;o<i.length;o++)i[o]=u[o];return mt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,We.toIntArray(a),We.toIntArray(f),i)}static createDecoderResultFromAmbiguousValues(t,r,a,s,u){let f=new Int32Array(s.length),i=100;for(;i-- >0;){for(let o=0;o<f.length;o++)r[s[o]]=u[o][f[o]];try{return mt.decodeCodewords(r,t,a)}catch(o){if(!(o instanceof me))throw o}if(f.length===0)throw me.getChecksumInstance();for(let o=0;o<f.length;o++)if(f[o]<u[o].length-1){f[o]++;break}else if(f[o]=0,o===f.length-1)throw me.getChecksumInstance()}throw me.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let u=0;u<r[s].length;u++)r[s][u]=new ai;let a=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let u of s.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][a].setValue(u.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,s){let u=s?1:-1,f=null;if(mt.isValidBarcodeColumn(t,r-u)&&(f=t.getDetectionResultColumn(r-u).getCodeword(a)),f!=null)return s?f.getEndX():f.getStartX();if(f=t.getDetectionResultColumn(r).getCodewordNearby(a),f!=null)return s?f.getStartX():f.getEndX();if(mt.isValidBarcodeColumn(t,r-u)&&(f=t.getDetectionResultColumn(r-u).getCodewordNearby(a)),f!=null)return s?f.getEndX():f.getStartX();let i=0;for(;mt.isValidBarcodeColumn(t,r-u);){r-=u;for(let o of t.getDetectionResultColumn(r).getCodewords())if(o!=null)return(s?o.getEndX():o.getStartX())+u*i*(o.getEndX()-o.getStartX());i++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,s,u,f,i,o){u=mt.adjustCodewordStartColumn(t,r,a,s,u,f);let d=mt.getModuleBitCount(t,r,a,s,u,f);if(d==null)return null;let y,w=St.sum(d);if(s)y=u+w;else{for(let O=0;O<d.length/2;O++){let I=d[O];d[O]=d[d.length-1-O],d[d.length-1-O]=I}y=u,u=y-w}if(!mt.checkCodewordSkew(w,i,o))return null;let C=qn.getDecodedValue(d),S=We.getCodeword(C);return S===-1?null:new Fr(u,y,mt.getCodewordBucketNumber(C),S)}static getModuleBitCount(t,r,a,s,u,f){let i=u,o=new Int32Array(8),d=0,y=s?1:-1,w=s;for(;(s?i<a:i>=r)&&d<o.length;)t.get(i,f)===w?(o[d]++,i+=y):(d++,w=!w);return d===o.length||i===(s?a:r)&&d===o.length-1?o:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,s,u,f){let i=u,o=s?-1:1;for(let d=0;d<2;d++){for(;(s?i>=r:i<a)&&s===t.get(i,f);){if(Math.abs(u-i)>mt.CODEWORD_SKEW_SIZE)return u;i+=o}o=-o,s=!s}return i}static checkCodewordSkew(t,r,a){return r-mt.CODEWORD_SKEW_SIZE<=t&&t<=a+mt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw ie.getFormatInstance();let s=1<<r+1,u=mt.correctErrors(t,a,s);mt.verifyCodewordCount(t,s);let f=oe.decode(t,""+r);return f.setErrorsCorrected(u),f.setErasures(a.length),f}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+mt.MAX_ERRORS||a<0||a>mt.MAX_EC_CODEWORDS)throw me.getChecksumInstance();return mt.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw ie.getFormatInstance();let a=t[0];if(a>t.length)throw ie.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw ie.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,s=r.length-1;for(;!((t&1)!==a&&(a=t&1,s--,s<0));)r[s]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return mt.getCodewordBucketNumber(mt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Xr;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let s=0;s<t[a].length;s++){let u=t[a][s];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}mt.CODEWORD_SKEW_SIZE=2,mt.MAX_ERRORS=3,mt.MAX_EC_CODEWORDS=512,mt.errorCorrection=new zr;class Kn{decode(t,r=null){let a=Kn.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw ce.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return Kn.decode(t,r,!0)}catch(a){throw a instanceof ie||a instanceof me?ce.getNotFoundInstance():a}}static decode(t,r,a){const s=new Array,u=st.detectMultiple(t,r,a);for(const f of u.getPoints()){const i=mt.decode(u.getBits(),f[4],f[5],f[6],f[7],Kn.getMinCodewordWidth(f),Kn.getMaxCodewordWidth(f)),o=new Me(i.getText(),i.getRawBytes(),void 0,f,Ne.PDF_417);o.putMetadata(Nt.ERROR_CORRECTION_LEVEL,i.getECLevel());const d=i.getOther();d!=null&&o.putMetadata(Nt.PDF417_EXTRA_METADATA,d),s.push(o)}return s.map(f=>f)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?pe.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Kn.getMaxWidth(t[0],t[4]),Kn.getMaxWidth(t[6],t[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(Kn.getMaxWidth(t[1],t[5]),Kn.getMaxWidth(t[7],t[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Kn.getMinWidth(t[0],t[4]),Kn.getMinWidth(t[6],t[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(Kn.getMinWidth(t[1],t[5]),Kn.getMinWidth(t[7],t[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}reset(){}}class si extends v{}si.kind="ReaderException";class Ya{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!p(t)&&t.get(Ye.TRY_HARDER)===!0,a=p(t)?null:t.get(Ye.POSSIBLE_FORMATS),s=new Array;if(!p(a)){const u=a.some(f=>f===Ne.UPC_A||f===Ne.UPC_E||f===Ne.EAN_13||f===Ne.EAN_8||f===Ne.CODABAR||f===Ne.CODE_39||f===Ne.CODE_93||f===Ne.CODE_128||f===Ne.ITF||f===Ne.RSS_14||f===Ne.RSS_EXPANDED);u&&!r&&s.push(new mr(t,this.verbose)),a.includes(Ne.QR_CODE)&&s.push(new zn),a.includes(Ne.DATA_MATRIX)&&s.push(new Vr),a.includes(Ne.AZTEC)&&s.push(new Ui),a.includes(Ne.PDF_417)&&s.push(new Kn),u&&r&&s.push(new mr(t,this.verbose))}s.length===0&&(r||s.push(new mr(t,this.verbose)),s.push(new zn),s.push(new Vr),s.push(new Ui),s.push(new Kn),r&&s.push(new mr(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new si("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof si)continue}throw new ce("No MultiFormat Readers were able to detect the code.")}}class Ga extends De{constructor(t=null,r=500){const a=new Ya;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Nl extends De{constructor(t=500){super(new Kn,t)}}class Rl extends De{constructor(t=500){super(new zn,t)}}var Fn;(function(N){N[N.ERROR_CORRECTION=0]="ERROR_CORRECTION",N[N.CHARACTER_SET=1]="CHARACTER_SET",N[N.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",N[N.MIN_SIZE=3]="MIN_SIZE",N[N.MAX_SIZE=4]="MAX_SIZE",N[N.MARGIN=5]="MARGIN",N[N.PDF417_COMPACT=6]="PDF417_COMPACT",N[N.PDF417_COMPACTION=7]="PDF417_COMPACTION",N[N.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",N[N.AZTEC_LAYERS=9]="AZTEC_LAYERS",N[N.QR_VERSION=10]="QR_VERSION"})(Fn||(Fn={}));var xn=Fn;class oi{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ln(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const s=this.field;for(let u=r.length;u<=t;u++){const f=a.multiply(new Ln(s,Int32Array.from([1,s.exp(u-1+s.getGeneratorBase())])));r.push(f),a=f}}return r[t]}encode(t,r){if(r===0)throw new B("No error correction bytes");const a=t.length-r;if(a<=0)throw new B("No data bytes provided");const s=this.buildGenerator(r),u=new Int32Array(a);J.arraycopy(t,0,u,0,a);let f=new Ln(this.field,u);f=f.multiplyByMonomial(r,1);const o=f.divide(s)[1].getCoefficients(),d=r-o.length;for(let y=0;y<d;y++)t[a+y]=0;J.arraycopy(o,0,t,a+d,o.length)}}class wn{constructor(){}static applyMaskPenaltyRule1(t){return wn.applyMaskPenaltyRule1Internal(t,!0)+wn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let f=0;f<u-1;f++){const i=a[f];for(let o=0;o<s-1;o++){const d=i[o];d===i[o+1]&&d===a[f+1][o]&&d===a[f+1][o+1]&&r++}}return wn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let f=0;f<u;f++)for(let i=0;i<s;i++){const o=a[f];i+6<s&&o[i]===1&&o[i+1]===0&&o[i+2]===1&&o[i+3]===1&&o[i+4]===1&&o[i+5]===0&&o[i+6]===1&&(wn.isWhiteHorizontal(o,i-4,i)||wn.isWhiteHorizontal(o,i+7,i+11))&&r++,f+6<u&&a[f][i]===1&&a[f+1][i]===0&&a[f+2][i]===1&&a[f+3][i]===1&&a[f+4][i]===1&&a[f+5][i]===0&&a[f+6][i]===1&&(wn.isWhiteVertical(a,i,f-4,f)||wn.isWhiteVertical(a,i,f+7,f+11))&&r++}return r*wn.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let s=r;s<a;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,r,a,s){a=Math.max(a,0),s=Math.min(s,t.length);for(let u=a;u<s;u++)if(t[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),s=t.getWidth(),u=t.getHeight();for(let o=0;o<u;o++){const d=a[o];for(let y=0;y<s;y++)d[y]===1&&r++}const f=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*wn.N4}static getDataMaskBit(t,r,a){let s,u;switch(t){case 0:s=a+r&1;break;case 1:s=a&1;break;case 2:s=r%3;break;case 3:s=(a+r)%3;break;case 4:s=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:u=a*r,s=(u&1)+u%3;break;case 6:u=a*r,s=(u&1)+u%3&1;break;case 7:u=a*r,s=u%3+(a+r&1)&1;break;default:throw new B("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const s=r?t.getHeight():t.getWidth(),u=r?t.getWidth():t.getHeight(),f=t.getArray();for(let i=0;i<s;i++){let o=0,d=-1;for(let y=0;y<u;y++){const w=r?f[i][y]:f[y][i];w===d?o++:(o>=5&&(a+=wn.N1+(o-5)),o=1,d=w)}o>=5&&(a+=wn.N1+(o-5))}return a}}wn.N1=3,wn.N2=3,wn.N3=40,wn.N4=10;class ji{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let s=0;s!==r;s++)a[s]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)Ae.fill(r,t)}equals(t){if(!(t instanceof ji))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,s=this.height;a<s;++a){const u=this.bytes[a],f=r.bytes[a];for(let i=0,o=this.width;i<o;++i)if(u[i]!==f[i])return!1}return!0}toString(){const t=new lt;for(let r=0,a=this.height;r<a;++r){const s=this.bytes[r];for(let u=0,f=this.width;u<f;++u)switch(s[u]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ci{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new lt;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ci.NUM_MASK_PATTERNS}}Ci.NUM_MASK_PATTERNS=8;class Xt extends v{}Xt.kind="WriterException";class $e{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,s,u){$e.clearMatrix(u),$e.embedBasicPatterns(a,u),$e.embedTypeInfo(r,s,u),$e.maybeEmbedVersionInfo(a,u),$e.embedDataBits(t,s,u)}static embedBasicPatterns(t,r){$e.embedPositionDetectionPatternsAndSeparators(r),$e.embedDarkDotAtLeftBottomCorner(r),$e.maybeEmbedPositionAdjustmentPatterns(t,r),$e.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const s=new Ue;$e.makeTypeInfoBits(t,r,s);for(let u=0,f=s.getSize();u<f;++u){const i=s.get(s.getSize()-1-u),o=$e.TYPE_INFO_COORDINATES[u],d=o[0],y=o[1];if(a.setBoolean(d,y,i),u<8){const w=a.getWidth()-u-1;a.setBoolean(w,8,i)}else{const C=a.getHeight()-7+(u-8);a.setBoolean(8,C,i)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new Ue;$e.makeVersionInfoBits(t,a);let s=17;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const i=a.get(s);s--,r.setBoolean(u,r.getHeight()-11+f,i),r.setBoolean(r.getHeight()-11+f,u,i)}}static embedDataBits(t,r,a){let s=0,u=-1,f=a.getWidth()-1,i=a.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);i>=0&&i<a.getHeight();){for(let o=0;o<2;++o){const d=f-o;if(!$e.isEmpty(a.get(d,i)))continue;let y;s<t.getSize()?(y=t.get(s),++s):y=!1,r!==255&&wn.getDataMaskBit(r,d,i)&&(y=!y),a.setBoolean(d,i,y)}i+=u}u=-u,i+=u,f-=2}if(s!==t.getSize())throw new Xt("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-pe.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new B("0 polynomial");const a=$e.findMSBSet(r);for(t<<=a-1;$e.findMSBSet(t)>=a;)t^=r<<$e.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!Ci.isValidMaskPattern(r))throw new Xt("Invalid mask pattern");const s=t.getBits()<<3|r;a.appendBits(s,5);const u=$e.calculateBCHCode(s,$e.TYPE_INFO_POLY);a.appendBits(u,10);const f=new Ue;if(f.appendBits($e.TYPE_INFO_MASK_PATTERN,15),a.xor(f),a.getSize()!==15)throw new Xt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=$e.calculateBCHCode(t.getVersionNumber(),$e.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Xt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;$e.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),$e.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Xt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let s=0;s<8;++s){if(!$e.isEmpty(a.get(t+s,r)))throw new Xt;a.setNumber(t+s,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let s=0;s<7;++s){if(!$e.isEmpty(a.get(t,r+s)))throw new Xt;a.setNumber(t,r+s,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let s=0;s<5;++s){const u=$e.POSITION_ADJUSTMENT_PATTERN[s];for(let f=0;f<5;++f)a.setNumber(t+f,r+s,u[f])}}static embedPositionDetectionPattern(t,r,a){for(let s=0;s<7;++s){const u=$e.POSITION_DETECTION_PATTERN[s];for(let f=0;f<7;++f)a.setNumber(t+f,r+s,u[f])}}static embedPositionDetectionPatternsAndSeparators(t){const r=$e.POSITION_DETECTION_PATTERN[0].length;$e.embedPositionDetectionPattern(0,0,t),$e.embedPositionDetectionPattern(t.getWidth()-r,0,t),$e.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;$e.embedHorizontalSeparationPattern(0,a-1,t),$e.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),$e.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const s=7;$e.embedVerticalSeparationPattern(s,0,t),$e.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),$e.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,s=$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,f=s.length;u!==f;u++){const i=s[u];if(i>=0)for(let o=0;o!==f;o++){const d=s[o];d>=0&&$e.isEmpty(r.get(d,i))&&$e.embedPositionAdjustmentPattern(d-2,i-2,r)}}}}$e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$e.VERSION_INFO_POLY=7973,$e.TYPE_INFO_POLY=1335,$e.TYPE_INFO_MASK_PATTERN=21522;class Il{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ht{constructor(){}static calculateMaskPenalty(t){return wn.applyMaskPenaltyRule1(t)+wn.applyMaskPenaltyRule2(t)+wn.applyMaskPenaltyRule3(t)+wn.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let s=Ht.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(xn.CHARACTER_SET)!==void 0;u&&(s=a.get(xn.CHARACTER_SET).toString());const f=this.chooseMode(t,s),i=new Ue;if(f===Qe.BYTE&&(u||Ht.DEFAULT_BYTE_MODE_ENCODING!==s)){const j=Ce.getCharacterSetECIByName(s);j!==void 0&&this.appendECI(j,i)}this.appendModeInfo(f,i);const o=new Ue;this.appendBytes(t,f,o,s);let d;if(a!==null&&a.get(xn.QR_VERSION)!==void 0){const j=Number.parseInt(a.get(xn.QR_VERSION).toString(),10);d=Ge.getVersionForNumber(j);const F=this.calculateBitsNeeded(f,i,o,d);if(!this.willFit(F,d,r))throw new Xt("Data too big for requested version")}else d=this.recommendVersion(r,f,i,o);const y=new Ue;y.appendBitArray(i);const w=f===Qe.BYTE?o.getSizeInBytes():t.length;this.appendLengthInfo(w,d,f,y),y.appendBitArray(o);const C=d.getECBlocksForLevel(r),S=d.getTotalCodewords()-C.getTotalECCodewords();this.terminateBits(S,y);const O=this.interleaveWithECBytes(y,d.getTotalCodewords(),S,C.getNumBlocks()),I=new Ci;I.setECLevel(r),I.setMode(f),I.setVersion(d);const k=d.getDimensionForVersion(),U=new ji(k,k),z=this.chooseMaskPattern(O,r,d,U);return I.setMaskPattern(z),$e.buildMatrix(O,r,d,z,U),I.setMatrix(U),I}static recommendVersion(t,r,a,s){const u=this.calculateBitsNeeded(r,a,s,Ge.getVersionForNumber(1)),f=this.chooseVersion(u,t),i=this.calculateBitsNeeded(r,a,s,f);return this.chooseVersion(i,t)}static calculateBitsNeeded(t,r,a,s){return r.getSize()+t.getCharacterCountBits(s)+a.getSize()}static getAlphanumericCode(t){return t<Ht.ALPHANUMERIC_TABLE.length?Ht.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(Ce.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Qe.KANJI;let a=!1,s=!1;for(let u=0,f=t.length;u<f;++u){const i=t.charAt(u);if(Ht.isDigit(i))a=!0;else if(this.getAlphanumericCode(i.charCodeAt(0))!==-1)s=!0;else return Qe.BYTE}return s?Qe.ALPHANUMERIC:a?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Zt.encode(t,Ce.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let s=0;s<a;s+=2){const u=r[s]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(t,r,a,s){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let i=0;i<Ci.NUM_MASK_PATTERNS;i++){$e.buildMatrix(t,r,a,i,s);let o=this.calculateMaskPenalty(s);o<u&&(u=o,f=i)}return f}static chooseVersion(t,r){for(let a=1;a<=40;a++){const s=Ge.getVersionForNumber(a);if(Ht.willFit(t,s,r))return s}throw new Xt("Data too big")}static willFit(t,r,a){const s=r.getTotalCodewords(),f=r.getECBlocksForLevel(a).getTotalECCodewords(),i=s-f,o=(t+7)/8;return i>=o}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new Xt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let f=0;f<4&&r.getSize()<a;++f)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let f=s;f<8;f++)r.appendBit(!1);const u=t-r.getSizeInBytes();for(let f=0;f<u;++f)r.appendBits((f&1)===0?236:17,8);if(r.getSize()!==a)throw new Xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,s,u,f){if(s>=a)throw new Xt("Block ID too large");const i=t%a,o=a-i,d=Math.floor(t/a),y=d+1,w=Math.floor(r/a),C=w+1,S=d-w,O=y-C;if(S!==O)throw new Xt("EC bytes mismatch");if(a!==o+i)throw new Xt("RS blocks mismatch");if(t!==(w+S)*o+(C+O)*i)throw new Xt("Total bytes mismatch");s<o?(u[0]=w,f[0]=S):(u[0]=C,f[0]=O)}static interleaveWithECBytes(t,r,a,s){if(t.getSizeInBytes()!==a)throw new Xt("Number of bits and data bytes does not match");let u=0,f=0,i=0;const o=new Array;for(let y=0;y<s;++y){const w=new Int32Array(1),C=new Int32Array(1);Ht.getNumDataBytesAndNumECBytesForBlockID(r,a,s,y,w,C);const S=w[0],O=new Uint8Array(S);t.toBytes(8*u,O,0,S);const I=Ht.generateECBytes(O,C[0]);o.push(new Il(O,I)),f=Math.max(f,S),i=Math.max(i,I.length),u+=w[0]}if(a!==u)throw new Xt("Data bytes does not match offset");const d=new Ue;for(let y=0;y<f;++y)for(const w of o){const C=w.getDataBytes();y<C.length&&d.appendBits(C[y],8)}for(let y=0;y<i;++y)for(const w of o){const C=w.getErrorCorrectionBytes();y<C.length&&d.appendBits(C[y],8)}if(r!==d.getSizeInBytes())throw new Xt("Interleaving error: "+r+" and "+d.getSizeInBytes()+" differ.");return d}static generateECBytes(t,r){const a=t.length,s=new Int32Array(a+r);for(let f=0;f<a;f++)s[f]=t[f]&255;new oi(At.QR_CODE_FIELD_256).encode(s,r);const u=new Uint8Array(r);for(let f=0;f<r;f++)u[f]=s[a+f];return u}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,s){const u=a.getCharacterCountBits(r);if(t>=1<<u)throw new Xt(t+" is bigger than "+((1<<u)-1));s.appendBits(t,u)}static appendBytes(t,r,a,s){switch(r){case Qe.NUMERIC:Ht.appendNumericBytes(t,a);break;case Qe.ALPHANUMERIC:Ht.appendAlphanumericBytes(t,a);break;case Qe.BYTE:Ht.append8BitBytes(t,a,s);break;case Qe.KANJI:Ht.appendKanjiBytes(t,a);break;default:throw new Xt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Ht.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let s=0;for(;s<a;){const u=Ht.getDigit(t.charAt(s));if(s+2<a){const f=Ht.getDigit(t.charAt(s+1)),i=Ht.getDigit(t.charAt(s+2));r.appendBits(u*100+f*10+i,10),s+=3}else if(s+1<a){const f=Ht.getDigit(t.charAt(s+1));r.appendBits(u*10+f,7),s+=2}else r.appendBits(u,4),s++}}static appendAlphanumericBytes(t,r){const a=t.length;let s=0;for(;s<a;){const u=Ht.getAlphanumericCode(t.charCodeAt(s));if(u===-1)throw new Xt;if(s+1<a){const f=Ht.getAlphanumericCode(t.charCodeAt(s+1));if(f===-1)throw new Xt;r.appendBits(u*45+f,11),s+=2}else r.appendBits(u,6),s++}}static append8BitBytes(t,r,a){let s;try{s=Zt.encode(t,a)}catch(u){throw new Xt(u)}for(let u=0,f=s.length;u!==f;u++){const i=s[u];r.appendBits(i,8)}}static appendKanjiBytes(t,r){let a;try{a=Zt.encode(t,Ce.SJIS)}catch(u){throw new Xt(u)}const s=a.length;for(let u=0;u<s;u+=2){const f=a[u]&255,i=a[u+1]&255,o=f<<8&4294967295|i;let d=-1;if(o>=33088&&o<=40956?d=o-33088:o>=57408&&o<=60351&&(d=o-49472),d===-1)throw new Xt("Invalid byte sequence");const y=(d>>8)*192+(d&255);r.appendBits(y,13)}}static appendECI(t,r){r.appendBits(Qe.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ht.DEFAULT_BYTE_MODE_ENCODING=Ce.UTF8.getName();class ui{write(t,r,a,s=null){if(t.length===0)throw new B("Found empty contents");if(r<0||a<0)throw new B("Requested dimensions are too small: "+r+"x"+a);let u=dt.L,f=ui.QUIET_ZONE_SIZE;s!==null&&(s.get(xn.ERROR_CORRECTION)!==void 0&&(u=dt.fromString(s.get(xn.ERROR_CORRECTION).toString())),s.get(xn.MARGIN)!==void 0&&(f=Number.parseInt(s.get(xn.MARGIN).toString(),10)));const i=Ht.encode(t,u,s);return this.renderResult(i,r,a,f)}writeToDom(t,r,a,s,u=null){typeof t=="string"&&(t=document.querySelector(t));const f=this.write(r,a,s,u);t&&t.appendChild(f)}renderResult(t,r,a,s){const u=t.getMatrix();if(u===null)throw new Un;const f=u.getWidth(),i=u.getHeight(),o=f+s*2,d=i+s*2,y=Math.max(r,o),w=Math.max(a,d),C=Math.min(Math.floor(y/o),Math.floor(w/d)),S=Math.floor((y-f*C)/2),O=Math.floor((w-i*C)/2),I=this.createSVGElement(y,w);for(let k=0,U=O;k<i;k++,U+=C)for(let z=0,j=S;z<f;z++,j+=C)if(u.get(z,k)===1){const F=this.createSvgRectElement(j,U,C,C);I.appendChild(F)}return I}createSVGElement(t,r){const a=document.createElementNS(ui.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,s){const u=document.createElementNS(ui.SVG_NS,"rect");return u.setAttributeNS(null,"x",t.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",s.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ui.QUIET_ZONE_SIZE=4,ui.SVG_NS="http://www.w3.org/2000/svg";class vi{encode(t,r,a,s,u){if(t.length===0)throw new B("Found empty contents");if(r!==Ne.QR_CODE)throw new B("Can only encode QR_CODE, but got "+r);if(a<0||s<0)throw new B(`Requested dimensions are too small: ${a}x${s}`);let f=dt.L,i=vi.QUIET_ZONE_SIZE;u!==null&&(u.get(xn.ERROR_CORRECTION)!==void 0&&(f=dt.fromString(u.get(xn.ERROR_CORRECTION).toString())),u.get(xn.MARGIN)!==void 0&&(i=Number.parseInt(u.get(xn.MARGIN).toString(),10)));const o=Ht.encode(t,f,u);return vi.renderResult(o,a,s,i)}static renderResult(t,r,a,s){const u=t.getMatrix();if(u===null)throw new Un;const f=u.getWidth(),i=u.getHeight(),o=f+s*2,d=i+s*2,y=Math.max(r,o),w=Math.max(a,d),C=Math.min(Math.floor(y/o),Math.floor(w/d)),S=Math.floor((y-f*C)/2),O=Math.floor((w-i*C)/2),I=new Ot(y,w);for(let k=0,U=O;k<i;k++,U+=C)for(let z=0,j=S;z<f;z++,j+=C)u.get(z,k)===1&&I.setRegion(j,U,C,C);return I}}vi.QUIET_ZONE_SIZE=4;class Xa{encode(t,r,a,s,u){let f;if(r===Ne.QR_CODE)f=new vi;else throw new B("No encoder available for format "+r);return f.encode(t,r,a,s,u)}}class Nr extends He{constructor(t,r,a,s,u,f,i,o){if(super(f,i),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=s,this.top=u,s+f>r||u+i>a)throw new B("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(f,i)}getRow(t,r){if(t<0||t>=this.getHeight())throw new B("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,s,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,s=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.yuvData,u,s,0,a),s;for(let f=0;f<r;f++){const i=f*t;J.arraycopy(this.yuvData,u,s,i,t),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,a,s){return new Nr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,s,!1)}renderThumbnail(){const t=this.getWidth()/Nr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Nr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),s=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const i=f*t;for(let o=0;o<t;o++){const d=s[u+o*Nr.THUMBNAIL_SCALE_FACTOR]&255;a[i+o]=4278190080|d*65793}u+=this.dataWidth*Nr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Nr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Nr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let s=0,u=this.top*this.dataWidth+this.left;s<r;s++,u+=this.dataWidth){const f=u+t/2;for(let i=u,o=u+t-1;i<f;i++,o--){const d=a[i];a[i]=a[o],a[o]=d}}}invert(){return new ft(this)}}Nr.THUMBNAIL_SCALE_FACTOR=2;class qa extends He{constructor(t,r,a,s,u,f,i){if(super(r,a),this.dataWidth=s,this.dataHeight=u,this.left=f,this.top=i,t.BYTES_PER_ELEMENT===4){const o=r*a,d=new Uint8ClampedArray(o);for(let y=0;y<o;y++){const w=t[y],C=w>>16&255,S=w>>7&510,O=w&255;d[y]=(C+S+O)/4&255}this.luminances=d}else this.luminances=t;if(s===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=a),f===void 0&&(this.left=0),i===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new B("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new B("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const s=(t+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,s,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,s=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return J.arraycopy(this.luminances,u,s,0,a),s;for(let f=0;f<r;f++){const i=f*t;J.arraycopy(this.luminances,u,s,i,t),u+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,a,s){return new qa(this.luminances,a,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new ft(this)}}class Wl extends Ce{static forName(t){return this.getCharacterSetECIByName(t)}}class Hi{}Hi.ISO_8859_1=Ce.ISO8859_1;class ci{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Jl{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Ka{constructor(t){this.previous=t}getPrevious(){return this.previous}}class fi extends Ka{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new fi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+pe.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Za extends fi{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new Za(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ml(N,t,r){return new Za(N,t,r)}function na(N,t,r){return new fi(N,t,r)}const Vi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],hi=0,Qa=1,xr=2,xa=3,Rr=4,ra=new fi(null,0,0),Yi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Rs(N){for(let t of N)Ae.fill(t,-1);return N[hi][Rr]=0,N[Qa][Rr]=0,N[Qa][hi]=28,N[xa][Rr]=0,N[xr][Rr]=0,N[xr][hi]=15,N}const wa=Rs(Ae.createInt32Array(6,6));class or{constructor(t,r,a,s){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,s=this.token;if(t!==this.mode){let f=Yi[this.mode][t];s=na(s,f&65535,f>>16),a+=f>>16}let u=t===xr?4:5;return s=na(s,r,u),new or(s,t,0,a+u)}shiftAndAppend(t,r){let a=this.token,s=this.mode===xr?4:5;return a=na(a,wa[this.mode][t],s),a=na(a,r,5),new or(a,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,s=this.bitCount;if(this.mode===Rr||this.mode===xr){let i=Yi[a][hi];r=na(r,i&65535,i>>16),s+=i>>16,a=hi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new or(r,a,this.binaryShiftByteCount+1,s+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(t+1)),f}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Ml(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new or(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Yi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=or.calculateBinaryShiftCost(t)-or.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())r.unshift(s);let a=new Ue;for(const s of r)s.appendTo(a,t);return a}toString(){return je.format("%s bits=%d bytes=%d",Vi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}or.INITIAL_STATE=new or(ra,hi,0,0);function Kr(N){const t=je.getCharCode(" "),r=je.getCharCode("."),a=je.getCharCode(",");N[hi][t]=1;const s=je.getCharCode("Z"),u=je.getCharCode("A");for(let C=u;C<=s;C++)N[hi][C]=C-u+2;N[Qa][t]=1;const f=je.getCharCode("z"),i=je.getCharCode("a");for(let C=i;C<=f;C++)N[Qa][C]=C-i+2;N[xr][t]=1;const o=je.getCharCode("9"),d=je.getCharCode("0");for(let C=d;C<=o;C++)N[xr][C]=C-d+2;N[xr][a]=12,N[xr][r]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let C=0;C<y.length;C++)N[xa][je.getCharCode(y[C])]=C;const w=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let C=0;C<w.length;C++)je.getCharCode(w[C])>0&&(N[Rr][je.getCharCode(w[C])]=C);return N}const ln=Kr(Ae.createInt32Array(5,256));class Zr{constructor(t){this.text=t}encode(){const t=je.getCharCode(" "),r=je.getCharCode(`
`);let a=Jl.singletonList(or.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,i=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case je.getCharCode("\r"):f=i===r?2:0;break;case je.getCharCode("."):f=i===t?3:0;break;case je.getCharCode(","):f=i===t?4:0;break;case je.getCharCode(":"):f=i===t?5:0;break;default:f=0}f>0?(a=Zr.updateStateListForPair(a,u,f),u++):a=this.updateStateListForChar(a,u)}return Jl.min(a,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let s of t)this.updateStateForChar(s,r,a);return Zr.simplifyStates(a)}updateStateForChar(t,r,a){let s=this.text[r]&255,u=ln[t.getMode()][s]>0,f=null;for(let i=0;i<=Rr;i++){let o=ln[i][s];if(o>0){if(f==null&&(f=t.endBinaryShift(r)),!u||i===t.getMode()||i===xr){const d=f.latchAndAppend(i,o);a.push(d)}if(!u&&wa[t.getMode()][i]>=0){const d=f.shiftAndAppend(i,o);a.push(d)}}}if(t.getBinaryShiftByteCount()>0||ln[t.getMode()][s]===0){let i=t.addBinaryShiftChar(r);a.push(i)}}static updateStateListForPair(t,r,a){const s=[];for(let u of t)this.updateStateForPair(u,r,a,s);return this.simplifyStates(s)}static updateStateForPair(t,r,a,s){let u=t.endBinaryShift(r);if(s.push(u.latchAndAppend(Rr,a)),t.getMode()!==Rr&&s.push(u.shiftAndAppend(Rr,a)),a===3||a===4){let f=u.latchAndAppend(xr,16-a).latchAndAppend(xr,1);s.push(f)}if(t.getBinaryShiftByteCount()>0){let f=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(f)}}static simplifyStates(t){let r=[];for(const a of t){let s=!0;for(const u of r){if(u.isBetterThanOrEqualTo(a)){s=!1;break}a.isBetterThanOrEqualTo(u)&&(r=r.filter(f=>f!==u))}s&&r.push(a)}return r}}class xt{constructor(){}static encodeBytes(t){return xt.encode(t,xt.DEFAULT_EC_PERCENT,xt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let s=new Zr(t).encode(),u=pe.truncDivision(s.getSize()*r,100)+11,f=s.getSize()+u,i,o,d,y,w;if(a!==xt.DEFAULT_AZTEC_LAYERS){if(i=a<0,o=Math.abs(a),o>(i?xt.MAX_NB_BITS_COMPACT:xt.MAX_NB_BITS))throw new B(je.format("Illegal value %s for layers",a));d=xt.totalBitsInLayer(o,i),y=xt.WORD_SIZE[o];let F=d-d%y;if(w=xt.stuffBits(s,y),w.getSize()+u>F)throw new B("Data to large for user specified layer");if(i&&w.getSize()>y*64)throw new B("Data to large for user specified layer")}else{y=0,w=null;for(let F=0;;F++){if(F>xt.MAX_NB_BITS)throw new B("Data too large for an Aztec code");if(i=F<=3,o=i?F+1:F,d=xt.totalBitsInLayer(o,i),f>d)continue;(w==null||y!==xt.WORD_SIZE[o])&&(y=xt.WORD_SIZE[o],w=xt.stuffBits(s,y));let V=d-d%y;if(!(i&&w.getSize()>y*64)&&w.getSize()+u<=V)break}}let C=xt.generateCheckWords(w,d,y),S=w.getSize()/y,O=xt.generateModeMessage(i,o,S),I=(i?11:14)+o*4,k=new Int32Array(I),U;if(i){U=I;for(let F=0;F<k.length;F++)k[F]=F}else{U=I+1+2*pe.truncDivision(pe.truncDivision(I,2)-1,15);let F=pe.truncDivision(I,2),V=pe.truncDivision(U,2);for(let H=0;H<F;H++){let K=H+pe.truncDivision(H,15);k[F-H-1]=V-K-1,k[F+H]=V+K+1}}let z=new Ot(U);for(let F=0,V=0;F<o;F++){let H=(o-F)*4+(i?9:12);for(let K=0;K<H;K++){let W=K*2;for(let q=0;q<2;q++)C.get(V+W+q)&&z.set(k[F*2+q],k[F*2+K]),C.get(V+H*2+W+q)&&z.set(k[F*2+K],k[I-1-F*2-q]),C.get(V+H*4+W+q)&&z.set(k[I-1-F*2-q],k[I-1-F*2-K]),C.get(V+H*6+W+q)&&z.set(k[I-1-F*2-K],k[F*2+q])}V+=H*8}if(xt.drawModeMessage(z,i,U,O),i)xt.drawBullsEye(z,pe.truncDivision(U,2),5);else{xt.drawBullsEye(z,pe.truncDivision(U,2),7);for(let F=0,V=0;F<pe.truncDivision(I,2)-1;F+=15,V+=16)for(let H=pe.truncDivision(U,2)&1;H<U;H+=2)z.set(pe.truncDivision(U,2)-V,H),z.set(pe.truncDivision(U,2)+V,H),z.set(H,pe.truncDivision(U,2)-V),z.set(H,pe.truncDivision(U,2)+V)}let j=new ci;return j.setCompact(i),j.setSize(U),j.setLayers(o),j.setCodeWords(S),j.setMatrix(z),j}static drawBullsEye(t,r,a){for(let s=0;s<a;s+=2)for(let u=r-s;u<=r+s;u++)t.set(u,r-s),t.set(u,r+s),t.set(r-s,u),t.set(r+s,u);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let s=new Ue;return t?(s.appendBits(r-1,2),s.appendBits(a-1,6),s=xt.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(a-1,11),s=xt.generateCheckWords(s,40,4)),s}static drawModeMessage(t,r,a,s){let u=pe.truncDivision(a,2);if(r)for(let f=0;f<7;f++){let i=u-3+f;s.get(f)&&t.set(i,u-5),s.get(f+7)&&t.set(u+5,i),s.get(20-f)&&t.set(i,u+5),s.get(27-f)&&t.set(u-5,i)}else for(let f=0;f<10;f++){let i=u-5+f+pe.truncDivision(f,5);s.get(f)&&t.set(i,u-7),s.get(f+10)&&t.set(u+7,i),s.get(29-f)&&t.set(i,u+7),s.get(39-f)&&t.set(u-7,i)}}static generateCheckWords(t,r,a){let s=t.getSize()/a,u=new oi(xt.getGF(a)),f=pe.truncDivision(r,a),i=xt.bitsToWords(t,a,f);u.encode(i,f-s);let o=r%a,d=new Ue;d.appendBits(0,o);for(const y of Array.from(i))d.appendBits(y,a);return d}static bitsToWords(t,r,a){let s=new Int32Array(a),u,f;for(u=0,f=t.getSize()/r;u<f;u++){let i=0;for(let o=0;o<r;o++)i|=t.get(u*r+o)?1<<r-o-1:0;s[u]=i}return s}static getGF(t){switch(t){case 4:return At.AZTEC_PARAM;case 6:return At.AZTEC_DATA_6;case 8:return At.AZTEC_DATA_8;case 10:return At.AZTEC_DATA_10;case 12:return At.AZTEC_DATA_12;default:throw new B("Unsupported word size "+t)}}static stuffBits(t,r){let a=new Ue,s=t.getSize(),u=(1<<r)-2;for(let f=0;f<s;f+=r){let i=0;for(let o=0;o<r;o++)(f+o>=s||t.get(f+o))&&(i|=1<<r-1-o);(i&u)===u?(a.appendBits(i&u,r),f--):(i&u)===0?(a.appendBits(i|1,r),f--):a.appendBits(i,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}xt.DEFAULT_EC_PERCENT=33,xt.DEFAULT_AZTEC_LAYERS=0,xt.MAX_NB_BITS=32,xt.MAX_NB_BITS_COMPACT=4,xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ba{encode(t,r,a,s){return this.encodeWithHints(t,r,a,s,null)}encodeWithHints(t,r,a,s,u){let f=Hi.ISO_8859_1,i=xt.DEFAULT_EC_PERCENT,o=xt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(xn.CHARACTER_SET)&&(f=Wl.forName(u.get(xn.CHARACTER_SET).toString())),u.has(xn.ERROR_CORRECTION)&&(i=pe.parseInt(u.get(xn.ERROR_CORRECTION).toString())),u.has(xn.AZTEC_LAYERS)&&(o=pe.parseInt(u.get(xn.AZTEC_LAYERS).toString()))),ba.encodeLayers(t,r,a,s,f,i,o)}static encodeLayers(t,r,a,s,u,f,i){if(r!==Ne.AZTEC)throw new B("Can only encode AZTEC, but got "+r);let o=xt.encode(je.getBytes(t,u),f,i);return ba.renderResult(o,a,s)}static renderResult(t,r,a){let s=t.getMatrix();if(s==null)throw new Un;let u=s.getWidth(),f=s.getHeight(),i=Math.max(r,u),o=Math.max(a,f),d=Math.min(i/u,o/f),y=(i-u*d)/2,w=(o-f*d)/2,C=new Ot(i,o);for(let S=0,O=w;S<f;S++,O+=d)for(let I=0,k=y;I<u;I++,k+=d)s.get(I,S)&&C.setRegion(k,O,d,d);return C}}m.AbstractExpandedDecoder=tn,m.ArgumentException=M,m.ArithmeticException=Rt,m.AztecCode=ci,m.AztecCodeReader=Ui,m.AztecCodeWriter=ba,m.AztecDecoder=Qt,m.AztecDetector=ha,m.AztecDetectorResult=Zi,m.AztecEncoder=xt,m.AztecHighLevelEncoder=Zr,m.AztecPoint=Mn,m.BarcodeFormat=Ne,m.Binarizer=$,m.BinaryBitmap=ae,m.BitArray=Ue,m.BitMatrix=Ot,m.BitSource=_r,m.BrowserAztecCodeReader=ki,m.BrowserBarcodeReader=zi,m.BrowserCodeReader=De,m.BrowserDatamatrixCodeReader=Gt,m.BrowserMultiFormatReader=Ga,m.BrowserPDF417Reader=Nl,m.BrowserQRCodeReader=Rl,m.BrowserQRCodeSvgWriter=ui,m.CharacterSetECI=Ce,m.ChecksumException=me,m.Code128Reader=_e,m.Code39Reader=It,m.DataMatrixDecodedBitStreamParser=pr,m.DataMatrixReader=Vr,m.DecodeHintType=Ye,m.DecoderResult=rn,m.DefaultGridSampler=ri,m.DetectorResult=fa,m.EAN13Reader=Lr,m.EncodeHintType=xn,m.Exception=v,m.FormatException=ie,m.GenericGF=At,m.GenericGFPoly=Ln,m.GlobalHistogramBinarizer=ee,m.GridSampler=Li,m.GridSamplerInstance=cr,m.HTMLCanvasElementLuminanceSource=ot,m.HybridBinarizer=ye,m.ITFReader=Se,m.IllegalArgumentException=B,m.IllegalStateException=Un,m.InvertedLuminanceSource=ft,m.LuminanceSource=He,m.MathUtils=St,m.MultiFormatOneDReader=mr,m.MultiFormatReader=Ya,m.MultiFormatWriter=Xa,m.NotFoundException=ce,m.OneDReader=Wt,m.PDF417DecodedBitStreamParser=oe,m.PDF417DecoderErrorCorrection=zr,m.PDF417Reader=Kn,m.PDF417ResultMetadata=li,m.PerspectiveTransform=cn,m.PlanarYUVLuminanceSource=Nr,m.QRCodeByteMatrix=ji,m.QRCodeDataMask=er,m.QRCodeDecodedBitStreamParser=an,m.QRCodeDecoderErrorCorrectionLevel=dt,m.QRCodeDecoderFormatInformation=yn,m.QRCodeEncoder=Ht,m.QRCodeEncoderQRCode=Ci,m.QRCodeMaskUtil=wn,m.QRCodeMatrixUtil=$e,m.QRCodeMode=Qe,m.QRCodeReader=zn,m.QRCodeVersion=Ge,m.QRCodeWriter=vi,m.RGBLuminanceSource=qa,m.RSS14Reader=Yt,m.RSSExpandedReader=be,m.ReaderException=si,m.ReedSolomonDecoder=Bi,m.ReedSolomonEncoder=oi,m.ReedSolomonException=Cr,m.Result=Me,m.ResultMetadataType=Nt,m.ResultPoint=ze,m.StringUtils=je,m.UnsupportedOperationException=vn,m.VideoInputDevice=G,m.WhiteRectangleDetector=En,m.WriterException=Xt,m.ZXingArrays=Ae,m.ZXingCharset=Wl,m.ZXingInteger=pe,m.ZXingStandardCharsets=Hi,m.ZXingStringBuilder=lt,m.ZXingStringEncoding=Zt,m.ZXingSystem=J,m.createAbstractExpandedDecoder=Tr,Object.defineProperty(m,"__esModule",{value:!0})}))})(po,po.exports)),po.exports}var Dn=jy();const Hy=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Ud=(function(){function h(g,m,p){if(this.formatMap=new Map([[Xe.QR_CODE,Dn.BarcodeFormat.QR_CODE],[Xe.AZTEC,Dn.BarcodeFormat.AZTEC],[Xe.CODABAR,Dn.BarcodeFormat.CODABAR],[Xe.CODE_39,Dn.BarcodeFormat.CODE_39],[Xe.CODE_93,Dn.BarcodeFormat.CODE_93],[Xe.CODE_128,Dn.BarcodeFormat.CODE_128],[Xe.DATA_MATRIX,Dn.BarcodeFormat.DATA_MATRIX],[Xe.MAXICODE,Dn.BarcodeFormat.MAXICODE],[Xe.ITF,Dn.BarcodeFormat.ITF],[Xe.EAN_13,Dn.BarcodeFormat.EAN_13],[Xe.EAN_8,Dn.BarcodeFormat.EAN_8],[Xe.PDF_417,Dn.BarcodeFormat.PDF_417],[Xe.RSS_14,Dn.BarcodeFormat.RSS_14],[Xe.RSS_EXPANDED,Dn.BarcodeFormat.RSS_EXPANDED],[Xe.UPC_A,Dn.BarcodeFormat.UPC_A],[Xe.UPC_E,Dn.BarcodeFormat.UPC_E],[Xe.UPC_EAN_EXTENSION,Dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Hy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=m,this.logger=p;var A=this.createZXingFormats(g),E=new Map;E.set(Dn.DecodeHintType.POSSIBLE_FORMATS,A),E.set(Dn.DecodeHintType.TRY_HARDER,!1),this.hints=E}return h.prototype.decodeAsync=function(g){var m=this;return new Promise(function(p,A){try{p(m.decode(g))}catch(E){A(E)}})},h.prototype.decode=function(g){var m=new Dn.MultiFormatReader(this.verbose,this.hints),p=new Dn.HTMLCanvasElementLuminanceSource(g),A=new Dn.BinaryBitmap(new Dn.HybridBinarizer(p)),E=m.decode(A);return{text:E.text,format:Dg.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(m,p,A){g.set(m,p)}),g},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createZXingFormats=function(g){for(var m=[],p=0,A=g;p<A.length;p++){var E=A[p];this.formatMap.has(E)?m.push(this.formatMap.get(E)):this.logger.logError("".concat(E," is not supported by")+"ZXingHtml5QrcodeShim")}return m},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h})(),Vy=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},Yy=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},kd=(function(){function h(g,m,p){if(this.formatMap=new Map([[Xe.QR_CODE,"qr_code"],[Xe.AZTEC,"aztec"],[Xe.CODABAR,"codabar"],[Xe.CODE_39,"code_39"],[Xe.CODE_93,"code_93"],[Xe.CODE_128,"code_128"],[Xe.DATA_MATRIX,"data_matrix"],[Xe.ITF,"itf"],[Xe.EAN_13,"ean_13"],[Xe.EAN_8,"ean_8"],[Xe.PDF_417,"pdf417"],[Xe.UPC_A,"upc_a"],[Xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=m,this.logger=p;var A=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(A),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},h.prototype.decodeAsync=function(g){return Vy(this,void 0,void 0,function(){var m,p;return Yy(this,function(A){switch(A.label){case 0:return[4,this.detector.detect(g)];case 1:if(m=A.sent(),!m||m.length===0)throw"No barcode or QR code detected.";return p=this.selectLargestBarcode(m),[2,{text:p.rawValue,format:Dg.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(g){for(var m=null,p=0,A=0,E=g;A<E.length;A++){var T=E[A],R=T.boundingBox.width*T.boundingBox.height;R>p&&(p=R,m=T)}if(!m)throw"No largest barcode found";return m},h.prototype.createBarcodeDetectorFormats=function(g){for(var m=[],p=0,A=g;p<A.length;p++){var E=A[p];this.formatMap.has(E)?m.push(this.formatMap.get(E)):this.logger.warn("".concat(E," is not supported by")+"BarcodeDetectorDelegate")}return{formats:m}},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(m,p,A){g.set(m,p)}),g},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h})(),zd=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},Fd=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gy=(function(){function h(g,m,p,A){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=p,m&&kd.isSupported()?(this.primaryDecoder=new kd(g,p,A),this.secondaryDecoder=new Ud(g,p,A)):this.primaryDecoder=new Ud(g,p,A)}return h.prototype.decodeAsync=function(g){return zd(this,void 0,void 0,function(){var m;return Fd(this,function(p){switch(p.label){case 0:m=performance.now(),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,p.sent()];case 3:return this.possiblyLogPerformance(m),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(g){return zd(this,void 0,void 0,function(){var m,p;return Fd(this,function(A){switch(A.label){case 0:m=performance.now(),A.label=1;case 1:return A.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,A.sent()];case 3:if(p=A.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw p;case 4:return this.possiblyLogPerformance(m),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(g){if(this.verbose){var m=performance.now()-g;this.executionResults.push(m),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,m=0,p=this.executionResults;m<p.length;m++){var A=p[m];g+=A}var E=g/this.executionResults.length;console.log("".concat(E," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h})(),r0=(function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(p[E]=A[E])},h(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})(),Du=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},Bu=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},kg=(function(){function h(g,m){this.name=g,this.track=m}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(g){var m={};m[this.name]=g;var p={advanced:[m]};return this.track.applyConstraints(p)},h.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var m=g[this.name];return m}return null},h})(),Xy=(function(h){r0(g,h);function g(m,p){return h.call(this,m,p)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(m){var p={};p[this.name]=m;var A={advanced:[p]};return this.track.applyConstraints(A)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var m=this.track.getCapabilities(),p=m[this.name];return{min:p.min,max:p.max,step:p.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g})(kg),qy=(function(h){r0(g,h);function g(m){return h.call(this,"zoom",m)||this}return g})(Xy),Ky=(function(h){r0(g,h);function g(m){return h.call(this,"torch",m)||this}return g})(kg),Zy=(function(){function h(g){this.track=g}return h.prototype.zoomFeature=function(){return new qy(this.track)},h.prototype.torchFeature=function(){return new Ky(this.track)},h})(),Qy=(function(){function h(g,m,p){this.isClosed=!1,this.parentElement=g,this.mediaStream=m,this.callbacks=p,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return h.prototype.createVideoElement=function(g){var m=document.createElement("video");return m.style.width="".concat(g,"px"),m.style.display="block",m.muted=!0,m.setAttribute("muted","true"),m.playsInline=!0,m},h.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var m=function(){var p=g.surface.clientWidth,A=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(p,A),g.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(g,m,p,A){return Du(this,void 0,void 0,function(){var E,T;return Bu(this,function(R){switch(R.label){case 0:return E=new h(g,m,A),p.aspectRatio?(T={aspectRatio:p.aspectRatio},[4,E.getFirstTrackOrFail().applyConstraints(T)]):[3,2];case 1:R.sent(),R.label=2;case 2:return E.setupSurface(),[2,E]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(g){this.failIfClosed();var m=this,p=function(){setTimeout(g,200),m.surface.removeEventListener("playing",p)};this.surface.addEventListener("playing",p),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(g){return Du(this,void 0,void 0,function(){return Bu(this,function(m){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(m,p){var A=g.mediaStream.getVideoTracks(),E=A.length,T=0;g.mediaStream.getVideoTracks().forEach(function(R){g.mediaStream.removeTrack(R),R.stop(),++T,T>=E&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),m())})})},h.prototype.getCapabilities=function(){return new Zy(this.getFirstTrackOrFail())},h})(),Wy=(function(){function h(g){this.mediaStream=g}return h.prototype.render=function(g,m,p){return Du(this,void 0,void 0,function(){return Bu(this,function(A){return[2,Qy.create(g,this.mediaStream,m,p)]})})},h.create=function(g){return Du(this,void 0,void 0,function(){var m,p;return Bu(this,function(A){switch(A.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return m={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(m)];case 1:return p=A.sent(),[2,new h(p)]}})})},h})(),Pd=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},jd=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Jy=(function(){function h(){}return h.failIfNotSupported=function(){return Pd(this,void 0,void 0,function(){return jd(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(g){return Pd(this,void 0,void 0,function(){return jd(this,function(m){return[2,Wy.create(g)]})})},h})(),$y=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},ex=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},tx=(function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var g=vs.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(g=vs.insecureContextCameraQueryError()),Promise.reject(g)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},h.getCamerasFromMediaDevices=function(){return $y(this,void 0,void 0,function(){var g,m,p,A,E,T,R;return ex(this,function(D){switch(D.label){case 0:return g=function(v){for(var M=v.getVideoTracks(),B=0,ae=M;B<ae.length;B++){var me=ae[B];me.enabled=!1,me.stop(),v.removeTrack(me)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return m=D.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(p=D.sent(),A=[],E=0,T=p;E<T.length;E++)R=T[E],R.kind==="videoinput"&&A.push({id:R.deviceId,label:R.label});return g(m),[2,A]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,m){var p=function(E){for(var T=[],R=0,D=E;R<D.length;R++){var v=D[R];v.kind==="video"&&T.push({id:v.id,label:v.label})}g(T)},A=MediaStreamTrack;A.getSources(p)})},h})(),Hn;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(Hn||(Hn={}));var nx=(function(){function h(){this.state=Hn.NOT_STARTED,this.onGoingTransactionNewState=Hn.UNKNOWN}return h.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},h.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===Hn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Hn.UNKNOWN,this.directTransition(g)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===Hn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Hn.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Hn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(g){switch(this.state){case Hn.UNKNOWN:throw"Transition from unknown is not allowed";case Hn.NOT_STARTED:this.failIfNewStateIs(g,[Hn.PAUSED]);break;case Hn.SCANNING:break;case Hn.PAUSED:break}},h.prototype.failIfNewStateIs=function(g,m){for(var p=0,A=m;p<A.length;p++){var E=A[p];if(g===E)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},h})(),rx=(function(){function h(g){this.stateManager=g}return h.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},h.prototype.directTransition=function(g){this.stateManager.directTransition(g)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===Hn.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==Hn.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Hn.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===Hn.PAUSED},h})(),ix=(function(){function h(){}return h.create=function(){return new rx(new nx)},h})(),ax=(function(){var h=function(g,m){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var E in A)Object.prototype.hasOwnProperty.call(A,E)&&(p[E]=A[E])},h(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");h(g,m);function p(){this.constructor=g}g.prototype=m===null?Object.create(m):(p.prototype=m.prototype,new p)}})(),wi=(function(h){ax(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g})(qi),lx=(function(){function h(g,m){this.logger=m,this.fps=wi.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=wi.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ug.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!ua(this.qrbox)},h.create=function(g,m){return new h(g,m)},h})(),Hd=(function(){function h(g,m){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var p;typeof m=="boolean"?this.verbose=m===!0:m&&(p=m,this.verbose=p.verbose===!0,p.experimentalFeatures),this.logger=new Lg(this.verbose),this.qrcode=new Gy(this.getSupportedFormats(m),this.getUseBarCodeDetectorIfSupported(p),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ix.create()}return h.prototype.start=function(g,m,p,A){var E=this;if(!g)throw"cameraIdOrConfig is required";if(!p||typeof p!="function")throw"qrCodeSuccessCallback is required and should be a function.";var T;A?T=A:T=this.verbose?this.logger.log:function(){};var R=lx.create(m,this.logger);this.clearElement();var D=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?D=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var v=D,M=document.getElementById(this.elementId);M.clientWidth?M.clientWidth:wi.DEFAULT_WIDTH,M.style.position="relative",this.shouldScan=!0,this.element=M;var B=this,ae=this.stateManagerProxy.startTransition(Hn.SCANNING);return new Promise(function(me,$){var J=v?R.videoConstraints:B.createVideoConstraints(g);if(!J){ae.cancel(),$("videoConstraints should be defined");return}var le={};(!v||R.aspectRatio)&&(le.aspectRatio=R.aspectRatio);var Re={onRenderSurfaceReady:function(Ae,pe){B.setupUi(Ae,pe,R),B.isScanning=!0,B.foreverScan(R,p,T)}};Jy.failIfNotSupported().then(function(Ae){Ae.create(J).then(function(pe){return pe.render(E.element,le,Re).then(function(Ue){B.renderedCamera=Ue,ae.execute(),me(null)}).catch(function(Ue){ae.cancel(),$(Ue)})}).catch(function(pe){ae.cancel(),$(vs.errorGettingUserMedia(pe))})}).catch(function(Ae){ae.cancel(),$(vs.cameraStreamingNotSupported())})})},h.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Hn.PAUSED),this.showPausedState(),(ua(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,m=function(){g.stateManagerProxy.directTransition(Hn.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){m();return}this.renderedCamera.resume(function(){m()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var m=this.stateManagerProxy.startTransition(Hn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var p=function(){if(g.element){var E=document.getElementById(wi.SHADED_REGION_ELEMENT_ID);E&&g.element.removeChild(E)}},A=this;return this.renderedCamera.close().then(function(){return A.renderedCamera=null,A.element&&(A.element.removeChild(A.canvasElement),A.canvasElement=null),p(),A.qrRegion&&(A.qrRegion=null),A.context&&(A.context=null),m.execute(),A.hidePausedState(),A.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(g,m){return this.scanFileV2(g,m).then(function(p){return p.decodedText})},h.prototype.scanFileV2=function(g,m){var p=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ua(m)&&(m=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(A,E){p.possiblyCloseLastScanImageFile(),p.clearElement(),p.lastScanImageFile=URL.createObjectURL(g);var T=new Image;T.onload=function(){var R=T.width,D=T.height,v=document.getElementById(p.elementId),M=v.clientWidth?v.clientWidth:wi.DEFAULT_WIDTH,B=Math.max(v.clientHeight?v.clientHeight:D,wi.FILE_SCAN_MIN_HEIGHT),ae=p.computeCanvasDrawConfig(R,D,M,B);if(m){var me=p.createCanvasElement(M,B,"qr-canvas-visible");me.style.display="inline-block",v.appendChild(me);var $=me.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=M,$.canvas.height=B,$.drawImage(T,0,0,R,D,ae.x,ae.y,ae.width,ae.height)}var J=wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,le=Math.max(T.width,ae.width),Re=Math.max(T.height,ae.height),Ae=le+2*J,pe=Re+2*J,Ue=p.createCanvasElement(Ae,pe);v.appendChild(Ue);var at=Ue.getContext("2d");if(!at)throw"Unable to get 2d context from canvas";at.canvas.width=Ae,at.canvas.height=pe,at.drawImage(T,0,0,R,D,J,J,le,Re);try{p.qrcode.decodeRobustlyAsync(Ue).then(function(Ye){A(Dd.createFromQrcodeResult(Ye))}).catch(E)}catch(Ye){E("QR code parse error, error = ".concat(Ye))}},T.onerror=E,T.onabort=E,T.onstalled=E,T.onsuspend=E,T.src=URL.createObjectURL(g)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return tx.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(g){if(g){if(!Ug.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(g){var m=[Xe.QR_CODE,Xe.AZTEC,Xe.CODABAR,Xe.CODE_39,Xe.CODE_93,Xe.CODE_128,Xe.DATA_MATRIX,Xe.MAXICODE,Xe.ITF,Xe.EAN_13,Xe.EAN_8,Xe.PDF_417,Xe.RSS_14,Xe.RSS_EXPANDED,Xe.UPC_A,Xe.UPC_E,Xe.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return m;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var p=[],A=0,E=g.formatsToSupport;A<E.length;A++){var T=E[A];zy(T)?p.push(T):this.logger.warn("Invalid format: ".concat(T," passed in config, ignoring."))}if(p.length===0)throw"None of formatsToSupport match supported values.";return p},h.prototype.getUseBarCodeDetectorIfSupported=function(g){if(ua(g))return!0;if(!ua(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if(ua(g.experimentalFeatures))return!0;var m=g.experimentalFeatures;return ua(m.useBarCodeDetectorIfSupported)?!0:m.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(g,m,p){var A=this,E=p.qrbox;this.validateQrboxConfig(E);var T=this.toQrdimensions(g,m,E),R=function(v){if(v<wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wi.MIN_QR_BOX_SIZE,"px.")},D=function(v){return v>g&&(A.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),v=g),v};R(T.width),R(T.height),T.width=D(T.width)},h.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(g,m,p){if(typeof p=="number")return{width:p,height:p};if(typeof p=="function")try{return p(g,m)}catch(A){throw new Error("qrbox config was passed as a function but it failed with unknown error"+A)}return p},h.prototype.setupUi=function(g,m,p){p.isShadedBoxEnabled()&&this.validateQrboxSize(g,m,p);var A=ua(p.qrbox)?{width:g,height:m}:p.qrbox;this.validateQrboxConfig(A);var E=this.toQrdimensions(g,m,A);E.height>m&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var T=p.isShadedBoxEnabled()&&E.height<=m,R={x:0,y:0,width:g,height:m},D=T?this.getShadedRegionBounds(g,m,E):R,v=this.createCanvasElement(D.width,D.height),M={willReadFrequently:!0},B=v.getContext("2d",M);B.canvas.width=D.width,B.canvas.height=D.height,this.element.append(v),T&&this.possiblyInsertShadingElement(this.element,g,m,E),this.createScannerPausedUiElement(this.element),this.qrRegion=D,this.context=B,this.canvasElement=v},h.prototype.createScannerPausedUiElement=function(g){var m=document.createElement("div");m.innerText=vs.scannerPaused(),m.style.display="none",m.style.position="absolute",m.style.top="0px",m.style.zIndex="1",m.style.background="rgba(9, 9, 9, 0.46)",m.style.color="#FFECEC",m.style.textAlign="center",m.style.width="100%",g.appendChild(m),this.scannerPausedUiElement=m},h.prototype.scanContext=function(g,m){var p=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(A){return g(A.text,Dd.createFromQrcodeResult(A)),p.possiblyUpdateShaders(!0),!0}).catch(function(A){p.possiblyUpdateShaders(!1);var E=vs.codeParseError(A);return m(E,Bg.createFrom(E)),!1})},h.prototype.foreverScan=function(g,m,p){var A=this;if(this.shouldScan&&this.renderedCamera){var E=this.renderedCamera.getSurface(),T=E.videoWidth/E.clientWidth,R=E.videoHeight/E.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var D=this.qrRegion.width*T,v=this.qrRegion.height*R,M=this.qrRegion.x*T,B=this.qrRegion.y*R;this.context.drawImage(E,M,B,D,v,0,0,this.qrRegion.width,this.qrRegion.height);var ae=function(){A.foreverScanTimeout=setTimeout(function(){A.foreverScan(g,m,p)},A.getTimeoutFps(g.fps))};this.scanContext(m,p).then(function(me){!me&&g.disableFlip!==!0?(A.context.translate(A.context.canvas.width,0),A.context.scale(-1,1),A.scanContext(m,p).finally(function(){ae()})):ae()}).catch(function(me){A.logger.logError("Error happend while scanning context",me),ae()})}},h.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var m="facingMode",p="deviceId",A={user:!0,environment:!0},E="exact",T=function($){if($ in A)return!0;throw"config has invalid 'facingMode' value = "+"'".concat($,"'")},R=Object.keys(g);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var D=Object.keys(g)[0];if(D!==m&&D!==p)throw"Only '".concat(m,"' and '").concat(p,"' ")+" are supported for 'cameraIdOrConfig'";if(D===m){var v=g.facingMode;if(typeof v=="string"){if(T(v))return{facingMode:v}}else if(typeof v=="object")if(E in v){if(T(v["".concat(E)]))return{facingMode:{exact:v["".concat(E)]}}}else throw"'facingMode' should be string or object with"+" ".concat(E," as key.");else{var M=typeof v;throw"Invalid type of 'facingMode' = ".concat(M)}}else{var B=g.deviceId;if(typeof B=="string")return{deviceId:B};if(typeof B=="object"){if(E in B)return{deviceId:{exact:B["".concat(E)]}};throw"'deviceId' should be string or object with"+" ".concat(E," as key.")}else{var ae=typeof B;throw"Invalid type of 'deviceId' = ".concat(ae)}}}var me=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(me)},h.prototype.computeCanvasDrawConfig=function(g,m,p,A){if(g<=p&&m<=A){var E=(p-g)/2,T=(A-m)/2;return{x:E,y:T,width:g,height:m}}else{var R=g,D=m;return g>p&&(m=p/g*m,g=p),m>A&&(g=A/m*g,m=A),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(D)+" to ".concat(g,"X").concat(m,".")),this.computeCanvasDrawConfig(g,m,p,A)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},h.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(m){m.style.backgroundColor=g?wi.BORDER_SHADER_MATCH_COLOR:wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(g,m,p){var A=g,E=m,T=document.createElement("canvas");return T.style.width="".concat(A,"px"),T.style.height="".concat(E,"px"),T.style.display="none",T.id=ua(p)?"qr-canvas":p,T},h.prototype.getShadedRegionBounds=function(g,m,p){if(p.width>g||p.height>m)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-p.width)/2,y:(m-p.height)/2,width:p.width,height:p.height}},h.prototype.possiblyInsertShadingElement=function(g,m,p,A){if(!(m-A.width<1||p-A.height<1)){var E=document.createElement("div");E.style.position="absolute";var T=(m-A.width)/2,R=(p-A.height)/2;if(E.style.borderLeft="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderRight="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),E.style.boxSizing="border-box",E.style.top="0px",E.style.bottom="0px",E.style.left="0px",E.style.right="0px",E.id="".concat(wi.SHADED_REGION_ELEMENT_ID),m-A.width<11||p-A.height<11)this.hasBorderShaders=!1;else{var D=5,v=40;this.insertShaderBorders(E,v,D,-D,null,0,!0),this.insertShaderBorders(E,v,D,-D,null,0,!1),this.insertShaderBorders(E,v,D,null,-D,0,!0),this.insertShaderBorders(E,v,D,null,-D,0,!1),this.insertShaderBorders(E,D,v+D,-D,null,-D,!0),this.insertShaderBorders(E,D,v+D,null,-D,-D,!0),this.insertShaderBorders(E,D,v+D,-D,null,-D,!1),this.insertShaderBorders(E,D,v+D,null,-D,-D,!1),this.hasBorderShaders=!0}g.append(E)}},h.prototype.insertShaderBorders=function(g,m,p,A,E,T,R){var D=document.createElement("div");D.style.position="absolute",D.style.backgroundColor=wi.BORDER_SHADER_DEFAULT_COLOR,D.style.width="".concat(m,"px"),D.style.height="".concat(p,"px"),A!==null&&(D.style.top="".concat(A,"px")),E!==null&&(D.style.bottom="".concat(E,"px")),R?D.style.left="".concat(T,"px"):D.style.right="".concat(T,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(D),g.appendChild(D)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(g){return 1e3/g},h})(),i0="data:image/svg+xml;base64,",sx=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ox=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Vd=i0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ux="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yd=(function(){function h(){}return h.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},h})(),cx=(function(){function h(){this.data=Yd.createDefault();var g=localStorage.getItem(h.LOCAL_STORAGE_KEY);g?this.data=JSON.parse(g):this.reset()}return h.prototype.hasCameraPermissions=function(){return this.data.hasPermission},h.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},h.prototype.setHasPermission=function(g){this.data.hasPermission=g,this.flush()},h.prototype.setLastUsedCameraId=function(g){this.data.lastUsedCameraId=g,this.flush()},h.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},h.prototype.reset=function(){this.data=Yd.createDefault(),this.flush()},h.prototype.flush=function(){localStorage.setItem(h.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},h.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",h})(),fx=(function(){function h(){this.infoDiv=document.createElement("div")}return h.prototype.renderInto=function(g){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Bd.poweredBy();var m=document.createElement("a");m.innerText="ScanApp",m.href="https://scanapp.org",m.target="new",m.style.color="white",this.infoDiv.appendChild(m);var p=document.createElement("br"),A=document.createElement("br");this.infoDiv.appendChild(p),this.infoDiv.appendChild(A);var E=document.createElement("a");E.innerText=Bd.reportIssues(),E.href="https://github.com/mebjas/html5-qrcode/issues",E.target="new",E.style.color="white",this.infoDiv.appendChild(E),g.appendChild(this.infoDiv)},h.prototype.show=function(){this.infoDiv.style.display="block"},h.prototype.hide=function(){this.infoDiv.style.display="none"},h})(),hx=(function(){function h(g,m){this.isShowingInfoIcon=!0,this.onTapIn=g,this.onTapOut=m,this.infoIcon=document.createElement("img")}return h.prototype.renderInto=function(g){var m=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Vd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(p){return m.onHoverIn()},this.infoIcon.onmouseout=function(p){return m.onHoverOut()},this.infoIcon.onclick=function(p){return m.onClick()},g.appendChild(this.infoIcon)},h.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},h.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},h.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ux,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Vd,this.infoIcon.style.opacity="0.6")},h})(),dx=(function(){function h(){var g=this;this.infoDiv=new fx,this.infoIcon=new hx(function(){g.infoDiv.show()},function(){g.infoDiv.hide()})}return h.prototype.renderInto=function(g){this.infoDiv.renderInto(g),this.infoIcon.renderInto(g)},h})(),gx=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},mx=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gd=(function(){function h(){}return h.hasPermissions=function(){return gx(this,void 0,void 0,function(){var g,m,p,A;return mx(this,function(E){switch(E.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(g=E.sent(),m=0,p=g;m<p.length;m++)if(A=p[m],A.kind==="videoinput"&&A.label)return[2,!0];return[2,!1]}})})},h})(),bl=(function(){function h(g){this.supportedScanTypes=this.validateAndReturnScanTypes(g)}return h.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},h.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},h.prototype.isCameraScanRequired=function(){for(var g=0,m=this.supportedScanTypes;g<m.length;g++){var p=m[g];if(h.isCameraScanType(p))return!0}return!1},h.isCameraScanType=function(g){return g===El.SCAN_TYPE_CAMERA},h.isFileScanType=function(g){return g===El.SCAN_TYPE_FILE},h.prototype.validateAndReturnScanTypes=function(g){if(!g||g.length===0)return qi.DEFAULT_SUPPORTED_SCAN_TYPE;var m=qi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(g.length>m)throw"Max ".concat(m," values expected for ")+"supportedScanTypes";for(var p=0,A=g;p<A.length;p++){var E=A[p];if(!qi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(E))throw"Unsupported scan type ".concat(E)}return g},h})(),Ei=(function(){function h(){}return h.ALL_ELEMENT_CLASS="html5-qrcode-element",h.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",h.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",h.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",h.TORCH_BUTTON_ID="html5-qrcode-button-torch",h.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",h.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",h.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",h.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",h.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",h.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",h})(),Ua=(function(){function h(){}return h.createElement=function(g,m){var p=document.createElement(g);return p.id=m,p.classList.add(Ei.ALL_ELEMENT_CLASS),g==="button"&&p.setAttribute("type","button"),p},h})(),zg=function(h,g,m,p){function A(E){return E instanceof m?E:new m(function(T){T(E)})}return new(m||(m=Promise))(function(E,T){function R(M){try{v(p.next(M))}catch(B){T(B)}}function D(M){try{v(p.throw(M))}catch(B){T(B)}}function v(M){M.done?E(M.value):A(M.value).then(R,D)}v((p=p.apply(h,g||[])).next())})},Fg=function(h,g){var m={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,A,E,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(v){return function(M){return D([v,M])}}function D(v){if(p)throw new TypeError("Generator is already executing.");for(;T&&(T=0,v[0]&&(m=0)),m;)try{if(p=1,A&&(E=v[0]&2?A.return:v[0]?A.throw||((E=A.return)&&E.call(A),0):A.next)&&!(E=E.call(A,v[1])).done)return E;switch(A=0,E&&(v=[v[0]&2,E.value]),v[0]){case 0:case 1:E=v;break;case 4:return m.label++,{value:v[1],done:!1};case 5:m.label++,A=v[1],v=[0];continue;case 7:v=m.ops.pop(),m.trys.pop();continue;default:if(E=m.trys,!(E=E.length>0&&E[E.length-1])&&(v[0]===6||v[0]===2)){m=0;continue}if(v[0]===3&&(!E||v[1]>E[0]&&v[1]<E[3])){m.label=v[1];break}if(v[0]===6&&m.label<E[1]){m.label=E[1],E=v;break}if(E&&m.label<E[2]){m.label=E[2],m.ops.push(v);break}E[2]&&m.ops.pop(),m.trys.pop();continue}v=g.call(h,m)}catch(M){v=[6,M],A=0}finally{p=E=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Xd=(function(){function h(g,m,p){this.isTorchOn=!1,this.torchCapability=g,this.buttonController=m,this.onTorchActionFailureCallback=p}return h.prototype.isTorchEnabled=function(){return this.isTorchOn},h.prototype.flipState=function(){return zg(this,void 0,void 0,function(){var g,m;return Fg(this,function(p){switch(p.label){case 0:this.buttonController.disable(),g=!this.isTorchOn,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.torchCapability.apply(g)];case 2:return p.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),g),[3,4];case 3:return m=p.sent(),this.propagateFailure(g,m),this.buttonController.enable(),[3,4];case 4:return[2]}})})},h.prototype.updateUiBasedOnLatestSettings=function(g,m){g===m?(this.buttonController.setText(m?un.torchOffButton():un.torchOnButton()),this.isTorchOn=m):this.propagateFailure(m),this.buttonController.enable()},h.prototype.propagateFailure=function(g,m){var p=g?un.torchOnFailedMessage():un.torchOffFailedMessage();m&&(p+="; Error = "+m),this.onTorchActionFailureCallback(p)},h.prototype.reset=function(){this.isTorchOn=!1},h})(),px=(function(){function h(g,m){this.onTorchActionFailureCallback=m,this.torchButton=Ua.createElement("button",Ei.TORCH_BUTTON_ID),this.torchController=new Xd(g,this,m)}return h.prototype.render=function(g,m){var p=this;this.torchButton.innerText=un.torchOnButton(),this.torchButton.style.display=m.display,this.torchButton.style.marginLeft=m.marginLeft;var A=this;this.torchButton.addEventListener("click",function(E){return zg(p,void 0,void 0,function(){return Fg(this,function(T){switch(T.label){case 0:return[4,A.torchController.flipState()];case 1:return T.sent(),A.torchController.isTorchEnabled()?(A.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_OFF),A.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_ON)):(A.torchButton.classList.remove(Ei.TORCH_BUTTON_CLASS_TORCH_ON),A.torchButton.classList.add(Ei.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),g.appendChild(this.torchButton)},h.prototype.updateTorchCapability=function(g){this.torchController=new Xd(g,this,this.onTorchActionFailureCallback)},h.prototype.getTorchButton=function(){return this.torchButton},h.prototype.hide=function(){this.torchButton.style.display="none"},h.prototype.show=function(){this.torchButton.style.display="inline-block"},h.prototype.disable=function(){this.torchButton.disabled=!0},h.prototype.enable=function(){this.torchButton.disabled=!1},h.prototype.setText=function(g){this.torchButton.innerText=g},h.prototype.reset=function(){this.torchButton.innerText=un.torchOnButton(),this.torchController.reset()},h.create=function(g,m,p,A){var E=new h(m,A);return E.render(g,p),E},h})(),yx=(function(){function h(g,m,p){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=m?"block":"none",g.appendChild(this.fileBasedScanRegion);var A=document.createElement("label");A.setAttribute("for",this.getFileScanInputId()),A.style.display="inline-block",this.fileBasedScanRegion.appendChild(A),this.fileSelectionButton=Ua.createElement("button",Ei.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(R){A.click()}),A.append(this.fileSelectionButton),this.fileScanInput=Ua.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",A.appendChild(this.fileScanInput);var E=this;this.fileScanInput.addEventListener("change",function(R){if(!(R==null||R.target==null)){var D=R.target;if(!(D.files&&D.files.length===0)){var v=D.files,M=v[0],B=M.name;E.setImageNameToButton(B),p(M)}}});var T=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(T),this.fileBasedScanRegion.addEventListener("dragenter",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionDefaultBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(R){E.fileBasedScanRegion.style.border=E.fileBasedScanRegionActiveBorder(),R.stopPropagation(),R.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(R){R.stopPropagation(),R.preventDefault(),E.fileBasedScanRegion.style.border=E.fileBasedScanRegionDefaultBorder();var D=R.dataTransfer;if(D){var v=D.files;if(!v||v.length===0)return;for(var M=!1,B=0;B<v.length;++B){var ae=v.item(B);if(ae){var me=/image.*/;if(ae.type.match(me)){M=!0;var $=ae.name;E.setImageNameToButton($),p(ae),T.innerText=un.dragAndDropMessage();break}}}M||(T.innerText=un.dragAndDropMessageOnlyImages())}})}return h.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},h.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},h.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},h.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},h.prototype.createFileBasedScanRegion=function(){var g=document.createElement("div");return g.style.textAlign="center",g.style.margin="auto",g.style.width="80%",g.style.maxWidth="600px",g.style.border=this.fileBasedScanRegionDefaultBorder(),g.style.padding="10px",g.style.marginBottom="10px",g},h.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},h.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},h.prototype.createDragAndDropMessage=function(){var g=document.createElement("div");return g.innerText=un.dragAndDropMessage(),g.style.fontWeight="400",g},h.prototype.setImageNameToButton=function(g){var m=20;if(g.length>m){var p=g.substring(0,8),A=g.length,E=g.substring(A-8,A);g="".concat(p,"....").concat(E)}var T=un.fileSelectionChooseAnother()+" - "+g;this.fileSelectionButton.innerText=T},h.prototype.setInitialValueToButton=function(){var g=un.fileSelectionChooseImage()+" - "+un.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=g},h.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},h.create=function(g,m,p){var A=new h(g,m,p);return A},h})(),xx=(function(){function h(g){this.selectElement=Ua.createElement("select",Ei.CAMERA_SELECTION_SELECT_ID),this.cameras=g,this.options=[]}return h.prototype.render=function(g){var m=document.createElement("span");m.style.marginRight="10px";var p=this.cameras.length;if(p===0)throw new Error("No cameras found");if(p===1)m.style.display="none";else{var A=un.selectCamera();m.innerText="".concat(A," (").concat(this.cameras.length,")  ")}for(var E=1,T=0,R=this.cameras;T<R.length;T++){var D=R[T],v=D.id,M=D.label==null?v:D.label;(!M||M==="")&&(M=[un.anonymousCameraPrefix(),E++].join(" "));var B=document.createElement("option");B.value=v,B.innerText=M,this.options.push(B),this.selectElement.appendChild(B)}m.appendChild(this.selectElement),g.appendChild(m)},h.prototype.disable=function(){this.selectElement.disabled=!0},h.prototype.isDisabled=function(){return this.selectElement.disabled===!0},h.prototype.enable=function(){this.selectElement.disabled=!1},h.prototype.getValue=function(){return this.selectElement.value},h.prototype.hasValue=function(g){for(var m=0,p=this.options;m<p.length;m++){var A=p[m];if(A.value===g)return!0}return!1},h.prototype.setValue=function(g){if(!this.hasValue(g))throw new Error("".concat(g," is not present in the camera list."));this.selectElement.value=g},h.prototype.hasSingleItem=function(){return this.cameras.length===1},h.prototype.numCameras=function(){return this.cameras.length},h.create=function(g,m){var p=new h(m);return p.render(g),p},h})(),wx=(function(){function h(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ua.createElement("input",Ei.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return h.prototype.render=function(g,m){this.zoomElementContainer.style.display=m?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",g.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var p=un.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(p),this.rangeText.style.marginRight="10px";var A=this;this.rangeInput.addEventListener("input",function(){return A.onValueChange()}),this.rangeInput.addEventListener("change",function(){return A.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},h.prototype.onValueChange=function(){var g=un.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(g),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},h.prototype.setValues=function(g,m,p,A){this.rangeInput.min=g.toString(),this.rangeInput.max=m.toString(),this.rangeInput.step=A.toString(),this.rangeInput.value=p.toString(),this.onValueChange()},h.prototype.show=function(){this.zoomElementContainer.style.display="block"},h.prototype.hide=function(){this.zoomElementContainer.style.display="none"},h.prototype.setOnCameraZoomValueChangeCallback=function(g){this.onChangeCallback=g},h.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},h.create=function(g,m){var p=new h;return p.render(g,m),p},h})(),bi;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bi||(bi={}));function bx(h){return{fps:h.fps,qrbox:h.qrbox,aspectRatio:h.aspectRatio,disableFlip:h.disableFlip,videoConstraints:h.videoConstraints}}function Ex(h,g){return{formatsToSupport:h.formatsToSupport,useBarCodeDetectorIfSupported:h.useBarCodeDetectorIfSupported,experimentalFeatures:h.experimentalFeatures,verbose:g}}var Ax=(function(){function h(g,m,p){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=g,this.config=this.createConfig(m),this.verbose=p===!0,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.scanTypeSelector=new bl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Lg(this.verbose),this.persistedDataManager=new cx,m.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return h.prototype.render=function(g,m){var p=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(E,T){if(g)g(E,T);else{if(p.lastMatchFound===E)return;p.lastMatchFound=E,p.setHeaderMessage(un.lastMatch(E),bi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(E,T){m&&m(E,T)};var A=document.getElementById(this.elementId);if(!A)throw"HTML Element with id=".concat(this.elementId," not found");A.innerHTML="",this.createBasicLayout(A),this.html5Qrcode=new Hd(this.getScanRegionId(),Ex(this.config,this.verbose))},h.prototype.pause=function(g){(ua(g)||g!==!0)&&(g=!1),this.getHtml5QrcodeOrFail().pause(g)},h.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},h.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},h.prototype.clear=function(){var g=this,m=function(){var p=document.getElementById(g.elementId);p&&(p.innerHTML="",g.resetBasicLayout(p))};return this.html5Qrcode?new Promise(function(p,A){if(!g.html5Qrcode){p();return}g.html5Qrcode.isScanning?g.html5Qrcode.stop().then(function(E){if(!g.html5Qrcode){p();return}g.html5Qrcode.clear(),m(),p()}).catch(function(E){g.verbose&&g.logger.logError("Unable to stop qrcode scanner",E),A(E)}):(g.html5Qrcode.clear(),m(),p())}):Promise.resolve()},h.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},h.prototype.applyVideoConstraints=function(g){return this.getHtml5QrcodeOrFail().applyVideoConstraints(g)},h.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},h.prototype.createConfig=function(g){return g?(g.fps||(g.fps=qi.SCAN_DEFAULT_FPS),g.rememberLastUsedCamera!==!qi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(g.rememberLastUsedCamera=qi.DEFAULT_REMEMBER_LAST_CAMERA_USED),g.supportedScanTypes||(g.supportedScanTypes=qi.DEFAULT_SUPPORTED_SCAN_TYPE),g):{fps:qi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:qi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:qi.DEFAULT_SUPPORTED_SCAN_TYPE}},h.prototype.createBasicLayout=function(g){g.style.position="relative",g.style.padding="0px",g.style.border="1px solid silver",this.createHeader(g);var m=document.createElement("div"),p=this.getScanRegionId();m.id=p,m.style.width="100%",m.style.minHeight="100px",m.style.textAlign="center",g.appendChild(m),bl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var A=document.createElement("div"),E=this.getDashboardId();A.id=E,A.style.width="100%",g.appendChild(A),this.setupInitialDashboard(A)},h.prototype.resetBasicLayout=function(g){g.style.border="none"},h.prototype.setupInitialDashboard=function(g){this.createSection(g),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},h.prototype.createHeader=function(g){var m=document.createElement("div");m.style.textAlign="left",m.style.margin="0px",g.appendChild(m);var p=new dx;p.renderInto(m);var A=document.createElement("div");A.id=this.getHeaderMessageContainerId(),A.style.display="none",A.style.textAlign="center",A.style.fontSize="14px",A.style.padding="2px 10px",A.style.margin="4px",A.style.borderTop="1px solid #f6f6f6",m.appendChild(A)},h.prototype.createSection=function(g){var m=document.createElement("div");m.id=this.getDashboardSectionId(),m.style.width="100%",m.style.padding="10px 0px 10px 0px",m.style.textAlign="left",g.appendChild(m)},h.prototype.createCameraListUi=function(g,m,p){var A=this;A.showHideScanTypeSwapLink(!1),A.setHeaderMessage(un.cameraPermissionRequesting());var E=function(){p||A.createPermissionButton(g,m)};Hd.getCameras().then(function(T){A.persistedDataManager.setHasPermission(!0),A.showHideScanTypeSwapLink(!0),A.resetHeaderMessage(),T&&T.length>0?(g.removeChild(m),A.renderCameraSelection(T)):(A.setHeaderMessage(un.noCameraFound(),bi.STATUS_WARNING),E())}).catch(function(T){A.persistedDataManager.setHasPermission(!1),p?p.disabled=!1:E(),A.setHeaderMessage(T,bi.STATUS_WARNING),A.showHideScanTypeSwapLink(!0)})},h.prototype.createPermissionButton=function(g,m){var p=this,A=Ua.createElement("button",this.getCameraPermissionButtonId());A.innerText=un.cameraPermissionTitle(),A.addEventListener("click",function(){A.disabled=!0,p.createCameraListUi(g,m,A)}),m.appendChild(A)},h.prototype.createPermissionsUi=function(g,m){var p=this;if(bl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Gd.hasPermissions().then(function(A){A?p.createCameraListUi(g,m):(p.persistedDataManager.setHasPermission(!1),p.createPermissionButton(g,m))}).catch(function(A){p.persistedDataManager.setHasPermission(!1),p.createPermissionButton(g,m)});return}this.createPermissionButton(g,m)},h.prototype.createSectionControlPanel=function(){var g=document.getElementById(this.getDashboardSectionId()),m=document.createElement("div");g.appendChild(m);var p=document.createElement("div");p.id=this.getDashboardSectionCameraScanRegionId(),p.style.display=bl.isCameraScanType(this.currentScanType)?"block":"none",m.appendChild(p);var A=document.createElement("div");A.style.textAlign="center",p.appendChild(A),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(p,A),this.renderFileScanUi(m)},h.prototype.renderFileScanUi=function(g){var m=bl.isFileScanType(this.currentScanType),p=this,A=function(E){if(!p.html5Qrcode)throw"html5Qrcode not defined";bl.isFileScanType(p.currentScanType)&&(p.setHeaderMessage(un.loadingImage()),p.html5Qrcode.scanFileV2(E,!0).then(function(T){p.resetHeaderMessage(),p.qrCodeSuccessCallback(T.decodedText,T)}).catch(function(T){p.setHeaderMessage(T,bi.STATUS_WARNING),p.qrCodeErrorCallback(T,Bg.createFrom(T))}))};this.fileSelectionUi=yx.create(g,m,A)},h.prototype.renderCameraSelection=function(g){var m=this,p=this,A=document.getElementById(this.getDashboardSectionCameraScanRegionId());A.style.textAlign="center";var E=wx.create(A,!1),T=function(J){var le=J.zoomFeature();if(le.isSupported()){E.setOnCameraZoomValueChangeCallback(function(Ae){le.apply(Ae)});var Re=1;m.config.defaultZoomValueIfSupported&&(Re=m.config.defaultZoomValueIfSupported),Re=Fy(Re,le.min(),le.max()),E.setValues(le.min(),le.max(),Re,le.step()),E.show()}},R=xx.create(A,g),D=document.createElement("span"),v=Ua.createElement("button",Ei.CAMERA_START_BUTTON_ID);v.innerText=un.scanButtonStartScanningText(),D.appendChild(v);var M=Ua.createElement("button",Ei.CAMERA_STOP_BUTTON_ID);M.innerText=un.scanButtonStopScanningText(),M.style.display="none",M.disabled=!0,D.appendChild(M);var B,ae=function(J){if(!J.torchFeature().isSupported()){B&&B.hide();return}B?B.updateTorchCapability(J.torchFeature()):B=px.create(D,J.torchFeature(),{display:"none",marginLeft:"5px"},function(le){p.setHeaderMessage(le,bi.STATUS_WARNING)}),B.show()};A.appendChild(D);var me=function(J){J||(v.style.display="none"),v.innerText=un.scanButtonStartScanningText(),v.style.opacity="1",v.disabled=!1,J&&(v.style.display="inline-block")};if(v.addEventListener("click",function(J){v.innerText=un.scanButtonScanningStarting(),R.disable(),v.disabled=!0,v.style.opacity="0.5",m.scanTypeSelector.hasMoreThanOneScanType()&&p.showHideScanTypeSwapLink(!1),p.resetHeaderMessage();var le=R.getValue();p.persistedDataManager.setLastUsedCameraId(le),p.html5Qrcode.start(le,bx(p.config),p.qrCodeSuccessCallback,p.qrCodeErrorCallback).then(function(Re){M.disabled=!1,M.style.display="inline-block",me(!1);var Ae=p.html5Qrcode.getRunningTrackCameraCapabilities();m.config.showTorchButtonIfSupported===!0&&ae(Ae),m.config.showZoomSliderIfSupported===!0&&T(Ae)}).catch(function(Re){p.showHideScanTypeSwapLink(!0),R.enable(),me(!0),p.setHeaderMessage(Re,bi.STATUS_WARNING)})}),R.hasSingleItem()&&v.click(),M.addEventListener("click",function(J){if(!p.html5Qrcode)throw"html5Qrcode not defined";M.disabled=!0,p.html5Qrcode.stop().then(function(le){m.scanTypeSelector.hasMoreThanOneScanType()&&p.showHideScanTypeSwapLink(!0),R.enable(),v.disabled=!1,M.style.display="none",v.style.display="inline-block",B&&(B.reset(),B.hide()),E.removeOnCameraZoomValueChangeCallback(),E.hide(),p.insertCameraScanImageToScanRegion()}).catch(function(le){M.disabled=!1,p.setHeaderMessage(le,bi.STATUS_WARNING)})}),p.persistedDataManager.getLastUsedCameraId()){var $=p.persistedDataManager.getLastUsedCameraId();R.hasValue($)?(R.setValue($),v.click()):p.persistedDataManager.resetLastUsedCameraId()}},h.prototype.createSectionSwap=function(){var g=this,m=un.textIfCameraScanSelected(),p=un.textIfFileScanSelected(),A=document.getElementById(this.getDashboardSectionId()),E=document.createElement("div");E.style.textAlign="center";var T=Ua.createElement("span",this.getDashboardSectionSwapLinkId());T.style.textDecoration="underline",T.style.cursor="pointer",T.innerText=bl.isCameraScanType(this.currentScanType)?m:p,T.addEventListener("click",function(){if(!g.sectionSwapAllowed){g.verbose&&g.logger.logError("Section swap called when not allowed");return}g.resetHeaderMessage(),g.fileSelectionUi.resetValue(),g.sectionSwapAllowed=!1,bl.isCameraScanType(g.currentScanType)?(g.clearScanRegion(),g.getCameraScanRegion().style.display="none",g.fileSelectionUi.show(),T.innerText=p,g.currentScanType=El.SCAN_TYPE_FILE,g.insertFileScanImageToScanRegion()):(g.clearScanRegion(),g.getCameraScanRegion().style.display="block",g.fileSelectionUi.hide(),T.innerText=m,g.currentScanType=El.SCAN_TYPE_CAMERA,g.insertCameraScanImageToScanRegion(),g.startCameraScanIfPermissionExistsOnSwap()),g.sectionSwapAllowed=!0}),E.appendChild(T),A.appendChild(E)},h.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var g=this,m=this;if(this.persistedDataManager.hasCameraPermissions()){Gd.hasPermissions().then(function(p){if(p){var A=document.getElementById(m.getCameraPermissionButtonId());if(!A)throw g.logger.logError("Permission button not found, fail;"),"Permission button not found";A.click()}else m.persistedDataManager.setHasPermission(!1)}).catch(function(p){m.persistedDataManager.setHasPermission(!1)});return}},h.prototype.resetHeaderMessage=function(){var g=document.getElementById(this.getHeaderMessageContainerId());g.style.display="none"},h.prototype.setHeaderMessage=function(g,m){m||(m=bi.STATUS_DEFAULT);var p=this.getHeaderMessageDiv();switch(p.innerText=g,p.style.display="block",m){case bi.STATUS_SUCCESS:p.style.background="rgba(106, 175, 80, 0.26)",p.style.color="#477735";break;case bi.STATUS_WARNING:p.style.background="rgba(203, 36, 49, 0.14)",p.style.color="#cb2431";break;case bi.STATUS_DEFAULT:default:p.style.background="rgba(0, 0, 0, 0)",p.style.color="rgb(17, 17, 17)";break}},h.prototype.showHideScanTypeSwapLink=function(g){this.scanTypeSelector.hasMoreThanOneScanType()&&(g!==!0&&(g=!1),this.sectionSwapAllowed=g,this.getDashboardSectionSwapLink().style.display=g?"inline-block":"none")},h.prototype.insertCameraScanImageToScanRegion=function(){var g=this,m=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){m.innerHTML="<br>",m.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(p){m.innerHTML="<br>",m.appendChild(g.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=sx,this.cameraScanImage.alt=un.cameraScanAltText()},h.prototype.insertFileScanImageToScanRegion=function(){var g=this,m=document.getElementById(this.getScanRegionId());if(this.fileScanImage){m.innerHTML="<br>",m.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(p){m.innerHTML="<br>",m.appendChild(g.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ox,this.fileScanImage.alt=un.fileScanAltText()},h.prototype.clearScanRegion=function(){var g=document.getElementById(this.getScanRegionId());g.innerHTML=""},h.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},h.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},h.prototype.getDashboardSectionSwapLinkId=function(){return Ei.SCAN_TYPE_CHANGE_ANCHOR_ID},h.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},h.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},h.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},h.prototype.getCameraPermissionButtonId=function(){return Ei.CAMERA_PERMISSION_BUTTON_ID},h.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},h.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},h.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},h})();const Cx=({onScanSuccess:h,onClose:g})=>{const m=de.useRef(null);return de.useEffect(()=>{const p=new Ax("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);return m.current=p,p.render(A=>{h(A),p.clear()},A=>{}),()=>{m.current&&m.current.clear().catch(A=>{console.error("Failed to clear scanner",A)})}},[h]),Le.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col justify-center items-center",children:[Le.jsx("button",{onClick:g,className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full text-white hover:bg-white/20 z-50",children:Le.jsx(Mg,{size:24})}),Le.jsxs("div",{className:"w-full max-w-md px-4 relative",children:[Le.jsx("h2",{className:"text-white text-center mb-4 font-medium text-lg",children:"Scan Book Barcode"}),Le.jsx("div",{id:"reader",className:"overflow-hidden rounded-lg shadow-xl border-2 border-primary/50"}),Le.jsx("p",{className:"text-gray-400 text-center mt-4 text-sm",children:"Point your camera at the ISBN barcode on the back of the book."})]})]})},vx=({book:h,isOpen:g,onConfirm:m,onCancel:p,isLoading:A})=>g?Le.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:Le.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200",children:[Le.jsxs("div",{className:"relative h-32 bg-indigo-600 overflow-hidden",children:[Le.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/30"}),h?.thumbnail&&Le.jsx("img",{src:h.thumbnail,alt:"",className:"absolute inset-0 w-full h-full object-cover opacity-20 blur-md"}),Le.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:Le.jsx("h3",{className:"font-semibold text-lg tracking-tight",children:"Confirm Book"})})]}),Le.jsx("div",{className:"p-6",children:A?Le.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[Le.jsx("div",{className:"w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-4"}),Le.jsx("p",{className:"text-gray-500",children:"Fetching book details..."})]}):h?Le.jsx("div",{className:"flex flex-col gap-4",children:Le.jsxs("div",{className:"flex gap-4",children:[h.thumbnail?Le.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-24 h-36 object-cover rounded-md shadow-md bg-gray-100 flex-shrink-0"}):Le.jsx("div",{className:"w-24 h-36 bg-gray-100 rounded-md flex items-center justify-center text-gray-400 flex-shrink-0",children:Le.jsx(Ig,{size:32})}),Le.jsxs("div",{className:"flex flex-col",children:[Le.jsx("h4",{className:"font-bold text-gray-900 leading-tight mb-1 line-clamp-3",children:h.title}),Le.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.authors?.join(", ")||"Unknown Author"}),Le.jsxs("span",{className:"text-xs text-indigo-600 bg-indigo-50 px-2 py-1 rounded-full self-start font-medium",children:["ISBN: ",h.isbn]})]})]})}):Le.jsx("div",{className:"text-center py-4 text-red-500",children:"Could not find book details."})}),Le.jsxs("div",{className:"bg-gray-50 p-4 flex gap-3 border-t border-gray-100",children:[Le.jsxs("button",{onClick:p,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-200 text-gray-700 font-medium hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:[Le.jsx(Mg,{size:18}),"Cancel"]}),Le.jsxs("button",{onClick:m,disabled:!h||A,className:"flex-1 py-2.5 px-4 rounded-xl bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg shadow-indigo-200",children:[Le.jsx(Sy,{size:18}),"Add Application"]})]})]})}):null;function Pg(h,g){return function(){return h.apply(g,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:a0}=Object,{iterator:Pu,toStringTag:jg}=Symbol,ju=(h=>g=>{const m=Sx.call(g);return h[m]||(h[m]=m.slice(8,-1).toLowerCase())})(Object.create(null)),Ki=h=>(h=h.toLowerCase(),g=>ju(g)===h),Hu=h=>g=>typeof g===h,{isArray:Ns}=Array,Ts=Hu("undefined");function Eo(h){return h!==null&&!Ts(h)&&h.constructor!==null&&!Ts(h.constructor)&&ti(h.constructor.isBuffer)&&h.constructor.isBuffer(h)}const Hg=Ki("ArrayBuffer");function Tx(h){let g;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?g=ArrayBuffer.isView(h):g=h&&h.buffer&&Hg(h.buffer),g}const _x=Hu("string"),ti=Hu("function"),Vg=Hu("number"),Ao=h=>h!==null&&typeof h=="object",Ox=h=>h===!0||h===!1,Nu=h=>{if(ju(h)!=="object")return!1;const g=a0(h);return(g===null||g===Object.prototype||Object.getPrototypeOf(g)===null)&&!(jg in h)&&!(Pu in h)},Nx=h=>{if(!Ao(h)||Eo(h))return!1;try{return Object.keys(h).length===0&&Object.getPrototypeOf(h)===Object.prototype}catch{return!1}},Rx=Ki("Date"),Ix=Ki("File"),Mx=Ki("Blob"),Dx=Ki("FileList"),Bx=h=>Ao(h)&&ti(h.pipe),Lx=h=>{let g;return h&&(typeof FormData=="function"&&h instanceof FormData||ti(h.append)&&((g=ju(h))==="formdata"||g==="object"&&ti(h.toString)&&h.toString()==="[object FormData]"))},Ux=Ki("URLSearchParams"),[kx,zx,Fx,Px]=["ReadableStream","Request","Response","Headers"].map(Ki),jx=h=>h.trim?h.trim():h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Co(h,g,{allOwnKeys:m=!1}={}){if(h===null||typeof h>"u")return;let p,A;if(typeof h!="object"&&(h=[h]),Ns(h))for(p=0,A=h.length;p<A;p++)g.call(null,h[p],p,h);else{if(Eo(h))return;const E=m?Object.getOwnPropertyNames(h):Object.keys(h),T=E.length;let R;for(p=0;p<T;p++)R=E[p],g.call(null,h[R],R,h)}}function Yg(h,g){if(Eo(h))return null;g=g.toLowerCase();const m=Object.keys(h);let p=m.length,A;for(;p-- >0;)if(A=m[p],g===A.toLowerCase())return A;return null}const Gl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gg=h=>!Ts(h)&&h!==Gl;function qf(){const{caseless:h,skipUndefined:g}=Gg(this)&&this||{},m={},p=(A,E)=>{if(E==="__proto__"||E==="constructor"||E==="prototype")return;const T=h&&Yg(m,E)||E;Nu(m[T])&&Nu(A)?m[T]=qf(m[T],A):Nu(A)?m[T]=qf({},A):Ns(A)?m[T]=A.slice():(!g||!Ts(A))&&(m[T]=A)};for(let A=0,E=arguments.length;A<E;A++)arguments[A]&&Co(arguments[A],p);return m}const Hx=(h,g,m,{allOwnKeys:p}={})=>(Co(g,(A,E)=>{m&&ti(A)?Object.defineProperty(h,E,{value:Pg(A,m),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(h,E,{value:A,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:p}),h),Vx=h=>(h.charCodeAt(0)===65279&&(h=h.slice(1)),h),Yx=(h,g,m,p)=>{h.prototype=Object.create(g.prototype,p),Object.defineProperty(h.prototype,"constructor",{value:h,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(h,"super",{value:g.prototype}),m&&Object.assign(h.prototype,m)},Gx=(h,g,m,p)=>{let A,E,T;const R={};if(g=g||{},h==null)return g;do{for(A=Object.getOwnPropertyNames(h),E=A.length;E-- >0;)T=A[E],(!p||p(T,h,g))&&!R[T]&&(g[T]=h[T],R[T]=!0);h=m!==!1&&a0(h)}while(h&&(!m||m(h,g))&&h!==Object.prototype);return g},Xx=(h,g,m)=>{h=String(h),(m===void 0||m>h.length)&&(m=h.length),m-=g.length;const p=h.indexOf(g,m);return p!==-1&&p===m},qx=h=>{if(!h)return null;if(Ns(h))return h;let g=h.length;if(!Vg(g))return null;const m=new Array(g);for(;g-- >0;)m[g]=h[g];return m},Kx=(h=>g=>h&&g instanceof h)(typeof Uint8Array<"u"&&a0(Uint8Array)),Zx=(h,g)=>{const p=(h&&h[Pu]).call(h);let A;for(;(A=p.next())&&!A.done;){const E=A.value;g.call(h,E[0],E[1])}},Qx=(h,g)=>{let m;const p=[];for(;(m=h.exec(g))!==null;)p.push(m);return p},Wx=Ki("HTMLFormElement"),Jx=h=>h.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(m,p,A){return p.toUpperCase()+A}),qd=(({hasOwnProperty:h})=>(g,m)=>h.call(g,m))(Object.prototype),$x=Ki("RegExp"),Xg=(h,g)=>{const m=Object.getOwnPropertyDescriptors(h),p={};Co(m,(A,E)=>{let T;(T=g(A,E,h))!==!1&&(p[E]=T||A)}),Object.defineProperties(h,p)},e3=h=>{Xg(h,(g,m)=>{if(ti(h)&&["arguments","caller","callee"].indexOf(m)!==-1)return!1;const p=h[m];if(ti(p)){if(g.enumerable=!1,"writable"in g){g.writable=!1;return}g.set||(g.set=()=>{throw Error("Can not rewrite read-only method '"+m+"'")})}})},t3=(h,g)=>{const m={},p=A=>{A.forEach(E=>{m[E]=!0})};return Ns(h)?p(h):p(String(h).split(g)),m},n3=()=>{},r3=(h,g)=>h!=null&&Number.isFinite(h=+h)?h:g;function i3(h){return!!(h&&ti(h.append)&&h[jg]==="FormData"&&h[Pu])}const a3=h=>{const g=new Array(10),m=(p,A)=>{if(Ao(p)){if(g.indexOf(p)>=0)return;if(Eo(p))return p;if(!("toJSON"in p)){g[A]=p;const E=Ns(p)?[]:{};return Co(p,(T,R)=>{const D=m(T,A+1);!Ts(D)&&(E[R]=D)}),g[A]=void 0,E}}return p};return m(h,0)},l3=Ki("AsyncFunction"),s3=h=>h&&(Ao(h)||ti(h))&&ti(h.then)&&ti(h.catch),qg=((h,g)=>h?setImmediate:g?((m,p)=>(Gl.addEventListener("message",({source:A,data:E})=>{A===Gl&&E===m&&p.length&&p.shift()()},!1),A=>{p.push(A),Gl.postMessage(m,"*")}))(`axios@${Math.random()}`,[]):m=>setTimeout(m))(typeof setImmediate=="function",ti(Gl.postMessage)),o3=typeof queueMicrotask<"u"?queueMicrotask.bind(Gl):typeof process<"u"&&process.nextTick||qg,u3=h=>h!=null&&ti(h[Pu]),fe={isArray:Ns,isArrayBuffer:Hg,isBuffer:Eo,isFormData:Lx,isArrayBufferView:Tx,isString:_x,isNumber:Vg,isBoolean:Ox,isObject:Ao,isPlainObject:Nu,isEmptyObject:Nx,isReadableStream:kx,isRequest:zx,isResponse:Fx,isHeaders:Px,isUndefined:Ts,isDate:Rx,isFile:Ix,isBlob:Mx,isRegExp:$x,isFunction:ti,isStream:Bx,isURLSearchParams:Ux,isTypedArray:Kx,isFileList:Dx,forEach:Co,merge:qf,extend:Hx,trim:jx,stripBOM:Vx,inherits:Yx,toFlatObject:Gx,kindOf:ju,kindOfTest:Ki,endsWith:Xx,toArray:qx,forEachEntry:Zx,matchAll:Qx,isHTMLForm:Wx,hasOwnProperty:qd,hasOwnProp:qd,reduceDescriptors:Xg,freezeMethods:e3,toObjectSet:t3,toCamelCase:Jx,noop:n3,toFiniteNumber:r3,findKey:Yg,global:Gl,isContextDefined:Gg,isSpecCompliantForm:i3,toJSONObject:a3,isAsyncFn:l3,isThenable:s3,setImmediate:qg,asap:o3,isIterable:u3};let ct=class Kg extends Error{static from(g,m,p,A,E,T){const R=new Kg(g.message,m||g.code,p,A,E);return R.cause=g,R.name=g.name,T&&Object.assign(R,T),R}constructor(g,m,p,A,E){super(g),this.name="AxiosError",this.isAxiosError=!0,m&&(this.code=m),p&&(this.config=p),A&&(this.request=A),E&&(this.response=E,this.status=E.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}};ct.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";ct.ERR_BAD_OPTION="ERR_BAD_OPTION";ct.ECONNABORTED="ECONNABORTED";ct.ETIMEDOUT="ETIMEDOUT";ct.ERR_NETWORK="ERR_NETWORK";ct.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";ct.ERR_DEPRECATED="ERR_DEPRECATED";ct.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";ct.ERR_BAD_REQUEST="ERR_BAD_REQUEST";ct.ERR_CANCELED="ERR_CANCELED";ct.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";ct.ERR_INVALID_URL="ERR_INVALID_URL";const c3=null;function Kf(h){return fe.isPlainObject(h)||fe.isArray(h)}function Zg(h){return fe.endsWith(h,"[]")?h.slice(0,-2):h}function Kd(h,g,m){return h?h.concat(g).map(function(A,E){return A=Zg(A),!m&&E?"["+A+"]":A}).join(m?".":""):g}function f3(h){return fe.isArray(h)&&!h.some(Kf)}const h3=fe.toFlatObject(fe,{},null,function(g){return/^is[A-Z]/.test(g)});function Vu(h,g,m){if(!fe.isObject(h))throw new TypeError("target must be an object");g=g||new FormData,m=fe.toFlatObject(m,{metaTokens:!0,dots:!1,indexes:!1},!1,function(J,le){return!fe.isUndefined(le[J])});const p=m.metaTokens,A=m.visitor||M,E=m.dots,T=m.indexes,D=(m.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(g);if(!fe.isFunction(A))throw new TypeError("visitor must be a function");function v($){if($===null)return"";if(fe.isDate($))return $.toISOString();if(fe.isBoolean($))return $.toString();if(!D&&fe.isBlob($))throw new ct("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer($)||fe.isTypedArray($)?D&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function M($,J,le){let Re=$;if($&&!le&&typeof $=="object"){if(fe.endsWith(J,"{}"))J=p?J:J.slice(0,-2),$=JSON.stringify($);else if(fe.isArray($)&&f3($)||(fe.isFileList($)||fe.endsWith(J,"[]"))&&(Re=fe.toArray($)))return J=Zg(J),Re.forEach(function(pe,Ue){!(fe.isUndefined(pe)||pe===null)&&g.append(T===!0?Kd([J],Ue,E):T===null?J:J+"[]",v(pe))}),!1}return Kf($)?!0:(g.append(Kd(le,J,E),v($)),!1)}const B=[],ae=Object.assign(h3,{defaultVisitor:M,convertValue:v,isVisitable:Kf});function me($,J){if(!fe.isUndefined($)){if(B.indexOf($)!==-1)throw Error("Circular reference detected in "+J.join("."));B.push($),fe.forEach($,function(Re,Ae){(!(fe.isUndefined(Re)||Re===null)&&A.call(g,Re,fe.isString(Ae)?Ae.trim():Ae,J,ae))===!0&&me(Re,J?J.concat(Ae):[Ae])}),B.pop()}}if(!fe.isObject(h))throw new TypeError("data must be an object");return me(h),g}function Zd(h){const g={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(h).replace(/[!'()~]|%20|%00/g,function(p){return g[p]})}function l0(h,g){this._pairs=[],h&&Vu(h,this,g)}const Qg=l0.prototype;Qg.append=function(g,m){this._pairs.push([g,m])};Qg.toString=function(g){const m=g?function(p){return g.call(this,p,Zd)}:Zd;return this._pairs.map(function(A){return m(A[0])+"="+m(A[1])},"").join("&")};function d3(h){return encodeURIComponent(h).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Wg(h,g,m){if(!g)return h;const p=m&&m.encode||d3,A=fe.isFunction(m)?{serialize:m}:m,E=A&&A.serialize;let T;if(E?T=E(g,A):T=fe.isURLSearchParams(g)?g.toString():new l0(g,A).toString(p),T){const R=h.indexOf("#");R!==-1&&(h=h.slice(0,R)),h+=(h.indexOf("?")===-1?"?":"&")+T}return h}class Qd{constructor(){this.handlers=[]}use(g,m,p){return this.handlers.push({fulfilled:g,rejected:m,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1}eject(g){this.handlers[g]&&(this.handlers[g]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(g){fe.forEach(this.handlers,function(p){p!==null&&g(p)})}}const s0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},g3=typeof URLSearchParams<"u"?URLSearchParams:l0,m3=typeof FormData<"u"?FormData:null,p3=typeof Blob<"u"?Blob:null,y3={isBrowser:!0,classes:{URLSearchParams:g3,FormData:m3,Blob:p3},protocols:["http","https","file","blob","url","data"]},o0=typeof window<"u"&&typeof document<"u",Zf=typeof navigator=="object"&&navigator||void 0,x3=o0&&(!Zf||["ReactNative","NativeScript","NS"].indexOf(Zf.product)<0),w3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",b3=o0&&window.location.href||"http://localhost",E3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:o0,hasStandardBrowserEnv:x3,hasStandardBrowserWebWorkerEnv:w3,navigator:Zf,origin:b3},Symbol.toStringTag,{value:"Module"})),Dr={...E3,...y3};function A3(h,g){return Vu(h,new Dr.classes.URLSearchParams,{visitor:function(m,p,A,E){return Dr.isNode&&fe.isBuffer(m)?(this.append(p,m.toString("base64")),!1):E.defaultVisitor.apply(this,arguments)},...g})}function C3(h){return fe.matchAll(/\w+|\[(\w*)]/g,h).map(g=>g[0]==="[]"?"":g[1]||g[0])}function v3(h){const g={},m=Object.keys(h);let p;const A=m.length;let E;for(p=0;p<A;p++)E=m[p],g[E]=h[E];return g}function Jg(h){function g(m,p,A,E){let T=m[E++];if(T==="__proto__")return!0;const R=Number.isFinite(+T),D=E>=m.length;return T=!T&&fe.isArray(A)?A.length:T,D?(fe.hasOwnProp(A,T)?A[T]=[A[T],p]:A[T]=p,!R):((!A[T]||!fe.isObject(A[T]))&&(A[T]=[]),g(m,p,A[T],E)&&fe.isArray(A[T])&&(A[T]=v3(A[T])),!R)}if(fe.isFormData(h)&&fe.isFunction(h.entries)){const m={};return fe.forEachEntry(h,(p,A)=>{g(C3(p),A,m,0)}),m}return null}function S3(h,g,m){if(fe.isString(h))try{return(g||JSON.parse)(h),fe.trim(h)}catch(p){if(p.name!=="SyntaxError")throw p}return(m||JSON.stringify)(h)}const vo={transitional:s0,adapter:["xhr","http","fetch"],transformRequest:[function(g,m){const p=m.getContentType()||"",A=p.indexOf("application/json")>-1,E=fe.isObject(g);if(E&&fe.isHTMLForm(g)&&(g=new FormData(g)),fe.isFormData(g))return A?JSON.stringify(Jg(g)):g;if(fe.isArrayBuffer(g)||fe.isBuffer(g)||fe.isStream(g)||fe.isFile(g)||fe.isBlob(g)||fe.isReadableStream(g))return g;if(fe.isArrayBufferView(g))return g.buffer;if(fe.isURLSearchParams(g))return m.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),g.toString();let R;if(E){if(p.indexOf("application/x-www-form-urlencoded")>-1)return A3(g,this.formSerializer).toString();if((R=fe.isFileList(g))||p.indexOf("multipart/form-data")>-1){const D=this.env&&this.env.FormData;return Vu(R?{"files[]":g}:g,D&&new D,this.formSerializer)}}return E||A?(m.setContentType("application/json",!1),S3(g)):g}],transformResponse:[function(g){const m=this.transitional||vo.transitional,p=m&&m.forcedJSONParsing,A=this.responseType==="json";if(fe.isResponse(g)||fe.isReadableStream(g))return g;if(g&&fe.isString(g)&&(p&&!this.responseType||A)){const T=!(m&&m.silentJSONParsing)&&A;try{return JSON.parse(g,this.parseReviver)}catch(R){if(T)throw R.name==="SyntaxError"?ct.from(R,ct.ERR_BAD_RESPONSE,this,null,this.response):R}}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dr.classes.FormData,Blob:Dr.classes.Blob},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],h=>{vo.headers[h]={}});const T3=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_3=h=>{const g={};let m,p,A;return h&&h.split(`
`).forEach(function(T){A=T.indexOf(":"),m=T.substring(0,A).trim().toLowerCase(),p=T.substring(A+1).trim(),!(!m||g[m]&&T3[m])&&(m==="set-cookie"?g[m]?g[m].push(p):g[m]=[p]:g[m]=g[m]?g[m]+", "+p:p)}),g},Wd=Symbol("internals");function go(h){return h&&String(h).trim().toLowerCase()}function Ru(h){return h===!1||h==null?h:fe.isArray(h)?h.map(Ru):String(h)}function O3(h){const g=Object.create(null),m=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let p;for(;p=m.exec(h);)g[p[1]]=p[2];return g}const N3=h=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(h.trim());function Ff(h,g,m,p,A){if(fe.isFunction(p))return p.call(this,g,m);if(A&&(g=m),!!fe.isString(g)){if(fe.isString(p))return g.indexOf(p)!==-1;if(fe.isRegExp(p))return p.test(g)}}function R3(h){return h.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(g,m,p)=>m.toUpperCase()+p)}function I3(h,g){const m=fe.toCamelCase(" "+g);["get","set","has"].forEach(p=>{Object.defineProperty(h,p+m,{value:function(A,E,T){return this[p].call(this,g,A,E,T)},configurable:!0})})}let ni=class{constructor(g){g&&this.set(g)}set(g,m,p){const A=this;function E(R,D,v){const M=go(D);if(!M)throw new Error("header name must be a non-empty string");const B=fe.findKey(A,M);(!B||A[B]===void 0||v===!0||v===void 0&&A[B]!==!1)&&(A[B||D]=Ru(R))}const T=(R,D)=>fe.forEach(R,(v,M)=>E(v,M,D));if(fe.isPlainObject(g)||g instanceof this.constructor)T(g,m);else if(fe.isString(g)&&(g=g.trim())&&!N3(g))T(_3(g),m);else if(fe.isObject(g)&&fe.isIterable(g)){let R={},D,v;for(const M of g){if(!fe.isArray(M))throw TypeError("Object iterator must return a key-value pair");R[v=M[0]]=(D=R[v])?fe.isArray(D)?[...D,M[1]]:[D,M[1]]:M[1]}T(R,m)}else g!=null&&E(m,g,p);return this}get(g,m){if(g=go(g),g){const p=fe.findKey(this,g);if(p){const A=this[p];if(!m)return A;if(m===!0)return O3(A);if(fe.isFunction(m))return m.call(this,A,p);if(fe.isRegExp(m))return m.exec(A);throw new TypeError("parser must be boolean|regexp|function")}}}has(g,m){if(g=go(g),g){const p=fe.findKey(this,g);return!!(p&&this[p]!==void 0&&(!m||Ff(this,this[p],p,m)))}return!1}delete(g,m){const p=this;let A=!1;function E(T){if(T=go(T),T){const R=fe.findKey(p,T);R&&(!m||Ff(p,p[R],R,m))&&(delete p[R],A=!0)}}return fe.isArray(g)?g.forEach(E):E(g),A}clear(g){const m=Object.keys(this);let p=m.length,A=!1;for(;p--;){const E=m[p];(!g||Ff(this,this[E],E,g,!0))&&(delete this[E],A=!0)}return A}normalize(g){const m=this,p={};return fe.forEach(this,(A,E)=>{const T=fe.findKey(p,E);if(T){m[T]=Ru(A),delete m[E];return}const R=g?R3(E):String(E).trim();R!==E&&delete m[E],m[R]=Ru(A),p[R]=!0}),this}concat(...g){return this.constructor.concat(this,...g)}toJSON(g){const m=Object.create(null);return fe.forEach(this,(p,A)=>{p!=null&&p!==!1&&(m[A]=g&&fe.isArray(p)?p.join(", "):p)}),m}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([g,m])=>g+": "+m).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(g){return g instanceof this?g:new this(g)}static concat(g,...m){const p=new this(g);return m.forEach(A=>p.set(A)),p}static accessor(g){const p=(this[Wd]=this[Wd]={accessors:{}}).accessors,A=this.prototype;function E(T){const R=go(T);p[R]||(I3(A,T),p[R]=!0)}return fe.isArray(g)?g.forEach(E):E(g),this}};ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(ni.prototype,({value:h},g)=>{let m=g[0].toUpperCase()+g.slice(1);return{get:()=>h,set(p){this[m]=p}}});fe.freezeMethods(ni);function Pf(h,g){const m=this||vo,p=g||m,A=ni.from(p.headers);let E=p.data;return fe.forEach(h,function(R){E=R.call(m,E,A.normalize(),g?g.status:void 0)}),A.normalize(),E}function $g(h){return!!(h&&h.__CANCEL__)}let So=class extends ct{constructor(g,m,p){super(g??"canceled",ct.ERR_CANCELED,m,p),this.name="CanceledError",this.__CANCEL__=!0}};function e2(h,g,m){const p=m.config.validateStatus;!m.status||!p||p(m.status)?h(m):g(new ct("Request failed with status code "+m.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(m.status/100)-4],m.config,m.request,m))}function M3(h){const g=/^([-+\w]{1,25})(:?\/\/|:)/.exec(h);return g&&g[1]||""}function D3(h,g){h=h||10;const m=new Array(h),p=new Array(h);let A=0,E=0,T;return g=g!==void 0?g:1e3,function(D){const v=Date.now(),M=p[E];T||(T=v),m[A]=D,p[A]=v;let B=E,ae=0;for(;B!==A;)ae+=m[B++],B=B%h;if(A=(A+1)%h,A===E&&(E=(E+1)%h),v-T<g)return;const me=M&&v-M;return me?Math.round(ae*1e3/me):void 0}}function B3(h,g){let m=0,p=1e3/g,A,E;const T=(v,M=Date.now())=>{m=M,A=null,E&&(clearTimeout(E),E=null),h(...v)};return[(...v)=>{const M=Date.now(),B=M-m;B>=p?T(v,M):(A=v,E||(E=setTimeout(()=>{E=null,T(A)},p-B)))},()=>A&&T(A)]}const Lu=(h,g,m=3)=>{let p=0;const A=D3(50,250);return B3(E=>{const T=E.loaded,R=E.lengthComputable?E.total:void 0,D=T-p,v=A(D),M=T<=R;p=T;const B={loaded:T,total:R,progress:R?T/R:void 0,bytes:D,rate:v||void 0,estimated:v&&R&&M?(R-T)/v:void 0,event:E,lengthComputable:R!=null,[g?"download":"upload"]:!0};h(B)},m)},Jd=(h,g)=>{const m=h!=null;return[p=>g[0]({lengthComputable:m,total:h,loaded:p}),g[1]]},$d=h=>(...g)=>fe.asap(()=>h(...g)),L3=Dr.hasStandardBrowserEnv?((h,g)=>m=>(m=new URL(m,Dr.origin),h.protocol===m.protocol&&h.host===m.host&&(g||h.port===m.port)))(new URL(Dr.origin),Dr.navigator&&/(msie|trident)/i.test(Dr.navigator.userAgent)):()=>!0,U3=Dr.hasStandardBrowserEnv?{write(h,g,m,p,A,E,T){if(typeof document>"u")return;const R=[`${h}=${encodeURIComponent(g)}`];fe.isNumber(m)&&R.push(`expires=${new Date(m).toUTCString()}`),fe.isString(p)&&R.push(`path=${p}`),fe.isString(A)&&R.push(`domain=${A}`),E===!0&&R.push("secure"),fe.isString(T)&&R.push(`SameSite=${T}`),document.cookie=R.join("; ")},read(h){if(typeof document>"u")return null;const g=document.cookie.match(new RegExp("(?:^|; )"+h+"=([^;]*)"));return g?decodeURIComponent(g[1]):null},remove(h){this.write(h,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function k3(h){return typeof h!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(h)}function z3(h,g){return g?h.replace(/\/?\/$/,"")+"/"+g.replace(/^\/+/,""):h}function t2(h,g,m){let p=!k3(g);return h&&(p||m==!1)?z3(h,g):g}const eg=h=>h instanceof ni?{...h}:h;function ql(h,g){g=g||{};const m={};function p(v,M,B,ae){return fe.isPlainObject(v)&&fe.isPlainObject(M)?fe.merge.call({caseless:ae},v,M):fe.isPlainObject(M)?fe.merge({},M):fe.isArray(M)?M.slice():M}function A(v,M,B,ae){if(fe.isUndefined(M)){if(!fe.isUndefined(v))return p(void 0,v,B,ae)}else return p(v,M,B,ae)}function E(v,M){if(!fe.isUndefined(M))return p(void 0,M)}function T(v,M){if(fe.isUndefined(M)){if(!fe.isUndefined(v))return p(void 0,v)}else return p(void 0,M)}function R(v,M,B){if(B in g)return p(v,M);if(B in h)return p(void 0,v)}const D={url:E,method:E,data:E,baseURL:T,transformRequest:T,transformResponse:T,paramsSerializer:T,timeout:T,timeoutMessage:T,withCredentials:T,withXSRFToken:T,adapter:T,responseType:T,xsrfCookieName:T,xsrfHeaderName:T,onUploadProgress:T,onDownloadProgress:T,decompress:T,maxContentLength:T,maxBodyLength:T,beforeRedirect:T,transport:T,httpAgent:T,httpsAgent:T,cancelToken:T,socketPath:T,responseEncoding:T,validateStatus:R,headers:(v,M,B)=>A(eg(v),eg(M),B,!0)};return fe.forEach(Object.keys({...h,...g}),function(M){if(M==="__proto__"||M==="constructor"||M==="prototype")return;const B=fe.hasOwnProp(D,M)?D[M]:A,ae=B(h[M],g[M],M);fe.isUndefined(ae)&&B!==R||(m[M]=ae)}),m}const n2=h=>{const g=ql({},h);let{data:m,withXSRFToken:p,xsrfHeaderName:A,xsrfCookieName:E,headers:T,auth:R}=g;if(g.headers=T=ni.from(T),g.url=Wg(t2(g.baseURL,g.url,g.allowAbsoluteUrls),h.params,h.paramsSerializer),R&&T.set("Authorization","Basic "+btoa((R.username||"")+":"+(R.password?unescape(encodeURIComponent(R.password)):""))),fe.isFormData(m)){if(Dr.hasStandardBrowserEnv||Dr.hasStandardBrowserWebWorkerEnv)T.setContentType(void 0);else if(fe.isFunction(m.getHeaders)){const D=m.getHeaders(),v=["content-type","content-length"];Object.entries(D).forEach(([M,B])=>{v.includes(M.toLowerCase())&&T.set(M,B)})}}if(Dr.hasStandardBrowserEnv&&(p&&fe.isFunction(p)&&(p=p(g)),p||p!==!1&&L3(g.url))){const D=A&&E&&U3.read(E);D&&T.set(A,D)}return g},F3=typeof XMLHttpRequest<"u",P3=F3&&function(h){return new Promise(function(m,p){const A=n2(h);let E=A.data;const T=ni.from(A.headers).normalize();let{responseType:R,onUploadProgress:D,onDownloadProgress:v}=A,M,B,ae,me,$;function J(){me&&me(),$&&$(),A.cancelToken&&A.cancelToken.unsubscribe(M),A.signal&&A.signal.removeEventListener("abort",M)}let le=new XMLHttpRequest;le.open(A.method.toUpperCase(),A.url,!0),le.timeout=A.timeout;function Re(){if(!le)return;const pe=ni.from("getAllResponseHeaders"in le&&le.getAllResponseHeaders()),at={data:!R||R==="text"||R==="json"?le.responseText:le.response,status:le.status,statusText:le.statusText,headers:pe,config:h,request:le};e2(function(ie){m(ie),J()},function(ie){p(ie),J()},at),le=null}"onloadend"in le?le.onloadend=Re:le.onreadystatechange=function(){!le||le.readyState!==4||le.status===0&&!(le.responseURL&&le.responseURL.indexOf("file:")===0)||setTimeout(Re)},le.onabort=function(){le&&(p(new ct("Request aborted",ct.ECONNABORTED,h,le)),le=null)},le.onerror=function(Ue){const at=Ue&&Ue.message?Ue.message:"Network Error",Ye=new ct(at,ct.ERR_NETWORK,h,le);Ye.event=Ue||null,p(Ye),le=null},le.ontimeout=function(){let Ue=A.timeout?"timeout of "+A.timeout+"ms exceeded":"timeout exceeded";const at=A.transitional||s0;A.timeoutErrorMessage&&(Ue=A.timeoutErrorMessage),p(new ct(Ue,at.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,h,le)),le=null},E===void 0&&T.setContentType(null),"setRequestHeader"in le&&fe.forEach(T.toJSON(),function(Ue,at){le.setRequestHeader(at,Ue)}),fe.isUndefined(A.withCredentials)||(le.withCredentials=!!A.withCredentials),R&&R!=="json"&&(le.responseType=A.responseType),v&&([ae,$]=Lu(v,!0),le.addEventListener("progress",ae)),D&&le.upload&&([B,me]=Lu(D),le.upload.addEventListener("progress",B),le.upload.addEventListener("loadend",me)),(A.cancelToken||A.signal)&&(M=pe=>{le&&(p(!pe||pe.type?new So(null,h,le):pe),le.abort(),le=null)},A.cancelToken&&A.cancelToken.subscribe(M),A.signal&&(A.signal.aborted?M():A.signal.addEventListener("abort",M)));const Ae=M3(A.url);if(Ae&&Dr.protocols.indexOf(Ae)===-1){p(new ct("Unsupported protocol "+Ae+":",ct.ERR_BAD_REQUEST,h));return}le.send(E||null)})},j3=(h,g)=>{const{length:m}=h=h?h.filter(Boolean):[];if(g||m){let p=new AbortController,A;const E=function(v){if(!A){A=!0,R();const M=v instanceof Error?v:this.reason;p.abort(M instanceof ct?M:new So(M instanceof Error?M.message:M))}};let T=g&&setTimeout(()=>{T=null,E(new ct(`timeout of ${g}ms exceeded`,ct.ETIMEDOUT))},g);const R=()=>{h&&(T&&clearTimeout(T),T=null,h.forEach(v=>{v.unsubscribe?v.unsubscribe(E):v.removeEventListener("abort",E)}),h=null)};h.forEach(v=>v.addEventListener("abort",E));const{signal:D}=p;return D.unsubscribe=()=>fe.asap(R),D}},H3=function*(h,g){let m=h.byteLength;if(m<g){yield h;return}let p=0,A;for(;p<m;)A=p+g,yield h.slice(p,A),p=A},V3=async function*(h,g){for await(const m of Y3(h))yield*H3(m,g)},Y3=async function*(h){if(h[Symbol.asyncIterator]){yield*h;return}const g=h.getReader();try{for(;;){const{done:m,value:p}=await g.read();if(m)break;yield p}}finally{await g.cancel()}},tg=(h,g,m,p)=>{const A=V3(h,g);let E=0,T,R=D=>{T||(T=!0,p&&p(D))};return new ReadableStream({async pull(D){try{const{done:v,value:M}=await A.next();if(v){R(),D.close();return}let B=M.byteLength;if(m){let ae=E+=B;m(ae)}D.enqueue(new Uint8Array(M))}catch(v){throw R(v),v}},cancel(D){return R(D),A.return()}},{highWaterMark:2})},ng=64*1024,{isFunction:Su}=fe,G3=(({Request:h,Response:g})=>({Request:h,Response:g}))(fe.global),{ReadableStream:rg,TextEncoder:ig}=fe.global,ag=(h,...g)=>{try{return!!h(...g)}catch{return!1}},X3=h=>{h=fe.merge.call({skipUndefined:!0},G3,h);const{fetch:g,Request:m,Response:p}=h,A=g?Su(g):typeof fetch=="function",E=Su(m),T=Su(p);if(!A)return!1;const R=A&&Su(rg),D=A&&(typeof ig=="function"?($=>J=>$.encode(J))(new ig):async $=>new Uint8Array(await new m($).arrayBuffer())),v=E&&R&&ag(()=>{let $=!1;const J=new m(Dr.origin,{body:new rg,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!J}),M=T&&R&&ag(()=>fe.isReadableStream(new p("").body)),B={stream:M&&($=>$.body)};A&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!B[$]&&(B[$]=(J,le)=>{let Re=J&&J[$];if(Re)return Re.call(J);throw new ct(`Response type '${$}' is not supported`,ct.ERR_NOT_SUPPORT,le)})});const ae=async $=>{if($==null)return 0;if(fe.isBlob($))return $.size;if(fe.isSpecCompliantForm($))return(await new m(Dr.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(fe.isArrayBufferView($)||fe.isArrayBuffer($))return $.byteLength;if(fe.isURLSearchParams($)&&($=$+""),fe.isString($))return(await D($)).byteLength},me=async($,J)=>{const le=fe.toFiniteNumber($.getContentLength());return le??ae(J)};return async $=>{let{url:J,method:le,data:Re,signal:Ae,cancelToken:pe,timeout:Ue,onDownloadProgress:at,onUploadProgress:Ye,responseType:ie,headers:Je,withCredentials:Ce="same-origin",fetchOptions:vn}=n2($),Zt=g||fetch;ie=ie?(ie+"").toLowerCase():"text";let je=j3([Ae,pe&&pe.toAbortSignal()],Ue),lt=null;const Ot=je&&je.unsubscribe&&(()=>{je.unsubscribe()});let ce;try{if(Ye&&v&&le!=="get"&&le!=="head"&&(ce=await me(Je,Re))!==0){let G=new m(J,{method:"POST",body:Re,duplex:"half"}),ue;if(fe.isFormData(Re)&&(ue=G.headers.get("content-type"))&&Je.setContentType(ue),G.body){const[De,Me]=Jd(ce,Lu($d(Ye)));Re=tg(G.body,ng,De,Me)}}fe.isString(Ce)||(Ce=Ce?"include":"omit");const ee=E&&"credentials"in m.prototype,ye={...vn,signal:je,method:le.toUpperCase(),headers:Je.normalize().toJSON(),body:Re,duplex:"half",credentials:ee?Ce:void 0};lt=E&&new m(J,ye);let He=await(E?Zt(lt,vn):Zt(J,ye));const ft=M&&(ie==="stream"||ie==="response");if(M&&(at||ft&&Ot)){const G={};["status","statusText","headers"].forEach(rt=>{G[rt]=He[rt]});const ue=fe.toFiniteNumber(He.headers.get("content-length")),[De,Me]=at&&Jd(ue,Lu($d(at),!0))||[];He=new p(tg(He.body,ng,De,()=>{Me&&Me(),Ot&&Ot()}),G)}ie=ie||"text";let ot=await B[fe.findKey(B,ie)||"text"](He,$);return!ft&&Ot&&Ot(),await new Promise((G,ue)=>{e2(G,ue,{data:ot,headers:ni.from(He.headers),status:He.status,statusText:He.statusText,config:$,request:lt})})}catch(ee){throw Ot&&Ot(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,$,lt,ee&&ee.response),{cause:ee.cause||ee}):ct.from(ee,ee&&ee.code,$,lt,ee&&ee.response)}}},q3=new Map,r2=h=>{let g=h&&h.env||{};const{fetch:m,Request:p,Response:A}=g,E=[p,A,m];let T=E.length,R=T,D,v,M=q3;for(;R--;)D=E[R],v=M.get(D),v===void 0&&M.set(D,v=R?new Map:X3(g)),M=v;return v};r2();const u0={http:c3,xhr:P3,fetch:{get:r2}};fe.forEach(u0,(h,g)=>{if(h){try{Object.defineProperty(h,"name",{value:g})}catch{}Object.defineProperty(h,"adapterName",{value:g})}});const lg=h=>`- ${h}`,K3=h=>fe.isFunction(h)||h===null||h===!1;function Z3(h,g){h=fe.isArray(h)?h:[h];const{length:m}=h;let p,A;const E={};for(let T=0;T<m;T++){p=h[T];let R;if(A=p,!K3(p)&&(A=u0[(R=String(p)).toLowerCase()],A===void 0))throw new ct(`Unknown adapter '${R}'`);if(A&&(fe.isFunction(A)||(A=A.get(g))))break;E[R||"#"+T]=A}if(!A){const T=Object.entries(E).map(([D,v])=>`adapter ${D} `+(v===!1?"is not supported by the environment":"is not available in the build"));let R=m?T.length>1?`since :
`+T.map(lg).join(`
`):" "+lg(T[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+R,"ERR_NOT_SUPPORT")}return A}const i2={getAdapter:Z3,adapters:u0};function jf(h){if(h.cancelToken&&h.cancelToken.throwIfRequested(),h.signal&&h.signal.aborted)throw new So(null,h)}function sg(h){return jf(h),h.headers=ni.from(h.headers),h.data=Pf.call(h,h.transformRequest),["post","put","patch"].indexOf(h.method)!==-1&&h.headers.setContentType("application/x-www-form-urlencoded",!1),i2.getAdapter(h.adapter||vo.adapter,h)(h).then(function(p){return jf(h),p.data=Pf.call(h,h.transformResponse,p),p.headers=ni.from(p.headers),p},function(p){return $g(p)||(jf(h),p&&p.response&&(p.response.data=Pf.call(h,h.transformResponse,p.response),p.response.headers=ni.from(p.response.headers))),Promise.reject(p)})}const a2="1.13.5",Yu={};["object","boolean","number","function","string","symbol"].forEach((h,g)=>{Yu[h]=function(p){return typeof p===h||"a"+(g<1?"n ":" ")+h}});const og={};Yu.transitional=function(g,m,p){function A(E,T){return"[Axios v"+a2+"] Transitional option '"+E+"'"+T+(p?". "+p:"")}return(E,T,R)=>{if(g===!1)throw new ct(A(T," has been removed"+(m?" in "+m:"")),ct.ERR_DEPRECATED);return m&&!og[T]&&(og[T]=!0,console.warn(A(T," has been deprecated since v"+m+" and will be removed in the near future"))),g?g(E,T,R):!0}};Yu.spelling=function(g){return(m,p)=>(console.warn(`${p} is likely a misspelling of ${g}`),!0)};function Q3(h,g,m){if(typeof h!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const p=Object.keys(h);let A=p.length;for(;A-- >0;){const E=p[A],T=g[E];if(T){const R=h[E],D=R===void 0||T(R,E,h);if(D!==!0)throw new ct("option "+E+" must be "+D,ct.ERR_BAD_OPTION_VALUE);continue}if(m!==!0)throw new ct("Unknown option "+E,ct.ERR_BAD_OPTION)}}const Iu={assertOptions:Q3,validators:Yu},Mi=Iu.validators;let Xl=class{constructor(g){this.defaults=g||{},this.interceptors={request:new Qd,response:new Qd}}async request(g,m){try{return await this._request(g,m)}catch(p){if(p instanceof Error){let A={};Error.captureStackTrace?Error.captureStackTrace(A):A=new Error;const E=A.stack?A.stack.replace(/^.+\n/,""):"";try{p.stack?E&&!String(p.stack).endsWith(E.replace(/^.+\n.+\n/,""))&&(p.stack+=`
`+E):p.stack=E}catch{}}throw p}}_request(g,m){typeof g=="string"?(m=m||{},m.url=g):m=g||{},m=ql(this.defaults,m);const{transitional:p,paramsSerializer:A,headers:E}=m;p!==void 0&&Iu.assertOptions(p,{silentJSONParsing:Mi.transitional(Mi.boolean),forcedJSONParsing:Mi.transitional(Mi.boolean),clarifyTimeoutError:Mi.transitional(Mi.boolean),legacyInterceptorReqResOrdering:Mi.transitional(Mi.boolean)},!1),A!=null&&(fe.isFunction(A)?m.paramsSerializer={serialize:A}:Iu.assertOptions(A,{encode:Mi.function,serialize:Mi.function},!0)),m.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?m.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:m.allowAbsoluteUrls=!0),Iu.assertOptions(m,{baseUrl:Mi.spelling("baseURL"),withXsrfToken:Mi.spelling("withXSRFToken")},!0),m.method=(m.method||this.defaults.method||"get").toLowerCase();let T=E&&fe.merge(E.common,E[m.method]);E&&fe.forEach(["delete","get","head","post","put","patch","common"],$=>{delete E[$]}),m.headers=ni.concat(T,E);const R=[];let D=!0;this.interceptors.request.forEach(function(J){if(typeof J.runWhen=="function"&&J.runWhen(m)===!1)return;D=D&&J.synchronous;const le=m.transitional||s0;le&&le.legacyInterceptorReqResOrdering?R.unshift(J.fulfilled,J.rejected):R.push(J.fulfilled,J.rejected)});const v=[];this.interceptors.response.forEach(function(J){v.push(J.fulfilled,J.rejected)});let M,B=0,ae;if(!D){const $=[sg.bind(this),void 0];for($.unshift(...R),$.push(...v),ae=$.length,M=Promise.resolve(m);B<ae;)M=M.then($[B++],$[B++]);return M}ae=R.length;let me=m;for(;B<ae;){const $=R[B++],J=R[B++];try{me=$(me)}catch(le){J.call(this,le);break}}try{M=sg.call(this,me)}catch($){return Promise.reject($)}for(B=0,ae=v.length;B<ae;)M=M.then(v[B++],v[B++]);return M}getUri(g){g=ql(this.defaults,g);const m=t2(g.baseURL,g.url,g.allowAbsoluteUrls);return Wg(m,g.params,g.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(g){Xl.prototype[g]=function(m,p){return this.request(ql(p||{},{method:g,url:m,data:(p||{}).data}))}});fe.forEach(["post","put","patch"],function(g){function m(p){return function(E,T,R){return this.request(ql(R||{},{method:g,headers:p?{"Content-Type":"multipart/form-data"}:{},url:E,data:T}))}}Xl.prototype[g]=m(),Xl.prototype[g+"Form"]=m(!0)});let W3=class l2{constructor(g){if(typeof g!="function")throw new TypeError("executor must be a function.");let m;this.promise=new Promise(function(E){m=E});const p=this;this.promise.then(A=>{if(!p._listeners)return;let E=p._listeners.length;for(;E-- >0;)p._listeners[E](A);p._listeners=null}),this.promise.then=A=>{let E;const T=new Promise(R=>{p.subscribe(R),E=R}).then(A);return T.cancel=function(){p.unsubscribe(E)},T},g(function(E,T,R){p.reason||(p.reason=new So(E,T,R),m(p.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(g){if(this.reason){g(this.reason);return}this._listeners?this._listeners.push(g):this._listeners=[g]}unsubscribe(g){if(!this._listeners)return;const m=this._listeners.indexOf(g);m!==-1&&this._listeners.splice(m,1)}toAbortSignal(){const g=new AbortController,m=p=>{g.abort(p)};return this.subscribe(m),g.signal.unsubscribe=()=>this.unsubscribe(m),g.signal}static source(){let g;return{token:new l2(function(A){g=A}),cancel:g}}};function J3(h){return function(m){return h.apply(null,m)}}function $3(h){return fe.isObject(h)&&h.isAxiosError===!0}const Qf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qf).forEach(([h,g])=>{Qf[g]=h});function s2(h){const g=new Xl(h),m=Pg(Xl.prototype.request,g);return fe.extend(m,Xl.prototype,g,{allOwnKeys:!0}),fe.extend(m,g,null,{allOwnKeys:!0}),m.create=function(A){return s2(ql(h,A))},m}const Wn=s2(vo);Wn.Axios=Xl;Wn.CanceledError=So;Wn.CancelToken=W3;Wn.isCancel=$g;Wn.VERSION=a2;Wn.toFormData=Vu;Wn.AxiosError=ct;Wn.Cancel=Wn.CanceledError;Wn.all=function(g){return Promise.all(g)};Wn.spread=J3;Wn.isAxiosError=$3;Wn.mergeConfig=ql;Wn.AxiosHeaders=ni;Wn.formToJSON=h=>Jg(fe.isHTMLForm(h)?new FormData(h):h);Wn.getAdapter=i2.getAdapter;Wn.HttpStatusCode=Qf;Wn.default=Wn;const{Axios:ww,AxiosError:bw,CanceledError:Ew,isCancel:Aw,CancelToken:Cw,VERSION:vw,all:Sw,Cancel:Tw,isAxiosError:_w,spread:Ow,toFormData:Nw,AxiosHeaders:Rw,HttpStatusCode:Iw,formToJSON:Mw,getAdapter:Dw,mergeConfig:Bw}=Wn,ew="https://www.googleapis.com/books/v1/volumes",tw=async h=>{try{const g=await Wn.get(`${ew}?q=isbn:${h}`);if(g.data.totalItems===0||!g.data.items)return null;const m=g.data.items[0].volumeInfo;let p=m.imageLinks?.thumbnail?.replace("http:","https:")||"";return{isbn:h,title:m.title,authors:m.authors||["Unknown Author"],description:m.description||"",thumbnail:p,pageCount:m.pageCount,publishedDate:m.publishedDate}}catch(g){return console.error("Error fetching book details:",g),null}},nw=()=>{const h=ku(),[g,m]=de.useState(!0),[p,A]=de.useState(null),[E,T]=de.useState(!1),[R,D]=de.useState(!1),v=async me=>{m(!1),D(!0),T(!0);const $=me.replace(/-/g,""),J=await tw($);D(!1),A(J||{isbn:$,title:"Unknown Book",authors:[]})},M=async()=>{p&&p.isbn&&(await gy({isbn:p.isbn,title:p.title||"Unknown Title",authors:p.authors||[],description:p.description,thumbnail:p.thumbnail,pageCount:p.pageCount,publishedDate:p.publishedDate}),h("/"))},B=()=>{T(!1),A(null),m(!0)},ae=()=>{h("/")};return Le.jsxs("div",{className:"h-full",children:[g&&Le.jsx(Cx,{onScanSuccess:v,onClose:ae}),Le.jsx(vx,{isOpen:E,book:p,onConfirm:M,onCancel:B,isLoading:R})]})};function rw(){const h=ku();return Le.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md border-b border-gray-200 z-40 h-16 flex items-center px-4 shadow-sm",children:Le.jsx("div",{className:"max-w-3xl w-full mx-auto flex items-center justify-between",children:Le.jsxs("div",{onClick:()=>h("/"),className:"flex items-center gap-2 cursor-pointer",children:[Le.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white",children:Le.jsx(Ig,{size:20,className:"stroke-[2.5]"})}),Le.jsx("h1",{className:"font-bold text-xl text-gray-900 tracking-tight",children:"LibScan"})]})})})}function iw(){return Le.jsx(ty,{basename:"/barcode-read",children:Le.jsxs("div",{className:"min-h-screen bg-gray-50 pt-16",children:[Le.jsx(rw,{}),Le.jsx("main",{className:"max-w-3xl mx-auto p-4 min-h-[calc(100vh-4rem)]",children:Le.jsxs(Ip,{children:[Le.jsx(Vf,{path:"/",element:Le.jsx(ky,{})}),Le.jsx(Vf,{path:"/scan",element:Le.jsx(nw,{})})]})})]})})}Bm.createRoot(document.getElementById("root")).render(Le.jsx(de.StrictMode,{children:Le.jsx(iw,{})}));
